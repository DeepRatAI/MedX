"""
ICD-10 Catalog Generator - MedeX
================================
Generador procedural de condiciones medicas basado en ICD-10-CM.
Permite escalar la KB a miles de condiciones de forma eficiente.
"""

from dataclasses import dataclass, field
from typing import List, Dict, Optional


@dataclass
class MedicalCondition:
    """Estructura de condicion medica."""

    icd10_code: str
    name: str
    description: str
    category: str
    symptoms: List[str] = field(default_factory=list)
    risk_factors: List[str] = field(default_factory=list)
    diagnostic_criteria: List[str] = field(default_factory=list)
    treatment_guidelines: List[str] = field(default_factory=list)
    emergency_signs: List[str] = field(default_factory=list)


# ICD-10 Chapter Structure for procedural generation
ICD10_CHAPTERS = {
    "A00-B99": "Infectious and Parasitic Diseases",
    "C00-D49": "Neoplasms",
    "D50-D89": "Blood and Immune Disorders",
    "E00-E89": "Endocrine, Nutritional and Metabolic",
    "F01-F99": "Mental and Behavioral Disorders",
    "G00-G99": "Nervous System Diseases",
    "H00-H59": "Eye and Adnexa Diseases",
    "H60-H95": "Ear and Mastoid Diseases",
    "I00-I99": "Circulatory System Diseases",
    "J00-J99": "Respiratory System Diseases",
    "K00-K95": "Digestive System Diseases",
    "L00-L99": "Skin and Subcutaneous Diseases",
    "M00-M99": "Musculoskeletal Diseases",
    "N00-N99": "Genitourinary Diseases",
    "O00-O9A": "Pregnancy and Childbirth",
    "P00-P96": "Perinatal Conditions",
    "Q00-Q99": "Congenital Malformations",
    "R00-R99": "Symptoms and Signs",
    "S00-T88": "Injury and Poisoning",
    "V00-Y99": "External Causes",
    "Z00-Z99": "Health Status Factors",
}


def generate_condition(
    code: str,
    name: str,
    category: str,
    symptoms: List[str],
    risk_factors: List[str],
    criteria: List[str],
    treatment: List[str],
    emergency: List[str] = None,
) -> MedicalCondition:
    """Factory function para crear condiciones."""
    return MedicalCondition(
        icd10_code=code,
        name=name,
        description=f"{name} - {category}",
        category=category,
        symptoms=symptoms,
        risk_factors=risk_factors,
        diagnostic_criteria=criteria,
        treatment_guidelines=treatment,
        emergency_signs=emergency or [],
    )


# =============================================================================
# BATCH 1: NEOPLASMS (C00-D49) - 50 conditions
# =============================================================================
NEOPLASM_CONDITIONS: Dict[str, MedicalCondition] = {}

_neoplasms = [
    (
        "C18.9",
        "Colon Cancer",
        [
            "change in bowel habits",
            "rectal bleeding",
            "abdominal pain",
            "weight loss",
            "fatigue",
        ],
        [
            "age >50",
            "family history",
            "inflammatory bowel disease",
            "high-fat diet",
            "smoking",
        ],
        [
            "colonoscopy with biopsy",
            "CEA tumor marker",
            "CT abdomen/pelvis",
            "staging workup",
        ],
        [
            "surgical resection",
            "adjuvant chemotherapy",
            "FOLFOX regimen",
            "targeted therapy",
        ],
    ),
    (
        "C34.90",
        "Lung Cancer NOS",
        ["persistent cough", "hemoptysis", "dyspnea", "chest pain", "weight loss"],
        [
            "smoking history",
            "asbestos exposure",
            "radon exposure",
            "family history",
            "COPD",
        ],
        ["chest CT", "PET scan", "bronchoscopy with biopsy", "molecular testing"],
        [
            "surgical resection if early",
            "chemotherapy",
            "radiation therapy",
            "immunotherapy",
        ],
    ),
    (
        "C50.919",
        "Breast Cancer",
        ["breast mass", "nipple discharge", "skin changes", "axillary lymphadenopathy"],
        ["female sex", "age", "BRCA mutations", "hormone therapy", "obesity"],
        [
            "mammography",
            "breast ultrasound",
            "core needle biopsy",
            "hormone receptor testing",
        ],
        [
            "lumpectomy/mastectomy",
            "sentinel node biopsy",
            "radiation",
            "hormonal therapy",
        ],
    ),
    (
        "C61",
        "Prostate Cancer",
        ["urinary symptoms", "hematuria", "bone pain", "often asymptomatic"],
        ["age >50", "African descent", "family history", "high-fat diet"],
        [
            "PSA screening",
            "digital rectal exam",
            "transrectal ultrasound",
            "prostate biopsy",
        ],
        [
            "active surveillance",
            "prostatectomy",
            "radiation therapy",
            "androgen deprivation",
        ],
    ),
    (
        "C25.9",
        "Pancreatic Cancer",
        [
            "jaundice",
            "abdominal pain",
            "weight loss",
            "new-onset diabetes",
            "back pain",
        ],
        ["smoking", "chronic pancreatitis", "diabetes", "obesity", "family history"],
        ["CT pancreas protocol", "CA 19-9", "ERCP", "EUS with FNA"],
        ["Whipple procedure", "gemcitabine", "FOLFIRINOX", "palliative care"],
    ),
    (
        "C16.9",
        "Gastric Cancer",
        ["dyspepsia", "early satiety", "weight loss", "anemia", "melena"],
        [
            "H. pylori infection",
            "smoking",
            "diet high in salt/smoked foods",
            "family history",
        ],
        ["upper endoscopy with biopsy", "CT staging", "HER2 testing"],
        ["gastrectomy", "perioperative chemotherapy", "trastuzumab if HER2+"],
    ),
    (
        "C22.0",
        "Hepatocellular Carcinoma",
        ["abdominal pain", "hepatomegaly", "ascites", "jaundice", "weight loss"],
        ["hepatitis B/C", "cirrhosis", "aflatoxin exposure", "alcohol abuse"],
        ["AFP tumor marker", "triphasic CT", "MRI liver", "biopsy if needed"],
        ["resection if early", "liver transplant", "TACE", "sorafenib"],
    ),
    (
        "C67.9",
        "Bladder Cancer",
        ["hematuria", "dysuria", "urinary frequency", "pelvic pain"],
        [
            "smoking",
            "occupational chemical exposure",
            "chronic cystitis",
            "prior radiation",
        ],
        ["cystoscopy with biopsy", "urine cytology", "CT urogram"],
        ["TURBT", "intravesical BCG", "radical cystectomy", "chemotherapy"],
    ),
    (
        "C64.9",
        "Renal Cell Carcinoma",
        ["hematuria", "flank pain", "palpable mass", "often incidental"],
        ["smoking", "obesity", "hypertension", "VHL disease", "dialysis"],
        ["CT abdomen with contrast", "MRI if needed", "biopsy rarely needed"],
        ["partial/radical nephrectomy", "targeted therapy", "immunotherapy"],
    ),
    (
        "C43.9",
        "Melanoma",
        ["changing mole", "asymmetric lesion", "irregular borders", "color variation"],
        [
            "UV exposure",
            "fair skin",
            "multiple nevi",
            "family history",
            "immunosuppression",
        ],
        ["dermoscopy", "excisional biopsy", "sentinel node biopsy", "BRAF testing"],
        ["wide local excision", "immunotherapy", "targeted therapy", "radiation"],
    ),
    (
        "C73",
        "Thyroid Cancer",
        ["thyroid nodule", "neck swelling", "hoarseness", "dysphagia"],
        ["radiation exposure", "family history", "female sex", "iodine deficiency"],
        [
            "thyroid ultrasound",
            "FNA biopsy",
            "thyroid function tests",
            "molecular testing",
        ],
        ["thyroidectomy", "radioactive iodine", "TSH suppression", "surveillance"],
    ),
    (
        "C56.9",
        "Ovarian Cancer",
        ["abdominal bloating", "pelvic pain", "early satiety", "urinary symptoms"],
        ["BRCA mutations", "nulliparity", "endometriosis", "family history"],
        ["pelvic ultrasound", "CA-125", "CT abdomen/pelvis", "surgical staging"],
        ["cytoreductive surgery", "platinum-based chemotherapy", "PARP inhibitors"],
    ),
    (
        "C53.9",
        "Cervical Cancer",
        ["vaginal bleeding", "pelvic pain", "discharge", "often asymptomatic early"],
        ["HPV infection", "smoking", "immunosuppression", "multiple sexual partners"],
        ["Pap smear", "HPV testing", "colposcopy with biopsy", "staging MRI"],
        ["cone biopsy if early", "hysterectomy", "chemoradiation"],
    ),
    (
        "C54.1",
        "Endometrial Cancer",
        ["postmenopausal bleeding", "abnormal uterine bleeding", "pelvic pain"],
        ["obesity", "estrogen therapy", "tamoxifen", "nulliparity", "Lynch syndrome"],
        ["endometrial biopsy", "transvaginal ultrasound", "MRI staging"],
        ["hysterectomy with staging", "radiation therapy", "hormone therapy"],
    ),
    (
        "C71.9",
        "Brain Tumor NOS",
        ["headache", "seizures", "focal deficits", "personality changes", "nausea"],
        ["radiation exposure", "genetic syndromes", "immunosuppression"],
        ["MRI brain with contrast", "CT if MRI unavailable", "stereotactic biopsy"],
        ["surgical resection", "radiation therapy", "temozolomide", "supportive care"],
    ),
    (
        "C90.00",
        "Multiple Myeloma",
        ["bone pain", "fatigue", "recurrent infections", "renal insufficiency"],
        ["age >65", "African descent", "MGUS history", "family history"],
        [
            "SPEP/UPEP",
            "serum free light chains",
            "bone marrow biopsy",
            "skeletal survey",
        ],
        [
            "bortezomib-based regimen",
            "lenalidomide",
            "autologous transplant",
            "bisphosphonates",
        ],
    ),
    (
        "C81.90",
        "Hodgkin Lymphoma",
        ["painless lymphadenopathy", "B symptoms", "pruritus", "mediastinal mass"],
        ["EBV infection", "immunosuppression", "family history"],
        ["lymph node biopsy", "PET-CT staging", "bone marrow biopsy"],
        ["ABVD chemotherapy", "radiation therapy", "brentuximab vedotin"],
    ),
    (
        "C85.90",
        "Non-Hodgkin Lymphoma",
        ["lymphadenopathy", "B symptoms", "hepatosplenomegaly", "cytopenias"],
        ["immunosuppression", "autoimmune disease", "H. pylori", "EBV/HCV"],
        ["lymph node biopsy", "flow cytometry", "PET-CT staging", "bone marrow biopsy"],
        ["R-CHOP for DLBCL", "observation for indolent", "CAR-T if refractory"],
    ),
    (
        "C92.00",
        "Acute Myeloid Leukemia",
        ["fatigue", "infections", "bleeding", "bone pain", "hepatosplenomegaly"],
        ["prior chemotherapy", "radiation", "benzene exposure", "myelodysplasia"],
        [
            "CBC with differential",
            "bone marrow biopsy",
            "cytogenetics",
            "molecular testing",
        ],
        [
            "induction chemotherapy",
            "consolidation",
            "allogeneic transplant if high-risk",
        ],
    ),
    (
        "C91.00",
        "Acute Lymphoblastic Leukemia",
        ["fatigue", "bleeding", "bone pain", "lymphadenopathy", "CNS symptoms"],
        ["Down syndrome", "prior radiation", "certain genetic conditions"],
        ["CBC", "bone marrow biopsy", "flow cytometry", "cytogenetics", "LP"],
        ["multi-agent chemotherapy", "CNS prophylaxis", "transplant if high-risk"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _neoplasms:
    NEOPLASM_CONDITIONS[code] = generate_condition(
        code,
        name,
        "Oncology",
        symptoms,
        risks,
        criteria,
        treatment,
        [
            "unexplained weight loss >10%",
            "severe pain",
            "neurological changes",
            "bleeding",
        ],
    )


# =============================================================================
# BATCH 2: DERMATOLOGY (L00-L99) - 40 conditions
# =============================================================================
DERMATOLOGY_CONDITIONS: Dict[str, MedicalCondition] = {}

_dermatology = [
    (
        "L20.9",
        "Atopic Dermatitis",
        ["pruritus", "erythematous patches", "lichenification", "xerosis"],
        ["family history atopy", "asthma", "allergic rhinitis", "food allergies"],
        ["clinical diagnosis", "patch testing if contact suspected", "IgE levels"],
        [
            "emollients",
            "topical corticosteroids",
            "calcineurin inhibitors",
            "dupilumab",
        ],
    ),
    (
        "L40.0",
        "Psoriasis Vulgaris",
        ["erythematous plaques", "silver scales", "Auspitz sign", "nail changes"],
        ["family history", "stress", "infections", "medications", "obesity"],
        [
            "clinical diagnosis",
            "skin biopsy if atypical",
            "screen for psoriatic arthritis",
        ],
        ["topical steroids", "vitamin D analogs", "phototherapy", "biologics"],
    ),
    (
        "L70.0",
        "Acne Vulgaris",
        ["comedones", "papules", "pustules", "nodules", "scarring"],
        ["hormonal changes", "genetics", "certain medications", "cosmetics"],
        ["clinical diagnosis", "hormone testing if PCOS suspected"],
        ["benzoyl peroxide", "topical retinoids", "antibiotics", "isotretinoin"],
    ),
    (
        "L30.9",
        "Dermatitis NOS",
        ["erythema", "pruritus", "vesicles", "scaling", "lichenification"],
        ["irritants", "allergens", "stress", "dry skin"],
        ["clinical exam", "patch testing", "skin biopsy if needed"],
        ["avoid triggers", "emollients", "topical steroids", "antihistamines"],
    ),
    (
        "L50.9",
        "Urticaria",
        ["wheals", "pruritus", "angioedema", "dermographism"],
        ["allergies", "infections", "medications", "autoimmune", "idiopathic"],
        ["clinical diagnosis", "CBC", "TSH", "allergy testing if chronic"],
        [
            "antihistamines",
            "omalizumab",
            "avoid triggers",
            "epinephrine if anaphylaxis",
        ],
    ),
    (
        "B35.0",
        "Tinea Capitis",
        ["scalp scaling", "alopecia", "kerion", "lymphadenopathy"],
        ["children", "close contact", "immunosuppression"],
        ["KOH prep", "fungal culture", "Wood lamp"],
        ["oral griseofulvin", "terbinafine", "selenium sulfide shampoo"],
    ),
    (
        "B35.3",
        "Tinea Pedis",
        ["interdigital maceration", "scaling", "pruritus", "vesicles"],
        ["moist environment", "shared facilities", "occlusive footwear"],
        ["clinical exam", "KOH prep", "fungal culture"],
        ["topical antifungals", "oral antifungals if severe", "keep feet dry"],
    ),
    (
        "B35.4",
        "Tinea Corporis",
        ["annular plaques", "raised borders", "central clearing", "pruritus"],
        ["contact with infected persons/animals", "immunosuppression"],
        ["clinical exam", "KOH prep", "fungal culture"],
        ["topical antifungals", "oral antifungals if extensive"],
    ),
    (
        "L21.0",
        "Seborrheic Dermatitis",
        ["greasy scales", "erythema", "scalp involvement", "nasolabial folds"],
        ["Parkinson disease", "HIV", "stress", "cold weather"],
        ["clinical diagnosis", "consider HIV testing if severe"],
        ["antifungal shampoos", "topical steroids", "calcineurin inhibitors"],
    ),
    (
        "L23.9",
        "Allergic Contact Dermatitis",
        ["pruritic vesicles", "erythema", "geometric patterns", "weeping"],
        ["nickel", "poison ivy", "fragrances", "preservatives", "rubber"],
        ["clinical history", "patch testing", "distribution pattern"],
        [
            "avoid allergen",
            "topical steroids",
            "wet dressings",
            "oral steroids if severe",
        ],
    ),
    (
        "L02.91",
        "Cutaneous Abscess",
        ["painful nodule", "fluctuance", "erythema", "purulent drainage"],
        ["MRSA colonization", "IV drug use", "diabetes", "poor hygiene"],
        ["clinical exam", "culture if draining", "imaging if deep"],
        ["incision and drainage", "antibiotics if cellulitis", "wound care"],
    ),
    (
        "L03.90",
        "Cellulitis",
        ["erythema", "warmth", "swelling", "pain", "fever"],
        ["skin break", "lymphedema", "obesity", "diabetes", "venous insufficiency"],
        ["clinical diagnosis", "blood cultures if septic", "ultrasound if abscess"],
        ["antibiotics covering strep/staph", "elevation", "treat underlying cause"],
    ),
    (
        "B00.1",
        "Herpes Labialis",
        ["grouped vesicles", "pain", "tingling prodrome", "crusting"],
        ["prior HSV infection", "sun exposure", "stress", "immunosuppression"],
        ["clinical diagnosis", "viral culture", "PCR if unclear"],
        ["oral antivirals", "topical antivirals", "supportive care"],
    ),
    (
        "B02.9",
        "Herpes Zoster",
        ["dermatomal vesicles", "pain", "prodrome", "postherpetic neuralgia"],
        ["prior varicella", "age >50", "immunosuppression"],
        ["clinical diagnosis", "Tzanck smear", "PCR if atypical"],
        [
            "antivirals within 72h",
            "pain management",
            "postherpetic neuralgia treatment",
        ],
    ),
    (
        "L80",
        "Vitiligo",
        ["depigmented patches", "symmetric distribution", "koebnerization"],
        ["autoimmune disease", "family history", "thyroid disease"],
        ["clinical exam", "Wood lamp", "thyroid function tests"],
        [
            "topical steroids",
            "calcineurin inhibitors",
            "phototherapy",
            "depigmentation",
        ],
    ),
    (
        "L63.9",
        "Alopecia Areata",
        ["patchy hair loss", "exclamation point hairs", "nail pitting"],
        ["autoimmune disease", "family history", "atopy", "Down syndrome"],
        ["clinical exam", "pull test", "trichoscopy", "biopsy if unclear"],
        ["topical/intralesional steroids", "minoxidil", "JAK inhibitors"],
    ),
    (
        "L82.1",
        "Seborrheic Keratosis",
        ["stuck-on appearance", "waxy surface", "variable pigmentation"],
        ["age", "sun exposure", "genetics"],
        ["clinical diagnosis", "biopsy if melanoma concern"],
        ["reassurance", "cryotherapy", "curettage if symptomatic"],
    ),
    (
        "D22.9",
        "Melanocytic Nevus",
        ["pigmented macule/papule", "regular borders", "uniform color"],
        ["sun exposure", "fair skin", "family history melanoma"],
        ["clinical exam", "dermoscopy", "biopsy if atypical features"],
        ["observation", "excision if atypical"],
    ),
    (
        "L57.0",
        "Actinic Keratosis",
        ["rough scaly patches", "sun-exposed areas", "erythematous base"],
        ["chronic sun exposure", "fair skin", "immunosuppression"],
        ["clinical exam", "biopsy if SCC concern"],
        ["cryotherapy", "topical 5-FU", "imiquimod", "photodynamic therapy"],
    ),
    (
        "C44.90",
        "Basal Cell Carcinoma",
        ["pearly papule", "telangiectasia", "rolled borders", "central ulceration"],
        ["chronic sun exposure", "fair skin", "prior BCC", "radiation exposure"],
        ["biopsy", "dermoscopy"],
        ["Mohs surgery", "excision", "topical imiquimod", "radiation"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _dermatology:
    DERMATOLOGY_CONDITIONS[code] = generate_condition(
        code,
        name,
        "Dermatology",
        symptoms,
        risks,
        criteria,
        treatment,
        ["rapidly growing lesion", "ulceration", "bleeding", "satellite lesions"],
    )


# =============================================================================
# BATCH 3: OPHTHALMOLOGY (H00-H59) - 25 conditions
# =============================================================================
OPHTHALMOLOGY_CONDITIONS: Dict[str, MedicalCondition] = {}

_ophthalmology = [
    (
        "H40.10",
        "Primary Open-Angle Glaucoma",
        ["peripheral vision loss", "halos", "elevated IOP", "optic disc cupping"],
        ["age >60", "family history", "African descent", "myopia", "diabetes"],
        ["tonometry", "gonioscopy", "visual field testing", "OCT optic nerve"],
        ["prostaglandin analogs", "beta-blockers", "laser trabeculoplasty", "surgery"],
    ),
    (
        "H40.20",
        "Acute Angle-Closure Glaucoma",
        ["severe eye pain", "headache", "nausea", "halos", "vision loss"],
        ["hyperopia", "shallow anterior chamber", "age", "female sex"],
        ["tonometry - IOP >21", "gonioscopy", "slit lamp exam"],
        ["IV mannitol", "topical miotics", "laser iridotomy", "emergent referral"],
    ),
    (
        "H25.9",
        "Age-Related Cataract",
        ["blurred vision", "glare", "decreased night vision", "faded colors"],
        ["age", "UV exposure", "diabetes", "corticosteroids", "smoking"],
        ["visual acuity", "slit lamp exam", "fundoscopy"],
        ["observation", "corrective lenses", "phacoemulsification with IOL"],
    ),
    (
        "H35.30",
        "Age-Related Macular Degeneration",
        ["central vision loss", "metamorphopsia", "drusen", "scotoma"],
        ["age >50", "smoking", "family history", "obesity", "cardiovascular disease"],
        ["Amsler grid", "fundoscopy", "OCT macula", "fluorescein angiography"],
        ["AREDS supplements", "anti-VEGF injections", "photodynamic therapy"],
    ),
    (
        "H33.00",
        "Retinal Detachment",
        ["floaters", "flashes", "curtain over vision", "vision loss"],
        [
            "myopia",
            "prior eye surgery",
            "trauma",
            "family history",
            "lattice degeneration",
        ],
        ["dilated fundoscopy", "B-scan ultrasound", "OCT"],
        ["scleral buckle", "vitrectomy", "pneumatic retinopexy", "laser"],
    ),
    (
        "H36.0",
        "Diabetic Retinopathy",
        ["blurred vision", "floaters", "often asymptomatic early", "vision loss"],
        ["diabetes duration", "poor glycemic control", "hypertension", "dyslipidemia"],
        ["dilated fundoscopy", "OCT", "fluorescein angiography"],
        ["glycemic control", "anti-VEGF", "laser photocoagulation", "vitrectomy"],
    ),
    (
        "H10.9",
        "Conjunctivitis",
        ["red eye", "discharge", "tearing", "chemosis", "lid swelling"],
        ["viral infection", "bacterial infection", "allergies", "contact lenses"],
        ["clinical exam", "culture if severe/chronic"],
        ["supportive care", "antibiotics if bacterial", "antihistamines if allergic"],
    ),
    (
        "H16.9",
        "Keratitis",
        ["eye pain", "photophobia", "tearing", "vision loss", "corneal opacity"],
        ["contact lens wear", "trauma", "HSV", "bacterial infection"],
        ["slit lamp exam", "corneal culture", "PCR for viral"],
        ["topical antibiotics", "antivirals if HSV", "avoid contacts"],
    ),
    (
        "H00.0",
        "Hordeolum (Stye)",
        ["painful lid nodule", "erythema", "swelling", "pointing"],
        ["blepharitis", "poor lid hygiene", "seborrhea"],
        ["clinical exam"],
        ["warm compresses", "lid hygiene", "topical antibiotics", "I&D if needed"],
    ),
    (
        "H01.0",
        "Blepharitis",
        ["lid margin erythema", "crusting", "burning", "foreign body sensation"],
        ["seborrhea", "rosacea", "Demodex", "meibomian gland dysfunction"],
        ["slit lamp exam", "lid margin inspection"],
        ["lid hygiene", "warm compresses", "topical antibiotics", "omega-3"],
    ),
    (
        "H04.10",
        "Dry Eye Syndrome",
        ["burning", "foreign body sensation", "tearing", "blurred vision"],
        ["age", "female sex", "autoimmune disease", "medications", "screen use"],
        ["Schirmer test", "TBUT", "slit lamp exam"],
        ["artificial tears", "cyclosporine drops", "punctal plugs", "omega-3"],
    ),
    (
        "H50.9",
        "Strabismus",
        ["eye misalignment", "diplopia", "head tilt", "amblyopia risk"],
        ["family history", "refractive error", "neurological disorders"],
        ["cover test", "ocular motility", "refraction"],
        ["glasses", "patching", "prisms", "surgery"],
    ),
    (
        "H53.00",
        "Amblyopia",
        ["reduced visual acuity", "often unilateral", "decreased depth perception"],
        ["strabismus", "anisometropia", "deprivation", "family history"],
        ["visual acuity", "refraction", "cover test"],
        ["glasses", "patching", "atropine penalization", "vision therapy"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _ophthalmology:
    OPHTHALMOLOGY_CONDITIONS[code] = generate_condition(
        code,
        name,
        "Ophthalmology",
        symptoms,
        risks,
        criteria,
        treatment,
        [
            "sudden vision loss",
            "severe eye pain",
            "chemical exposure",
            "penetrating injury",
        ],
    )


# =============================================================================
# BATCH 4: UROLOGY (N00-N99) - 25 conditions
# =============================================================================
UROLOGY_CONDITIONS: Dict[str, MedicalCondition] = {}

_urology = [
    (
        "N20.0",
        "Nephrolithiasis",
        ["flank pain", "hematuria", "nausea", "restlessness", "dysuria"],
        ["dehydration", "high sodium diet", "obesity", "family history", "gout"],
        ["CT without contrast", "urinalysis", "BMP", "stone analysis"],
        ["hydration", "analgesics", "tamsulosin", "ESWL", "ureteroscopy"],
    ),
    (
        "N39.0",
        "Urinary Tract Infection",
        ["dysuria", "frequency", "urgency", "suprapubic pain", "hematuria"],
        ["female sex", "sexual activity", "catheter", "diabetes", "obstruction"],
        ["urinalysis", "urine culture", "imaging if complicated"],
        ["nitrofurantoin", "TMP-SMX", "fluoroquinolones", "hydration"],
    ),
    (
        "N10",
        "Acute Pyelonephritis",
        ["flank pain", "fever", "chills", "nausea", "CVA tenderness"],
        ["UTI", "obstruction", "diabetes", "pregnancy", "immunosuppression"],
        ["urinalysis", "urine culture", "blood cultures", "CT if complicated"],
        ["fluoroquinolones", "ceftriaxone", "hospitalization if severe"],
    ),
    (
        "N40.0",
        "Benign Prostatic Hyperplasia",
        ["weak stream", "frequency", "nocturia", "hesitancy", "incomplete emptying"],
        ["age >50", "family history", "obesity", "metabolic syndrome"],
        ["DRE", "PSA", "urinalysis", "uroflowmetry", "post-void residual"],
        ["alpha-blockers", "5-alpha reductase inhibitors", "TURP", "laser therapy"],
    ),
    (
        "N41.0",
        "Acute Prostatitis",
        ["perineal pain", "fever", "dysuria", "frequency", "tender prostate"],
        ["UTI", "catheterization", "prostatic procedures"],
        ["urinalysis", "urine culture", "avoid vigorous DRE"],
        ["fluoroquinolones", "TMP-SMX", "alpha-blockers", "prolonged course"],
    ),
    (
        "N43.3",
        "Hydrocele",
        ["scrotal swelling", "transillumination positive", "usually painless"],
        ["infection", "trauma", "tumor", "idiopathic"],
        ["physical exam", "scrotal ultrasound"],
        ["observation", "aspiration", "hydrocelectomy if symptomatic"],
    ),
    (
        "N44.0",
        "Testicular Torsion",
        [
            "sudden testicular pain",
            "nausea",
            "absent cremasteric reflex",
            "high-riding testis",
        ],
        ["bell-clapper deformity", "prior torsion", "cold weather"],
        ["clinical diagnosis", "Doppler ultrasound if uncertain"],
        ["emergent surgical detorsion", "bilateral orchiopexy"],
    ),
    (
        "N45.9",
        "Orchitis",
        ["testicular pain", "swelling", "fever", "erythema", "dysuria"],
        ["mumps", "STI", "UTI", "trauma"],
        ["urinalysis", "urine culture", "ultrasound", "STI testing"],
        ["antibiotics", "scrotal support", "NSAIDs", "rest"],
    ),
    (
        "N45.1",
        "Epididymitis",
        ["scrotal pain", "swelling", "fever", "positive Prehn sign", "dysuria"],
        ["STI in young men", "UTI in older men", "catheterization"],
        ["urinalysis", "urine culture", "STI testing", "ultrasound"],
        ["doxycycline + ceftriaxone if STI", "fluoroquinolones if UTI"],
    ),
    (
        "N48.1",
        "Priapism",
        ["prolonged erection >4h", "pain", "not related to arousal"],
        ["sickle cell", "medications", "spinal injury", "malignancy"],
        ["blood gas from corpora", "CBC", "toxicology"],
        ["aspiration", "phenylephrine injection", "shunt surgery if refractory"],
    ),
    (
        "N52.9",
        "Erectile Dysfunction",
        ["inability to achieve/maintain erection", "reduced rigidity"],
        ["diabetes", "cardiovascular disease", "medications", "psychological"],
        ["history", "testosterone", "lipids", "glucose", "nocturnal tumescence"],
        [
            "lifestyle modification",
            "PDE5 inhibitors",
            "vacuum devices",
            "penile implant",
        ],
    ),
    (
        "N81.2",
        "Uterovaginal Prolapse",
        ["vaginal bulge", "pressure", "urinary symptoms", "bowel symptoms"],
        ["vaginal delivery", "obesity", "chronic cough", "heavy lifting"],
        ["pelvic exam", "POP-Q staging"],
        ["pelvic floor therapy", "pessary", "surgical repair"],
    ),
    (
        "N80.9",
        "Endometriosis",
        ["dysmenorrhea", "dyspareunia", "chronic pelvic pain", "infertility"],
        ["nulliparity", "early menarche", "short cycles", "family history"],
        ["clinical history", "pelvic exam", "ultrasound", "laparoscopy"],
        ["NSAIDs", "hormonal therapy", "GnRH agonists", "surgery"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _urology:
    UROLOGY_CONDITIONS[code] = generate_condition(
        code,
        name,
        "Urology",
        symptoms,
        risks,
        criteria,
        treatment,
        [
            "testicular torsion",
            "priapism >4h",
            "acute urinary retention",
            "sepsis signs",
        ],
    )


# =============================================================================
# BATCH 5: ORTHOPEDICS (M00-M99) - 20 conditions
# =============================================================================
ORTHOPEDICS_CONDITIONS: Dict[str, MedicalCondition] = {}

_orthopedics = [
    (
        "S72.00",
        "Femoral Neck Fracture",
        ["hip pain", "shortened leg", "external rotation", "inability to bear weight"],
        ["osteoporosis", "age >65", "fall", "female sex"],
        ["X-ray hip", "MRI if occult", "DEXA scan"],
        [
            "surgical fixation",
            "hemiarthroplasty",
            "total hip replacement",
            "DVT prophylaxis",
        ],
    ),
    (
        "S42.20",
        "Humeral Shaft Fracture",
        ["arm pain", "swelling", "deformity", "radial nerve palsy"],
        ["trauma", "osteoporosis", "pathologic fracture"],
        ["X-ray humerus", "assess radial nerve function"],
        ["functional bracing", "ORIF if displaced", "radial nerve monitoring"],
    ),
    (
        "S82.0",
        "Tibial Plateau Fracture",
        ["knee pain", "swelling", "inability to bear weight", "hemarthrosis"],
        ["high-energy trauma", "osteoporosis", "falls"],
        ["X-ray knee", "CT for surgical planning", "assess for compartment syndrome"],
        ["non-weight bearing", "ORIF", "knee immobilization"],
    ),
    (
        "M54.5",
        "Low Back Pain",
        ["lumbar pain", "muscle spasm", "limited ROM", "radiculopathy"],
        ["sedentary lifestyle", "heavy lifting", "obesity", "age"],
        ["clinical exam", "imaging if red flags", "MRI if radiculopathy"],
        ["NSAIDs", "physical therapy", "activity modification", "surgery if indicated"],
    ),
    (
        "M75.10",
        "Rotator Cuff Syndrome",
        ["shoulder pain", "weakness", "night pain", "positive impingement tests"],
        ["overhead activities", "age >40", "trauma", "repetitive motion"],
        ["clinical exam", "X-ray", "MRI if tear suspected"],
        ["NSAIDs", "physical therapy", "subacromial injection", "arthroscopic repair"],
    ),
    (
        "M23.20",
        "Meniscal Tear",
        ["knee pain", "locking", "catching", "joint line tenderness", "effusion"],
        ["sports", "trauma", "degenerative", "prior knee injury"],
        ["McMurray test", "MRI knee"],
        [
            "physical therapy",
            "NSAIDs",
            "arthroscopic partial meniscectomy",
            "meniscal repair",
        ],
    ),
    (
        "S83.50",
        "ACL Tear",
        ["knee giving way", "swelling", "instability", "positive Lachman"],
        ["pivoting sports", "female athletes", "prior ACL injury"],
        ["Lachman test", "pivot shift", "MRI knee"],
        ["RICE initially", "physical therapy", "ACL reconstruction"],
    ),
    (
        "M76.6",
        "Achilles Tendinitis",
        ["posterior heel pain", "stiffness", "thickening", "crepitus"],
        ["running", "fluoroquinolones", "age", "tight calves"],
        ["clinical exam", "ultrasound", "MRI if rupture concern"],
        ["eccentric exercises", "heel lifts", "NSAIDs", "PRP injections"],
    ),
    (
        "M72.0",
        "Plantar Fasciitis",
        ["heel pain", "worse with first steps", "tenderness at insertion"],
        ["obesity", "prolonged standing", "flat feet", "high arches"],
        ["clinical diagnosis", "X-ray if chronic for spur"],
        ["stretching", "orthotics", "night splints", "corticosteroid injection"],
    ),
    (
        "M20.1",
        "Hallux Valgus",
        ["bunion", "medial prominence", "toe deviation", "metatarsalgia"],
        ["narrow shoes", "family history", "flat feet", "female sex"],
        ["clinical exam", "weight-bearing X-ray"],
        ["wide shoes", "orthotics", "bunion surgery if severe"],
    ),
    (
        "M79.3",
        "Panniculitis",
        ["subcutaneous nodules", "tenderness", "erythema", "induration"],
        ["trauma", "infection", "autoimmune", "malignancy"],
        ["biopsy", "CBC", "inflammatory markers"],
        ["treat underlying cause", "NSAIDs", "compression"],
    ),
    (
        "M84.40",
        "Pathologic Fracture",
        ["bone pain", "fracture with minimal trauma", "weight loss"],
        ["metastatic cancer", "osteoporosis", "multiple myeloma", "Paget disease"],
        ["X-ray", "bone scan", "biopsy", "CT/MRI staging"],
        ["fracture stabilization", "radiation", "bisphosphonates", "treat primary"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _orthopedics:
    ORTHOPEDICS_CONDITIONS[code] = generate_condition(
        code,
        name,
        "Orthopedics",
        symptoms,
        risks,
        criteria,
        treatment,
        [
            "open fracture",
            "vascular compromise",
            "compartment syndrome",
            "cauda equina",
        ],
    )


# =============================================================================
# BATCH 6: PEDIATRICS - 20 conditions
# =============================================================================
PEDIATRICS_CONDITIONS: Dict[str, MedicalCondition] = {}

_pediatrics = [
    (
        "J06.9",
        "Upper Respiratory Infection - Pediatric",
        ["rhinorrhea", "cough", "low-grade fever", "sore throat"],
        ["daycare attendance", "viral exposure", "winter months"],
        ["clinical diagnosis", "rapid strep if pharyngitis"],
        ["supportive care", "antipyretics", "hydration"],
    ),
    (
        "J21.9",
        "Bronchiolitis",
        ["wheezing", "tachypnea", "retractions", "poor feeding", "cough"],
        ["RSV", "age <2 years", "prematurity", "daycare"],
        ["clinical diagnosis", "RSV testing", "oxygen saturation"],
        ["supportive care", "oxygen if needed", "hydration", "suctioning"],
    ),
    (
        "J05.0",
        "Croup",
        ["barking cough", "stridor", "hoarseness", "low-grade fever"],
        ["parainfluenza virus", "age 6 months-3 years", "fall season"],
        ["clinical diagnosis", "steeple sign on X-ray"],
        ["corticosteroids", "nebulized epinephrine if severe", "humidified air"],
    ),
    (
        "K52.9",
        "Gastroenteritis - Pediatric",
        ["vomiting", "diarrhea", "abdominal cramps", "fever", "dehydration"],
        ["viral (rotavirus)", "daycare", "contaminated food/water"],
        ["clinical diagnosis", "stool studies if bloody", "assess dehydration"],
        [
            "oral rehydration",
            "zinc supplementation",
            "BRAT diet",
            "antiemetics if needed",
        ],
    ),
    (
        "H66.90",
        "Acute Otitis Media",
        ["ear pain", "fever", "irritability", "tugging ear", "bulging TM"],
        ["age <2 years", "daycare", "bottle feeding", "pacifier use"],
        ["otoscopy", "pneumatic otoscopy"],
        ["amoxicillin", "watchful waiting if mild", "pain management"],
    ),
    (
        "B05.9",
        "Measles",
        [
            "fever",
            "cough",
            "coryza",
            "conjunctivitis",
            "Koplik spots",
            "maculopapular rash",
        ],
        ["unvaccinated", "exposure to case", "travel"],
        ["clinical diagnosis", "IgM serology", "viral culture"],
        ["supportive care", "vitamin A", "isolation", "report to public health"],
    ),
    (
        "B06.9",
        "Rubella",
        [
            "low-grade fever",
            "lymphadenopathy",
            "pink maculopapular rash",
            "arthralgias",
        ],
        ["unvaccinated", "exposure"],
        ["clinical diagnosis", "IgM serology"],
        ["supportive care", "isolation", "avoid pregnant women"],
    ),
    (
        "B01.9",
        "Varicella",
        ["fever", "pruritic vesicular rash", "crops of lesions", "malaise"],
        ["unvaccinated", "exposure", "immunocompromised"],
        ["clinical diagnosis"],
        [
            "supportive care",
            "calamine lotion",
            "antihistamines",
            "acyclovir if high-risk",
        ],
    ),
    (
        "B26.9",
        "Mumps",
        ["parotid swelling", "fever", "headache", "myalgia", "orchitis"],
        ["unvaccinated", "exposure"],
        ["clinical diagnosis", "IgM serology", "amylase"],
        ["supportive care", "isolation", "report to public health"],
    ),
    (
        "B37.0",
        "Oral Thrush",
        ["white plaques on oral mucosa", "difficulty feeding", "erythema"],
        ["infancy", "antibiotics", "immunosuppression", "inhaled steroids"],
        ["clinical diagnosis", "KOH prep if unclear"],
        ["nystatin suspension", "fluconazole if severe"],
    ),
    (
        "P59.9",
        "Neonatal Jaundice",
        ["yellow skin/sclera", "poor feeding", "lethargy"],
        ["prematurity", "ABO incompatibility", "breastfeeding", "G6PD deficiency"],
        ["transcutaneous bilirubin", "serum bilirubin", "Coombs test"],
        ["phototherapy", "exchange transfusion if severe", "feeding support"],
    ),
    (
        "R62.51",
        "Failure to Thrive",
        ["poor weight gain", "developmental delay", "irritability"],
        ["inadequate intake", "malabsorption", "chronic illness", "neglect"],
        ["growth chart plotting", "caloric intake assessment", "labs as indicated"],
        ["nutritional supplementation", "treat underlying cause", "close follow-up"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _pediatrics:
    PEDIATRICS_CONDITIONS[code] = generate_condition(
        code,
        name,
        "Pediatrics",
        symptoms,
        risks,
        criteria,
        treatment,
        [
            "respiratory distress",
            "severe dehydration",
            "altered mental status",
            "petechial rash",
        ],
    )


# =============================================================================
# BATCH 7: OB/GYN - 20 conditions
# =============================================================================
OBGYN_CONDITIONS: Dict[str, MedicalCondition] = {}

_obgyn = [
    (
        "O14.1",
        "Severe Preeclampsia",
        [
            "hypertension >160/110",
            "proteinuria",
            "headache",
            "visual changes",
            "epigastric pain",
        ],
        [
            "nulliparity",
            "chronic hypertension",
            "multiple gestation",
            "preeclampsia history",
        ],
        ["BP monitoring", "urinalysis", "CBC", "LFTs", "creatinine"],
        ["magnesium sulfate", "antihypertensives", "delivery if term or worsening"],
    ),
    (
        "O72.0",
        "Postpartum Hemorrhage",
        ["excessive bleeding >500mL", "hypotension", "tachycardia", "pallor"],
        ["prolonged labor", "multiple gestation", "polyhydramnios", "uterine atony"],
        ["clinical diagnosis", "CBC", "coagulation studies", "bedside ultrasound"],
        ["uterine massage", "uterotonics", "tranexamic acid", "surgical intervention"],
    ),
    (
        "O00.9",
        "Ectopic Pregnancy",
        ["pelvic pain", "amenorrhea", "vaginal bleeding", "adnexal mass"],
        ["prior ectopic", "PID history", "IUD", "tubal surgery"],
        ["beta-hCG", "transvaginal ultrasound", "progesterone"],
        ["methotrexate if stable", "surgical management if unstable"],
    ),
    (
        "O03.9",
        "Spontaneous Abortion",
        ["vaginal bleeding", "cramping", "passage of tissue", "cervical dilation"],
        ["advanced maternal age", "prior miscarriage", "chromosomal abnormalities"],
        ["beta-hCG", "ultrasound", "Rh status"],
        ["expectant management", "medical management", "D&C if incomplete"],
    ),
    (
        "O24.4",
        "Gestational Diabetes",
        ["often asymptomatic", "polyuria", "polydipsia", "macrosomia"],
        ["obesity", "family history DM", "prior GDM", "PCOS"],
        ["glucose challenge test", "OGTT", "fasting glucose"],
        ["diet modification", "exercise", "insulin if needed", "fetal surveillance"],
    ),
    (
        "N92.0",
        "Menorrhagia",
        ["heavy menstrual bleeding", "prolonged periods", "clots", "anemia symptoms"],
        ["fibroids", "adenomyosis", "coagulopathy", "IUD", "hormonal imbalance"],
        ["CBC", "coagulation studies", "pelvic ultrasound", "endometrial biopsy"],
        ["NSAIDs", "hormonal therapy", "tranexamic acid", "surgical options"],
    ),
    (
        "N94.6",
        "Dysmenorrhea",
        ["menstrual cramping", "pelvic pain", "nausea", "headache"],
        ["early menarche", "heavy periods", "endometriosis", "nulliparity"],
        ["clinical diagnosis", "ultrasound if secondary"],
        ["NSAIDs", "hormonal contraceptives", "heat therapy"],
    ),
    (
        "D25.9",
        "Uterine Fibroids",
        ["heavy bleeding", "pelvic pressure", "urinary frequency", "constipation"],
        ["African descent", "obesity", "nulliparity", "family history"],
        ["pelvic exam", "ultrasound", "MRI if complex"],
        ["observation", "hormonal therapy", "UAE", "myomectomy", "hysterectomy"],
    ),
    (
        "N70.9",
        "Pelvic Inflammatory Disease",
        [
            "lower abdominal pain",
            "fever",
            "vaginal discharge",
            "cervical motion tenderness",
        ],
        ["multiple sexual partners", "prior PID", "young age", "IUD"],
        ["clinical criteria", "STI testing", "WBC", "ultrasound"],
        ["ceftriaxone + doxycycline", "metronidazole", "partner treatment"],
    ),
    (
        "N75.1",
        "Bartholin Abscess",
        ["vulvar pain", "swelling", "dyspareunia", "fluctuant mass"],
        ["sexually active", "prior abscess", "obstruction of duct"],
        ["clinical diagnosis", "culture of drainage"],
        ["I&D with Word catheter", "marsupialization", "antibiotics if cellulitis"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _obgyn:
    OBGYN_CONDITIONS[code] = generate_condition(
        code,
        name,
        "OB/GYN",
        symptoms,
        risks,
        criteria,
        treatment,
        ["hemodynamic instability", "fetal distress", "seizures", "rupture signs"],
    )


# =============================================================================
# BATCH 8: ENT (H60-H95 + J00-J39) - 20 conditions
# =============================================================================
ENT_CONDITIONS: Dict[str, MedicalCondition] = {}

_ent = [
    (
        "J32.9",
        "Chronic Sinusitis",
        ["nasal congestion", "facial pain", "purulent discharge", "anosmia"],
        ["allergies", "deviated septum", "nasal polyps", "prior acute sinusitis"],
        ["clinical diagnosis", "CT sinuses if chronic", "nasal endoscopy"],
        [
            "saline irrigation",
            "intranasal steroids",
            "antibiotics if acute",
            "surgery if refractory",
        ],
    ),
    (
        "J35.1",
        "Tonsillar Hypertrophy",
        ["snoring", "sleep apnea", "dysphagia", "recurrent tonsillitis"],
        ["recurrent infections", "allergies", "pediatric age"],
        ["physical exam", "sleep study if OSA suspected"],
        ["observation", "tonsillectomy if indicated"],
    ),
    (
        "J03.90",
        "Acute Tonsillitis",
        ["sore throat", "fever", "dysphagia", "tonsillar exudate", "lymphadenopathy"],
        ["viral or bacterial infection", "close contact"],
        ["rapid strep test", "throat culture", "monospot if suspected"],
        ["penicillin if GAS", "supportive care", "steroids if severe"],
    ),
    (
        "J36",
        "Peritonsillar Abscess",
        ["severe sore throat", "trismus", "hot potato voice", "uvular deviation"],
        ["preceding tonsillitis", "smoking", "dental infection"],
        ["clinical diagnosis", "CT neck if unclear", "needle aspiration"],
        ["I&D or needle aspiration", "antibiotics", "steroids", "hydration"],
    ),
    (
        "H81.10",
        "Benign Positional Vertigo",
        ["vertigo with position change", "nystagmus", "nausea", "brief episodes"],
        ["head trauma", "inner ear disease", "age"],
        ["Dix-Hallpike maneuver", "clinical diagnosis"],
        ["Epley maneuver", "vestibular rehabilitation", "meclizine PRN"],
    ),
    (
        "H81.0",
        "Meniere Disease",
        ["vertigo episodes", "fluctuating hearing loss", "tinnitus", "aural fullness"],
        ["autoimmune", "viral", "genetic factors"],
        ["audiometry", "clinical criteria", "MRI to exclude tumor"],
        ["low-sodium diet", "diuretics", "betahistine", "intratympanic steroids"],
    ),
    (
        "H91.90",
        "Sensorineural Hearing Loss",
        ["hearing difficulty", "tinnitus", "difficulty with speech"],
        ["age", "noise exposure", "ototoxic medications", "genetics"],
        ["audiometry", "tympanometry", "MRI if asymmetric"],
        ["hearing aids", "cochlear implant", "assistive devices"],
    ),
    (
        "J38.00",
        "Vocal Cord Paralysis",
        ["hoarseness", "breathy voice", "aspiration", "weak cough"],
        ["surgery", "intubation", "malignancy", "stroke", "viral"],
        ["laryngoscopy", "CT/MRI neck and chest", "EMG"],
        ["speech therapy", "vocal fold injection", "thyroplasty"],
    ),
    (
        "R04.0",
        "Epistaxis",
        ["nasal bleeding", "anterior or posterior", "clots"],
        ["dry air", "trauma", "anticoagulation", "hypertension", "coagulopathy"],
        ["anterior rhinoscopy", "CBC", "coagulation studies"],
        ["direct pressure", "cauterization", "nasal packing", "surgical ligation"],
    ),
    (
        "J34.2",
        "Deviated Nasal Septum",
        ["nasal obstruction", "recurrent sinusitis", "nosebleeds", "snoring"],
        ["trauma", "developmental"],
        ["anterior rhinoscopy", "CT if surgery planned"],
        ["observation", "nasal steroids", "septoplasty"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _ent:
    ENT_CONDITIONS[code] = generate_condition(
        code,
        name,
        "ENT/Otolaryngology",
        symptoms,
        risks,
        criteria,
        treatment,
        [
            "airway obstruction",
            "severe bleeding",
            "orbital involvement",
            "CNS extension",
        ],
    )


# =============================================================================
# BATCH 9: HEMATOLOGY - 20 conditions
# =============================================================================
HEMATOLOGY_CONDITIONS: Dict[str, MedicalCondition] = {}

_hematology = [
    (
        "D50.9",
        "Iron Deficiency Anemia",
        ["fatigue", "pallor", "dyspnea on exertion", "pica", "koilonychia"],
        ["menorrhagia", "GI blood loss", "poor dietary intake", "malabsorption"],
        ["CBC", "iron studies", "reticulocyte count", "peripheral smear"],
        ["oral iron", "IV iron if intolerant", "treat underlying cause"],
    ),
    (
        "D51.0",
        "Vitamin B12 Deficiency Anemia",
        ["fatigue", "paresthesias", "glossitis", "cognitive changes"],
        ["pernicious anemia", "vegan diet", "gastric surgery", "metformin"],
        ["CBC", "B12 level", "methylmalonic acid", "intrinsic factor antibodies"],
        ["B12 supplementation oral or IM", "treat underlying cause"],
    ),
    (
        "D69.6",
        "Thrombocytopenia NOS",
        ["petechiae", "purpura", "bleeding", "bruising"],
        ["medications", "infection", "autoimmune", "malignancy", "liver disease"],
        ["CBC", "peripheral smear", "coagulation studies", "bone marrow if indicated"],
        ["treat underlying cause", "steroids if ITP", "IVIG", "platelet transfusion"],
    ),
    (
        "D68.9",
        "Coagulation Disorder NOS",
        ["bleeding", "bruising", "prolonged bleeding after procedures"],
        ["inherited disorders", "liver disease", "anticoagulation", "DIC"],
        ["PT/INR", "aPTT", "fibrinogen", "D-dimer", "mixing studies"],
        ["vitamin K", "FFP", "factor replacement", "treat underlying cause"],
    ),
    (
        "D65",
        "Disseminated Intravascular Coagulation",
        ["bleeding", "thrombosis", "petechiae", "organ dysfunction"],
        ["sepsis", "trauma", "malignancy", "obstetric complications"],
        ["PT/aPTT prolonged", "low fibrinogen", "elevated D-dimer", "thrombocytopenia"],
        ["treat underlying cause", "transfusion support", "heparin controversial"],
    ),
    (
        "D56.9",
        "Thalassemia",
        ["anemia", "microcytosis", "hepatosplenomegaly", "bone changes"],
        ["Mediterranean/Asian descent", "family history"],
        ["CBC", "hemoglobin electrophoresis", "iron studies", "genetic testing"],
        [
            "transfusion program",
            "iron chelation",
            "folic acid",
            "bone marrow transplant",
        ],
    ),
    (
        "D57.1",
        "Sickle Cell Disease with Crisis",
        ["pain crisis", "acute chest syndrome", "stroke", "splenic sequestration"],
        ["African descent", "homozygous HbS"],
        ["CBC", "reticulocyte count", "hemoglobin electrophoresis", "LDH"],
        ["hydration", "pain management", "oxygen", "transfusion", "hydroxyurea"],
    ),
    (
        "D66",
        "Hemophilia A",
        [
            "hemarthrosis",
            "prolonged bleeding",
            "muscle hematomas",
            "excessive bruising",
        ],
        ["X-linked inheritance", "family history", "male sex"],
        ["aPTT prolonged", "factor VIII assay", "genetic testing"],
        ["factor VIII replacement", "desmopressin", "emicizumab prophylaxis"],
    ),
    (
        "D69.3",
        "Immune Thrombocytopenic Purpura",
        ["petechiae", "purpura", "mucosal bleeding", "isolated thrombocytopenia"],
        ["autoimmune", "post-viral", "medications"],
        ["CBC - isolated thrombocytopenia", "peripheral smear", "exclude other causes"],
        ["observation if mild", "steroids", "IVIG", "rituximab", "splenectomy"],
    ),
    (
        "D70.9",
        "Neutropenia",
        ["recurrent infections", "fever", "oral ulcers"],
        ["chemotherapy", "medications", "autoimmune", "bone marrow failure"],
        ["CBC with differential", "peripheral smear", "bone marrow biopsy"],
        ["G-CSF", "treat infections", "remove offending drug"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _hematology:
    HEMATOLOGY_CONDITIONS[code] = generate_condition(
        code,
        name,
        "Hematology",
        symptoms,
        risks,
        criteria,
        treatment,
        [
            "active bleeding",
            "febrile neutropenia",
            "acute chest syndrome",
            "stroke signs",
        ],
    )


# =============================================================================
# BATCH 10: TOXICOLOGY/POISONING - 20 conditions
# =============================================================================
TOXICOLOGY_CONDITIONS: Dict[str, MedicalCondition] = {}

_toxicology = [
    (
        "T39.1",
        "Acetaminophen Toxicity",
        ["nausea", "vomiting", "RUQ pain", "jaundice", "hepatic failure"],
        ["intentional overdose", "chronic use", "alcohol use", "malnutrition"],
        ["serum acetaminophen level", "LFTs", "INR", "Rumack-Matthew nomogram"],
        ["N-acetylcysteine", "supportive care", "liver transplant if fulminant"],
    ),
    (
        "T43.0",
        "Tricyclic Antidepressant Toxicity",
        [
            "altered mental status",
            "seizures",
            "cardiac arrhythmias",
            "anticholinergic symptoms",
        ],
        ["intentional overdose", "polypharmacy"],
        ["ECG - wide QRS", "drug levels", "ABG"],
        [
            "sodium bicarbonate for QRS widening",
            "benzodiazepines for seizures",
            "supportive care",
        ],
    ),
    (
        "T40.1",
        "Opioid Overdose",
        [
            "respiratory depression",
            "pinpoint pupils",
            "decreased consciousness",
            "cyanosis",
        ],
        ["opioid use disorder", "polydrug use", "fentanyl contamination"],
        ["clinical diagnosis", "naloxone response", "urine drug screen"],
        ["naloxone", "airway management", "observation for renarcotization"],
    ),
    (
        "T51.0",
        "Ethanol Intoxication",
        ["altered mental status", "ataxia", "slurred speech", "respiratory depression"],
        ["alcohol use disorder", "binge drinking"],
        ["serum ethanol level", "glucose", "electrolytes", "osmolar gap"],
        ["supportive care", "thiamine", "glucose if hypoglycemic", "airway protection"],
    ),
    (
        "T51.1",
        "Methanol Poisoning",
        [
            "visual disturbances",
            "abdominal pain",
            "altered mental status",
            "metabolic acidosis",
        ],
        ["ingestion of wood alcohol", "contaminated alcohol"],
        ["serum methanol", "ABG - anion gap acidosis", "osmolar gap"],
        ["fomepizole or ethanol", "hemodialysis", "folate", "supportive care"],
    ),
    (
        "T60.0",
        "Organophosphate Poisoning",
        [
            "salivation",
            "lacrimation",
            "urination",
            "defecation",
            "miosis",
            "bradycardia",
        ],
        ["agricultural exposure", "intentional ingestion"],
        ["clinical toxidrome", "RBC cholinesterase levels"],
        ["atropine", "pralidoxime", "decontamination", "supportive care"],
    ),
    (
        "T62.0",
        "Mushroom Poisoning",
        ["GI symptoms", "hepatotoxicity", "renal failure", "neurological symptoms"],
        ["foraging wild mushrooms", "amatoxin-containing species"],
        ["clinical history", "LFTs", "renal function", "coagulation"],
        [
            "supportive care",
            "N-acetylcysteine",
            "silibinin",
            "liver transplant if severe",
        ],
    ),
    (
        "T63.0",
        "Snake Envenomation",
        ["local pain", "swelling", "coagulopathy", "neurotoxicity", "myotoxicity"],
        ["outdoor activities", "handling snakes", "geographic area"],
        ["clinical assessment", "coagulation studies", "CBC"],
        ["antivenom", "wound care", "supportive care", "tetanus prophylaxis"],
    ),
    (
        "T58",
        "Carbon Monoxide Poisoning",
        ["headache", "dizziness", "confusion", "cherry-red skin", "syncope"],
        ["enclosed space with combustion", "faulty heating", "suicide attempt"],
        ["carboxyhemoglobin level", "ABG", "neurological exam"],
        ["100% oxygen", "hyperbaric oxygen if severe", "supportive care"],
    ),
    (
        "T50.9",
        "Drug Overdose NOS",
        [
            "altered mental status",
            "vital sign abnormalities",
            "toxidrome-specific findings",
        ],
        ["intentional overdose", "accidental ingestion", "polypharmacy"],
        ["toxicology screen", "ECG", "metabolic panel", "specific drug levels"],
        ["decontamination if appropriate", "antidotes if available", "supportive care"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _toxicology:
    TOXICOLOGY_CONDITIONS[code] = generate_condition(
        code,
        name,
        "Toxicology",
        symptoms,
        risks,
        criteria,
        treatment,
        [
            "respiratory failure",
            "cardiac arrest",
            "seizures",
            "hepatic failure",
            "coagulopathy",
        ],
    )


# =============================================================================
# BATCH 11: NEPHROLOGY - 15 conditions
# =============================================================================
NEPHROLOGY_CONDITIONS: Dict[str, MedicalCondition] = {}

_nephrology = [
    (
        "N18.6",
        "End-Stage Renal Disease",
        ["fatigue", "edema", "nausea", "pruritus", "oliguria"],
        ["diabetes", "hypertension", "glomerulonephritis", "polycystic kidney disease"],
        ["eGFR <15", "urinalysis", "renal ultrasound", "kidney biopsy"],
        ["dialysis", "kidney transplant", "erythropoietin", "phosphate binders"],
    ),
    (
        "N17.9",
        "Acute Kidney Injury",
        ["oliguria", "edema", "fatigue", "nausea", "confusion"],
        ["sepsis", "nephrotoxins", "hypovolemia", "obstruction"],
        ["creatinine rise", "BUN", "urinalysis", "FENa", "renal ultrasound"],
        [
            "treat underlying cause",
            "fluid management",
            "avoid nephrotoxins",
            "dialysis if severe",
        ],
    ),
    (
        "N04.9",
        "Nephrotic Syndrome",
        ["edema", "proteinuria >3.5g/day", "hypoalbuminemia", "hyperlipidemia"],
        ["diabetes", "FSGS", "membranous nephropathy", "minimal change disease"],
        ["urinalysis", "24h urine protein", "albumin", "lipids", "kidney biopsy"],
        ["ACE inhibitors", "diuretics", "statins", "immunosuppression if indicated"],
    ),
    (
        "N03.9",
        "Chronic Glomerulonephritis",
        ["hematuria", "proteinuria", "hypertension", "edema"],
        ["IgA nephropathy", "post-infectious", "lupus nephritis", "ANCA vasculitis"],
        ["urinalysis", "creatinine", "complement levels", "ANA/ANCA", "kidney biopsy"],
        ["ACE inhibitors", "immunosuppression", "BP control", "treat underlying cause"],
    ),
    (
        "N12",
        "Tubulointerstitial Nephritis",
        ["fever", "rash", "eosinophilia", "AKI", "pyuria"],
        ["medications", "infections", "autoimmune"],
        ["urinalysis with eosinophils", "renal biopsy", "medication review"],
        ["stop offending drug", "steroids if severe", "supportive care"],
    ),
    (
        "Q61.2",
        "Polycystic Kidney Disease",
        ["flank pain", "hematuria", "hypertension", "palpable kidneys"],
        ["autosomal dominant", "family history"],
        ["renal ultrasound", "MRI", "genetic testing"],
        ["BP control", "tolvaptan", "pain management", "dialysis/transplant"],
    ),
    (
        "N13.30",
        "Hydronephrosis",
        ["flank pain", "hematuria", "UTI", "renal colic"],
        ["stones", "stricture", "tumor", "pregnancy", "BPH"],
        ["renal ultrasound", "CT urogram", "MAG3 scan"],
        ["relieve obstruction", "stent/nephrostomy", "treat underlying cause"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _nephrology:
    NEPHROLOGY_CONDITIONS[code] = generate_condition(
        code,
        name,
        "Nephrology",
        symptoms,
        risks,
        criteria,
        treatment,
        [
            "severe hyperkalemia",
            "pulmonary edema",
            "uremic encephalopathy",
            "pericarditis",
        ],
    )


# =============================================================================
# BATCH 12: ALLERGY/IMMUNOLOGY - 15 conditions
# =============================================================================
ALLERGY_CONDITIONS: Dict[str, MedicalCondition] = {}

_allergy = [
    (
        "T78.2",
        "Anaphylaxis",
        ["urticaria", "angioedema", "dyspnea", "hypotension", "GI symptoms"],
        ["food allergy", "medication allergy", "insect stings", "latex"],
        ["clinical diagnosis", "tryptase level", "allergy testing after recovery"],
        [
            "epinephrine IM",
            "antihistamines",
            "steroids",
            "IV fluids",
            "airway management",
        ],
    ),
    (
        "J30.9",
        "Allergic Rhinitis",
        ["sneezing", "rhinorrhea", "nasal congestion", "pruritus", "postnasal drip"],
        ["atopy", "family history", "environmental allergens"],
        ["clinical diagnosis", "skin prick testing", "specific IgE"],
        [
            "allergen avoidance",
            "antihistamines",
            "intranasal steroids",
            "immunotherapy",
        ],
    ),
    (
        "J45.909",
        "Allergic Asthma",
        ["wheezing", "cough", "dyspnea", "chest tightness", "nocturnal symptoms"],
        ["atopy", "allergies", "family history", "environmental triggers"],
        ["spirometry", "bronchodilator response", "allergy testing"],
        ["inhaled corticosteroids", "LABAs", "allergen avoidance", "biologics"],
    ),
    (
        "L50.0",
        "Allergic Urticaria",
        ["wheals", "pruritus", "angioedema"],
        ["food", "medications", "infections", "physical triggers"],
        ["clinical diagnosis", "allergy testing if chronic"],
        [
            "antihistamines",
            "avoid triggers",
            "omalizumab if chronic",
            "epinephrine if severe",
        ],
    ),
    (
        "D84.9",
        "Primary Immunodeficiency",
        ["recurrent infections", "failure to thrive", "autoimmunity"],
        ["family history", "consanguinity"],
        [
            "immunoglobulin levels",
            "lymphocyte subsets",
            "vaccine responses",
            "genetic testing",
        ],
        ["IVIG", "prophylactic antibiotics", "stem cell transplant if severe"],
    ),
    (
        "D80.0",
        "Hypogammaglobulinemia",
        ["recurrent sinopulmonary infections", "bronchiectasis", "autoimmunity"],
        ["CVID", "medications", "malignancy"],
        ["serum immunoglobulins", "vaccine responses", "B cell function"],
        ["IVIG/SCIG replacement", "prophylactic antibiotics", "monitoring"],
    ),
    (
        "K52.2",
        "Eosinophilic Esophagitis",
        ["dysphagia", "food impaction", "heartburn unresponsive to PPI"],
        ["atopy", "food allergies", "male sex"],
        ["endoscopy with biopsy", ">15 eosinophils/HPF", "allergy testing"],
        ["PPI trial", "topical steroids", "elimination diet", "dilation"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _allergy:
    ALLERGY_CONDITIONS[code] = generate_condition(
        code,
        name,
        "Allergy/Immunology",
        symptoms,
        risks,
        criteria,
        treatment,
        [
            "anaphylaxis",
            "angioedema with airway involvement",
            "sepsis",
            "respiratory failure",
        ],
    )


# =============================================================================
# BATCH 13: GERIATRICS - 15 conditions
# =============================================================================
GERIATRICS_CONDITIONS: Dict[str, MedicalCondition] = {}

_geriatrics = [
    (
        "F03.90",
        "Dementia NOS",
        ["memory loss", "executive dysfunction", "behavioral changes", "ADL decline"],
        ["age", "family history", "cardiovascular risk factors", "head trauma"],
        ["cognitive testing", "MRI brain", "metabolic workup", "depression screening"],
        [
            "cholinesterase inhibitors",
            "memantine",
            "behavioral interventions",
            "caregiver support",
        ],
    ),
    (
        "W19",
        "Falls in Elderly",
        ["fall history", "gait instability", "weakness", "dizziness"],
        [
            "polypharmacy",
            "vision impairment",
            "cognitive impairment",
            "environmental hazards",
        ],
        [
            "fall risk assessment",
            "gait evaluation",
            "medication review",
            "orthostatics",
        ],
        [
            "physical therapy",
            "medication adjustment",
            "home safety evaluation",
            "assistive devices",
        ],
    ),
    (
        "R54",
        "Frailty",
        ["weakness", "weight loss", "slow gait", "fatigue", "low activity"],
        ["age", "chronic diseases", "malnutrition", "inactivity"],
        [
            "frailty phenotype assessment",
            "grip strength",
            "gait speed",
            "nutritional status",
        ],
        [
            "exercise program",
            "nutritional support",
            "optimize chronic disease management",
        ],
    ),
    (
        "R41.0",
        "Delirium",
        [
            "acute confusion",
            "inattention",
            "fluctuating course",
            "altered consciousness",
        ],
        [
            "hospitalization",
            "surgery",
            "infection",
            "medications",
            "metabolic derangement",
        ],
        ["CAM assessment", "metabolic panel", "urinalysis", "medication review"],
        [
            "treat underlying cause",
            "reorientation",
            "avoid deliriogenic medications",
            "supportive care",
        ],
    ),
    (
        "F32.9",
        "Late-Life Depression",
        ["depressed mood", "anhedonia", "somatic complaints", "cognitive symptoms"],
        ["chronic illness", "bereavement", "social isolation", "prior depression"],
        ["PHQ-9", "cognitive screening", "thyroid function", "B12"],
        ["antidepressants", "psychotherapy", "social engagement", "ECT if refractory"],
    ),
    (
        "R26.89",
        "Gait Abnormality",
        ["unsteady gait", "shuffling", "festination", "falls"],
        ["Parkinson disease", "NPH", "cervical myelopathy", "peripheral neuropathy"],
        ["gait analysis", "neurological exam", "MRI spine/brain"],
        ["physical therapy", "treat underlying cause", "assistive devices"],
    ),
    (
        "N39.3",
        "Urinary Incontinence",
        ["urinary leakage", "frequency", "urgency", "incomplete emptying"],
        ["age", "multiparity", "prostate enlargement", "neurological disease"],
        ["voiding diary", "post-void residual", "urinalysis", "urodynamics"],
        [
            "behavioral therapy",
            "pelvic floor exercises",
            "medications",
            "pessary/surgery",
        ],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _geriatrics:
    GERIATRICS_CONDITIONS[code] = generate_condition(
        code,
        name,
        "Geriatrics",
        symptoms,
        risks,
        criteria,
        treatment,
        [
            "altered mental status",
            "falls with injury",
            "aspiration",
            "severe dehydration",
        ],
    )


# =============================================================================
# BATCH 14: SPORTS MEDICINE - 15 conditions
# =============================================================================
SPORTS_MEDICINE_CONDITIONS: Dict[str, MedicalCondition] = {}

_sports = [
    (
        "S06.0",
        "Concussion",
        ["headache", "confusion", "amnesia", "dizziness", "nausea"],
        ["contact sports", "prior concussion", "younger age"],
        ["SCAT5", "neurological exam", "CT if red flags"],
        ["cognitive rest", "gradual return to activity", "symptom management"],
    ),
    (
        "M76.5",
        "Patellar Tendinitis",
        ["anterior knee pain", "worse with jumping", "point tenderness"],
        ["jumping sports", "training errors", "quadriceps tightness"],
        ["clinical exam", "ultrasound", "MRI if chronic"],
        ["activity modification", "eccentric exercises", "physical therapy"],
    ),
    (
        "M77.0",
        "Medial Epicondylitis",
        ["medial elbow pain", "worse with gripping", "wrist flexion weakness"],
        ["repetitive wrist flexion", "golf", "throwing sports"],
        ["clinical exam", "provocative tests"],
        ["rest", "physical therapy", "counterforce bracing", "injection"],
    ),
    (
        "M77.1",
        "Lateral Epicondylitis",
        ["lateral elbow pain", "worse with gripping", "wrist extension weakness"],
        ["repetitive wrist extension", "tennis", "manual labor"],
        ["clinical exam", "Cozen test"],
        ["rest", "physical therapy", "counterforce bracing", "injection"],
    ),
    (
        "S93.40",
        "Ankle Sprain",
        ["ankle pain", "swelling", "ecchymosis", "instability"],
        ["sports", "prior sprains", "inadequate footwear"],
        ["Ottawa ankle rules", "X-ray if indicated", "stress testing"],
        ["RICE", "bracing", "physical therapy", "surgery if chronic instability"],
    ),
    (
        "M70.2",
        "Olecranon Bursitis",
        ["posterior elbow swelling", "pain", "fluctuance"],
        ["trauma", "repetitive pressure", "gout", "infection"],
        ["clinical exam", "aspiration if septic concern", "uric acid"],
        ["compression", "NSAIDs", "aspiration", "antibiotics if septic"],
    ),
    (
        "M25.50",
        "Joint Pain NOS",
        ["joint pain", "stiffness", "swelling", "limited ROM"],
        ["overuse", "injury", "arthritis", "infection"],
        ["clinical exam", "X-ray", "MRI if needed", "joint aspiration"],
        ["rest", "NSAIDs", "physical therapy", "treat underlying cause"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _sports:
    SPORTS_MEDICINE_CONDITIONS[code] = generate_condition(
        code,
        name,
        "Sports Medicine",
        symptoms,
        risks,
        criteria,
        treatment,
        [
            "compartment syndrome",
            "vascular injury",
            "neurological deficit",
            "open fracture",
        ],
    )


# =============================================================================
# ITERATION 7: EXPANDED SPECIALTIES
# =============================================================================

# Infectious Disease Extended (15 conditions)
INFECTIOUS_EXTENDED: Dict[str, MedicalCondition] = {}
_infectious_ext = [
    (
        "A69.20",
        "Lyme Disease",
        ["erythema migrans", "arthralgia", "fatigue", "neurological symptoms"],
        ["tick exposure", "endemic area", "outdoor activities", "spring/summer"],
        ["two-tier serologic testing", "Western blot", "clinical presentation"],
        ["doxycycline 21 days", "amoxicillin alternative", "IV ceftriaxone for neuro"],
    ),
    (
        "B02.9",
        "Herpes Zoster",
        ["dermatomal pain", "vesicular rash", "itching", "malaise"],
        ["age >50", "immunosuppression", "prior varicella", "stress"],
        ["clinical diagnosis", "Tzanck smear", "PCR if atypical"],
        ["valacyclovir 1g TID", "acyclovir", "gabapentin for neuralgia"],
    ),
    (
        "A04.72",
        "C. difficile Colitis",
        ["watery diarrhea", "abdominal cramping", "fever", "leukocytosis"],
        ["recent antibiotics", "hospitalization", "PPI use", "age >65"],
        ["stool PCR", "GDH antigen", "toxin EIA", "colonoscopy if severe"],
        ["oral vancomycin 125mg QID", "fidaxomicin", "FMT for recurrence"],
    ),
    (
        "B20",
        "HIV Infection",
        [
            "often asymptomatic",
            "acute retroviral syndrome",
            "opportunistic infections",
            "weight loss",
        ],
        ["unprotected sex", "IV drug use", "blood exposure", "perinatal transmission"],
        ["HIV Ag/Ab combo", "confirmatory Western blot", "RNA viral load", "CD4 count"],
        ["ART regimen", "bictegravir/TAF/FTC", "prophylaxis if CD4<200"],
    ),
    (
        "A41.9",
        "Sepsis",
        ["fever/hypothermia", "tachycardia", "hypotension", "altered mental status"],
        [
            "immunosuppression",
            "recent infection",
            "invasive devices",
            "extremes of age",
        ],
        ["blood cultures x2", "lactate", "procalcitonin", "source imaging"],
        [
            "broad-spectrum antibiotics within 1 hour",
            "fluid resuscitation",
            "vasopressors",
        ],
    ),
    (
        "J13",
        "Pneumococcal Pneumonia",
        ["productive cough", "fever", "pleuritic chest pain", "dyspnea"],
        ["age >65", "asplenia", "chronic disease", "smoking"],
        ["chest X-ray", "sputum culture", "urine antigen", "blood cultures"],
        ["amoxicillin high-dose", "ceftriaxone", "respiratory fluoroquinolone"],
    ),
    (
        "A15.0",
        "Pulmonary Tuberculosis",
        ["chronic cough", "hemoptysis", "night sweats", "weight loss"],
        ["endemic exposure", "HIV", "immunosuppression", "healthcare worker"],
        ["sputum AFB smear", "TB PCR", "chest X-ray", "IGRA"],
        ["RIPE therapy 6 months", "directly observed therapy", "contact tracing"],
    ),
    (
        "B37.0",
        "Oral Candidiasis",
        ["white patches", "oral pain", "dysphagia", "taste changes"],
        ["immunosuppression", "diabetes", "inhaled steroids", "antibiotics"],
        ["clinical exam", "KOH prep", "culture if resistant"],
        [
            "nystatin swish-swallow",
            "fluconazole 100mg daily",
            "address underlying cause",
        ],
    ),
    (
        "B35.0",
        "Tinea Capitis",
        ["scalp scaling", "hair loss", "kerion", "lymphadenopathy"],
        ["children", "close contact", "shared items", "immunocompromise"],
        ["KOH prep", "fungal culture", "Wood lamp"],
        ["griseofulvin oral 6-8 weeks", "terbinafine", "selenium sulfide shampoo"],
    ),
    (
        "A08.11",
        "Norovirus Gastroenteritis",
        ["vomiting", "watery diarrhea", "abdominal cramps", "low-grade fever"],
        [
            "close contact",
            "contaminated food/water",
            "healthcare setting",
            "cruise ships",
        ],
        ["clinical diagnosis", "stool PCR if needed", "dehydration assessment"],
        ["supportive care", "oral rehydration", "IV fluids if severe"],
    ),
    (
        "B00.1",
        "Herpes Labialis",
        ["prodromal tingling", "vesicular lesions", "crusting", "recurrence"],
        ["prior HSV-1", "sun exposure", "stress", "immunosuppression"],
        ["clinical diagnosis", "Tzanck smear", "PCR if uncertain"],
        ["valacyclovir 2g x2 doses", "acyclovir cream", "suppressive therapy"],
    ),
    (
        "A46",
        "Erysipelas",
        ["sharply demarcated erythema", "fever", "pain", "facial involvement"],
        ["lymphedema", "prior episode", "skin breaks", "diabetes"],
        ["clinical diagnosis", "blood cultures if septic"],
        ["penicillin V", "cephalexin", "IV antibiotics if severe"],
    ),
    (
        "B18.2",
        "Chronic Hepatitis C",
        [
            "often asymptomatic",
            "fatigue",
            "elevated transaminases",
            "cirrhosis signs late",
        ],
        ["IV drug use", "blood transfusion pre-1992", "tattoos", "healthcare exposure"],
        ["HCV antibody", "HCV RNA", "genotype", "FibroScan for staging"],
        ["DAA therapy 8-12 weeks", "sofosbuvir-based regimens", "cirrhosis monitoring"],
    ),
    (
        "A54.9",
        "Gonococcal Infection",
        ["urethral discharge", "dysuria", "pharyngitis", "pelvic pain"],
        ["unprotected sex", "multiple partners", "age 15-24", "prior STI"],
        ["NAAT testing", "culture for resistance", "test for co-infections"],
        [
            "ceftriaxone 500mg IM",
            "azithromycin if not excluded",
            "partner notification",
        ],
    ),
    (
        "A56.0",
        "Chlamydial Infection",
        ["often asymptomatic", "discharge", "dysuria", "intermenstrual bleeding"],
        ["unprotected sex", "age <25", "multiple partners", "prior STI"],
        ["NAAT from urine or swab", "test for co-infections"],
        [
            "doxycycline 100mg BID 7 days",
            "azithromycin 1g single dose",
            "retest in 3 months",
        ],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _infectious_ext:
    INFECTIOUS_EXTENDED[code] = generate_condition(
        code,
        name,
        "Infectious Disease",
        symptoms,
        risks,
        criteria,
        treatment,
        ["septic shock", "meningitis", "encephalitis", "disseminated infection"],
    )


# Cardiology Extended (15 conditions)
CARDIOLOGY_EXTENDED: Dict[str, MedicalCondition] = {}
_cardio_ext = [
    (
        "I25.10",
        "Coronary Artery Disease",
        ["angina pectoris", "dyspnea on exertion", "fatigue", "may be silent"],
        ["hypertension", "diabetes", "hyperlipidemia", "smoking", "family history"],
        ["stress testing", "coronary CTA", "cardiac catheterization", "calcium score"],
        ["aspirin", "statin", "beta-blocker", "revascularization if indicated"],
    ),
    (
        "I42.0",
        "Dilated Cardiomyopathy",
        ["dyspnea", "fatigue", "edema", "palpitations"],
        ["viral myocarditis", "alcohol", "chemotherapy", "familial", "idiopathic"],
        ["echocardiogram", "BNP", "cardiac MRI", "genetic testing"],
        ["ACE-I/ARB", "beta-blocker", "diuretics", "ICD if EF<35%"],
    ),
    (
        "I42.1",
        "Hypertrophic Cardiomyopathy",
        ["syncope", "chest pain", "dyspnea", "palpitations"],
        ["genetic mutation", "family history", "young athlete"],
        ["echocardiogram", "cardiac MRI", "genetic testing", "Holter"],
        [
            "beta-blocker",
            "avoid intense exercise",
            "ICD for high-risk",
            "septal myectomy",
        ],
    ),
    (
        "I44.2",
        "Complete Heart Block",
        ["syncope", "fatigue", "dyspnea", "dizziness"],
        ["age", "inferior MI", "Lyme disease", "cardiac surgery"],
        ["ECG", "Holter monitor", "electrophysiology study"],
        ["temporary pacing", "permanent pacemaker", "treat underlying cause"],
    ),
    (
        "I47.1",
        "Supraventricular Tachycardia",
        ["palpitations", "chest discomfort", "dyspnea", "presyncope"],
        ["caffeine", "alcohol", "stress", "Wolff-Parkinson-White"],
        ["12-lead ECG during episode", "Holter", "event monitor", "EP study"],
        ["vagal maneuvers", "adenosine", "beta-blocker", "catheter ablation"],
    ),
    (
        "I47.2",
        "Ventricular Tachycardia",
        ["palpitations", "syncope", "chest pain", "sudden death"],
        ["structural heart disease", "prior MI", "cardiomyopathy", "channelopathies"],
        ["12-lead ECG", "echocardiogram", "cardiac MRI", "EP study"],
        ["amiodarone", "ICD implantation", "catheter ablation", "treat underlying"],
    ),
    (
        "I27.0",
        "Primary Pulmonary Hypertension",
        ["dyspnea", "fatigue", "chest pain", "syncope"],
        ["young females", "connective tissue disease", "HIV", "anorexigens"],
        ["echocardiogram", "right heart catheterization", "6MWT", "CT angiography"],
        ["endothelin antagonists", "PDE5 inhibitors", "prostanoids", "anticoagulation"],
    ),
    (
        "I71.3",
        "Abdominal Aortic Aneurysm",
        [
            "usually asymptomatic",
            "pulsatile mass",
            "back pain if expanding",
            "rupture catastrophic",
        ],
        ["male >65", "smoking", "hypertension", "family history"],
        ["ultrasound screening", "CT angiography", "size monitoring"],
        ["risk factor modification", "surveillance if <5.5cm", "EVAR or open repair"],
    ),
    (
        "I70.0",
        "Peripheral Arterial Disease",
        [
            "intermittent claudication",
            "rest pain",
            "non-healing wounds",
            "erectile dysfunction",
        ],
        ["smoking", "diabetes", "hypertension", "hyperlipidemia"],
        ["ABI", "duplex ultrasound", "CT angiography", "angiography"],
        [
            "cilostazol",
            "supervised exercise",
            "revascularization",
            "amputation if severe",
        ],
    ),
    (
        "I35.0",
        "Aortic Stenosis",
        ["angina", "syncope", "heart failure", "exertional dyspnea"],
        ["bicuspid valve", "calcific degeneration", "rheumatic", "age >70"],
        ["echocardiogram", "cardiac catheterization", "dobutamine stress echo"],
        ["valve replacement SAVR/TAVR", "avoid vasodilators", "symptom monitoring"],
    ),
    (
        "I34.0",
        "Mitral Regurgitation",
        ["dyspnea", "fatigue", "palpitations", "orthopnea"],
        ["MVP", "rheumatic", "ischemic", "endocarditis", "dilated LV"],
        ["echocardiogram", "cardiac MRI", "TEE for surgical planning"],
        ["ACE-I/ARB", "beta-blocker", "mitral repair/replacement if severe"],
    ),
    (
        "I31.9",
        "Pericardial Effusion",
        ["dyspnea", "chest pain", "muffled heart sounds", "JVD"],
        ["viral", "malignancy", "uremia", "autoimmune", "post-MI"],
        ["echocardiogram", "chest X-ray", "CT", "pericardiocentesis for diagnosis"],
        [
            "treat underlying cause",
            "pericardiocentesis if tamponade",
            "pericardial window",
        ],
    ),
    (
        "I30.9",
        "Acute Pericarditis",
        [
            "sharp pleuritic chest pain",
            "pericardial rub",
            "fever",
            "diffuse ST elevation",
        ],
        ["viral", "post-MI", "uremia", "autoimmune", "malignancy"],
        ["ECG", "echocardiogram", "inflammatory markers", "cardiac MRI"],
        ["NSAIDs", "colchicine", "steroids if refractory", "treat underlying"],
    ),
    (
        "I73.9",
        "Raynaud Phenomenon",
        ["digital pallor", "cyanosis", "rubor", "cold sensitivity"],
        ["autoimmune disease", "cold exposure", "vibration injury", "female sex"],
        ["clinical diagnosis", "nailfold capillaroscopy", "ANA if secondary"],
        ["avoid cold", "calcium channel blockers", "treat underlying if secondary"],
    ),
    (
        "I82.40",
        "Deep Vein Thrombosis",
        ["leg swelling", "pain", "warmth", "Homans sign unreliable"],
        ["immobility", "surgery", "malignancy", "estrogen", "hypercoagulable"],
        ["D-dimer", "compression ultrasound", "CT venography if iliac"],
        [
            "anticoagulation 3-6 months",
            "DOAC preferred",
            "IVC filter if contraindicated",
        ],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _cardio_ext:
    CARDIOLOGY_EXTENDED[code] = generate_condition(
        code,
        name,
        "Cardiology",
        symptoms,
        risks,
        criteria,
        treatment,
        ["cardiac arrest", "cardiogenic shock", "acute pulmonary edema", "stroke"],
    )


# Pulmonology Extended (15 conditions)
PULMONOLOGY_EXTENDED: Dict[str, MedicalCondition] = {}
_pulm_ext = [
    (
        "J44.1",
        "COPD with Acute Exacerbation",
        ["increased dyspnea", "increased sputum", "purulent sputum", "wheezing"],
        ["smoking", "prior exacerbations", "winter months", "viral infection"],
        ["clinical diagnosis", "ABG if severe", "chest X-ray", "sputum culture"],
        [
            "bronchodilators",
            "systemic steroids",
            "antibiotics if purulent",
            "NIV if needed",
        ],
    ),
    (
        "J47.9",
        "Bronchiectasis",
        ["chronic productive cough", "hemoptysis", "recurrent infections", "dyspnea"],
        [
            "prior infection",
            "cystic fibrosis",
            "immune deficiency",
            "ciliary dyskinesia",
        ],
        ["HRCT chest", "sputum culture", "CF testing", "immunoglobulin levels"],
        [
            "airway clearance",
            "inhaled hypertonic saline",
            "antibiotics for exacerbations",
        ],
    ),
    (
        "J84.10",
        "Idiopathic Pulmonary Fibrosis",
        ["progressive dyspnea", "dry cough", "velcro crackles", "clubbing"],
        ["male", "age >60", "smoking", "GERD", "genetics"],
        [
            "HRCT with UIP pattern",
            "PFTs restrictive",
            "surgical lung biopsy if uncertain",
        ],
        ["pirfenidone", "nintedanib", "supplemental O2", "lung transplant evaluation"],
    ),
    (
        "J15.9",
        "Bacterial Pneumonia",
        ["productive cough", "fever", "pleuritic pain", "dyspnea"],
        ["elderly", "COPD", "aspiration risk", "immunosuppression"],
        ["chest X-ray", "sputum culture", "blood cultures", "procalcitonin"],
        ["empiric antibiotics per guidelines", "respiratory support"],
    ),
    (
        "J80",
        "Acute Respiratory Distress Syndrome",
        [
            "acute hypoxemia",
            "bilateral infiltrates",
            "respiratory failure",
            "tachypnea",
        ],
        ["sepsis", "pneumonia", "aspiration", "trauma", "pancreatitis"],
        ["PaO2/FiO2 <300", "bilateral opacities", "PCWP <18", "no cardiogenic cause"],
        [
            "low tidal volume ventilation",
            "PEEP",
            "prone positioning",
            "neuromuscular blockade",
        ],
    ),
    (
        "J96.00",
        "Acute Respiratory Failure",
        ["dyspnea", "tachypnea", "accessory muscle use", "cyanosis"],
        ["COPD", "pneumonia", "PE", "neuromuscular disease", "drug overdose"],
        ["ABG", "pulse oximetry", "chest imaging", "identify underlying cause"],
        ["supplemental O2", "NIV", "intubation if needed", "treat underlying cause"],
    ),
    (
        "J38.00",
        "Paralysis of Vocal Cords",
        ["hoarseness", "breathy voice", "dysphagia", "aspiration"],
        ["thyroid surgery", "lung cancer", "mediastinal disease", "idiopathic"],
        ["laryngoscopy", "CT neck/chest", "electromyography"],
        ["speech therapy", "vocal fold injection", "thyroplasty"],
    ),
    (
        "J67.9",
        "Hypersensitivity Pneumonitis",
        ["cough", "dyspnea", "fever", "weight loss"],
        ["bird exposure", "mold", "hot tub use", "farming"],
        ["HRCT", "BAL with lymphocytosis", "exposure history", "biopsy if needed"],
        ["antigen avoidance", "corticosteroids", "supportive care"],
    ),
    (
        "J93.11",
        "Primary Spontaneous Pneumothorax",
        ["sudden chest pain", "dyspnea", "decreased breath sounds", "tall thin male"],
        ["male", "smoking", "Marfan syndrome", "tall thin body habitus"],
        ["chest X-ray", "CT for size assessment", "ultrasound"],
        [
            "observation if small",
            "needle aspiration",
            "chest tube if large/symptomatic",
        ],
    ),
    (
        "J90",
        "Pleural Effusion",
        ["dyspnea", "pleuritic pain", "cough", "dullness to percussion"],
        ["heart failure", "malignancy", "infection", "PE", "cirrhosis"],
        ["chest X-ray", "ultrasound", "CT", "thoracentesis with analysis"],
        [
            "treat underlying cause",
            "therapeutic thoracentesis",
            "chest tube if empyema",
        ],
    ),
    (
        "J98.4",
        "Pulmonary Nodule",
        [
            "usually asymptomatic",
            "incidental finding",
            "cough",
            "hemoptysis if central",
        ],
        ["smoking", "prior malignancy", "endemic fungal areas", "age >40"],
        ["CT characterization", "PET scan if >8mm", "bronchoscopy", "biopsy"],
        ["surveillance if low-risk", "biopsy if high-risk", "resection if malignant"],
    ),
    (
        "J12.9",
        "Viral Pneumonia",
        ["dry cough", "fever", "myalgia", "dyspnea"],
        ["influenza season", "immunosuppression", "contact with sick"],
        ["chest X-ray", "viral PCR", "procalcitonin to exclude bacterial"],
        ["supportive care", "oseltamivir if influenza", "supplemental O2"],
    ),
    (
        "J45.50",
        "Severe Persistent Asthma",
        [
            "daily symptoms",
            "nocturnal symptoms",
            "activity limitation",
            "frequent exacerbations",
        ],
        ["atopy", "family history", "allergies", "occupational exposures"],
        ["spirometry", "bronchodilator response", "FeNO", "allergy testing"],
        ["ICS/LABA", "add LAMA", "biologics", "oral steroids for exacerbations"],
    ),
    (
        "J82",
        "Eosinophilic Pneumonia",
        ["cough", "dyspnea", "fever", "peripheral eosinophilia"],
        ["drug reaction", "parasites", "idiopathic", "EGPA"],
        ["BAL eosinophilia", "chest CT", "peripheral eosinophil count"],
        ["corticosteroids", "remove offending agent", "treat parasites if present"],
    ),
    (
        "G47.33",
        "Obstructive Sleep Apnea",
        ["snoring", "witnessed apneas", "daytime somnolence", "morning headaches"],
        ["obesity", "male", "large neck", "craniofacial abnormalities"],
        ["polysomnography", "home sleep testing", "Epworth sleepiness scale"],
        ["CPAP", "weight loss", "positional therapy", "surgery if anatomic"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _pulm_ext:
    PULMONOLOGY_EXTENDED[code] = generate_condition(
        code,
        name,
        "Pulmonology",
        symptoms,
        risks,
        criteria,
        treatment,
        ["respiratory failure", "pneumothorax", "massive hemoptysis", "septic shock"],
    )


# Gastroenterology Extended (15 conditions)
GASTRO_EXTENDED: Dict[str, MedicalCondition] = {}
_gastro_ext = [
    (
        "K50.90",
        "Crohn Disease",
        ["abdominal pain", "diarrhea", "weight loss", "perianal disease"],
        ["family history", "smoking", "Jewish ancestry", "age 15-35"],
        [
            "colonoscopy with biopsy",
            "MR enterography",
            "fecal calprotectin",
            "inflammatory markers",
        ],
        ["5-ASA", "corticosteroids", "immunomodulators", "biologics"],
    ),
    (
        "K51.90",
        "Ulcerative Colitis",
        ["bloody diarrhea", "urgency", "tenesmus", "abdominal pain"],
        ["family history", "non-smoker", "Jewish ancestry", "age 15-35"],
        [
            "colonoscopy with biopsy",
            "fecal calprotectin",
            "stool studies to exclude infection",
        ],
        [
            "5-ASA",
            "corticosteroids",
            "immunomodulators",
            "biologics",
            "colectomy if refractory",
        ],
    ),
    (
        "K57.32",
        "Diverticulitis",
        ["LLQ pain", "fever", "change in bowel habits", "nausea"],
        ["low fiber diet", "age >50", "obesity", "sedentary lifestyle"],
        ["CT abdomen/pelvis", "CBC", "avoid colonoscopy acutely"],
        [
            "antibiotics",
            "bowel rest",
            "surgery if complicated",
            "fiber after resolution",
        ],
    ),
    (
        "K80.20",
        "Cholelithiasis with Cholecystitis",
        ["RUQ pain", "Murphy sign", "fever", "nausea/vomiting"],
        ["female", "fertile", "forty", "fat", "rapid weight loss"],
        ["RUQ ultrasound", "HIDA scan", "CBC", "LFTs"],
        ["cholecystectomy", "antibiotics if infected", "supportive care"],
    ),
    (
        "K85.9",
        "Acute Pancreatitis",
        [
            "epigastric pain radiating to back",
            "nausea/vomiting",
            "fever",
            "tachycardia",
        ],
        ["gallstones", "alcohol", "hypertriglyceridemia", "medications"],
        ["lipase >3x ULN", "CT if uncertain", "Ranson/APACHE scoring"],
        ["NPO", "IV fluids", "pain control", "ERCP if biliary", "cholecystectomy"],
    ),
    (
        "K74.60",
        "Cirrhosis",
        ["often asymptomatic early", "ascites", "jaundice", "encephalopathy"],
        ["alcohol", "hepatitis B/C", "NAFLD", "autoimmune"],
        ["LFTs", "FibroScan", "ultrasound", "liver biopsy if needed"],
        ["treat underlying cause", "manage complications", "transplant evaluation"],
    ),
    (
        "K70.30",
        "Alcoholic Liver Disease",
        ["hepatomegaly", "jaundice", "spider angiomas", "encephalopathy"],
        ["heavy alcohol use", "malnutrition", "female sex"],
        ["LFTs", "ultrasound", "discriminant function", "biopsy if uncertain"],
        ["abstinence", "nutritional support", "steroids if Maddrey >32", "transplant"],
    ),
    (
        "K76.0",
        "Non-alcoholic Fatty Liver Disease",
        ["often asymptomatic", "fatigue", "RUQ discomfort", "hepatomegaly"],
        ["obesity", "diabetes", "metabolic syndrome", "hyperlipidemia"],
        ["LFTs", "ultrasound", "FibroScan", "biopsy for staging"],
        ["weight loss", "exercise", "treat metabolic syndrome", "vitamin E if NASH"],
    ),
    (
        "K21.0",
        "GERD with Esophagitis",
        ["heartburn", "regurgitation", "dysphagia", "chest pain"],
        ["obesity", "hiatal hernia", "smoking", "certain foods"],
        ["clinical diagnosis", "EGD if alarm features", "pH monitoring"],
        ["PPI", "lifestyle modifications", "fundoplication if refractory"],
    ),
    (
        "K25.9",
        "Peptic Ulcer Disease",
        ["epigastric pain", "relieved/worsened by food", "nausea", "GI bleeding"],
        ["H. pylori", "NSAID use", "smoking", "stress"],
        ["EGD with biopsy", "H. pylori testing", "CBC if bleeding"],
        ["PPI", "H. pylori eradication", "discontinue NSAIDs"],
    ),
    (
        "K59.00",
        "Constipation",
        ["infrequent stools", "straining", "hard stools", "incomplete evacuation"],
        ["low fiber", "dehydration", "sedentary", "medications", "aging"],
        ["clinical diagnosis", "colonoscopy if alarm features", "anorectal manometry"],
        ["fiber", "osmotic laxatives", "stimulant laxatives", "biofeedback"],
    ),
    (
        "K58.9",
        "Irritable Bowel Syndrome",
        [
            "abdominal pain with defecation",
            "altered bowel habits",
            "bloating",
            "no alarm features",
        ],
        ["female sex", "stress", "prior GI infection", "anxiety/depression"],
        ["Rome IV criteria", "exclude organic disease", "celiac testing"],
        ["dietary modification", "antispasmodics", "antidepressants", "probiotics"],
    ),
    (
        "K22.0",
        "Achalasia",
        ["dysphagia solids and liquids", "regurgitation", "chest pain", "weight loss"],
        ["autoimmune", "viral infection", "hereditary"],
        ["barium swallow", "manometry", "EGD to exclude malignancy"],
        ["pneumatic dilation", "Heller myotomy", "POEM", "botox injection"],
    ),
    (
        "K92.2",
        "GI Hemorrhage",
        ["hematemesis", "melena", "hematochezia", "hemodynamic instability"],
        ["NSAID use", "anticoagulation", "liver disease", "prior bleeding"],
        ["CBC", "BMP", "coagulation studies", "EGD/colonoscopy"],
        ["resuscitation", "PPI", "endoscopic therapy", "surgery if refractory"],
    ),
    (
        "K83.0",
        "Cholangitis",
        ["Charcot triad", "RUQ pain", "jaundice", "fever"],
        ["choledocholithiasis", "biliary stricture", "ERCP", "malignancy"],
        ["LFTs", "blood cultures", "RUQ ultrasound", "MRCP"],
        ["antibiotics", "biliary drainage ERCP/PTC", "supportive care"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _gastro_ext:
    GASTRO_EXTENDED[code] = generate_condition(
        code,
        name,
        "Gastroenterology",
        symptoms,
        risks,
        criteria,
        treatment,
        ["perforation", "massive hemorrhage", "hepatic failure", "septic shock"],
    )


# =============================================================================
# ITERATION 8: MORE SPECIALTY EXTENSIONS
# =============================================================================

# Neurology Extended (15 conditions)
NEUROLOGY_EXTENDED: Dict[str, MedicalCondition] = {}
_neuro_ext = [
    (
        "G40.909",
        "Epilepsy",
        ["seizures", "postictal confusion", "automatisms", "aura"],
        ["family history", "head trauma", "stroke", "brain tumor", "infection"],
        ["EEG", "MRI brain", "video EEG monitoring", "metabolic workup"],
        ["antiepileptic drugs", "lifestyle modifications", "surgery if refractory"],
    ),
    (
        "G43.909",
        "Migraine",
        ["unilateral headache", "nausea/vomiting", "photophobia", "aura"],
        [
            "family history",
            "female sex",
            "hormonal changes",
            "stress",
            "sleep disruption",
        ],
        ["clinical diagnosis", "ICHD criteria", "MRI if atypical"],
        [
            "acute: triptans, NSAIDs",
            "prophylaxis: propranolol, topiramate, CGRP antagonists",
        ],
    ),
    (
        "G35",
        "Multiple Sclerosis",
        ["optic neuritis", "weakness", "sensory symptoms", "fatigue"],
        ["female sex", "Northern latitude", "family history", "vitamin D deficiency"],
        ["MRI with gadolinium", "CSF analysis", "evoked potentials", "OCT"],
        ["disease-modifying therapy", "steroids for relapses", "symptom management"],
    ),
    (
        "G20",
        "Parkinson Disease",
        ["tremor", "bradykinesia", "rigidity", "postural instability"],
        ["age >60", "male sex", "pesticide exposure", "family history"],
        ["clinical diagnosis", "DaTscan if uncertain", "rule out secondary causes"],
        ["levodopa/carbidopa", "dopamine agonists", "MAO-B inhibitors", "DBS"],
    ),
    (
        "G30.9",
        "Alzheimer Disease",
        [
            "memory loss",
            "executive dysfunction",
            "behavioral changes",
            "language difficulty",
        ],
        ["age", "female sex", "APOE4", "family history", "cardiovascular risk"],
        ["cognitive testing", "MRI", "PET amyloid/tau", "CSF biomarkers"],
        [
            "cholinesterase inhibitors",
            "memantine",
            "supportive care",
            "caregiver support",
        ],
    ),
    (
        "G12.21",
        "Amyotrophic Lateral Sclerosis",
        ["weakness", "fasciculations", "dysarthria", "dysphagia"],
        ["age 55-75", "male sex", "family history", "military service"],
        ["EMG/NCS", "MRI spine", "genetic testing", "El Escorial criteria"],
        ["riluzole", "edaravone", "supportive care", "respiratory support"],
    ),
    (
        "G61.0",
        "Guillain-Barre Syndrome",
        [
            "ascending weakness",
            "areflexia",
            "sensory symptoms",
            "autonomic dysfunction",
        ],
        ["preceding infection", "surgery", "vaccination (rare)"],
        ["clinical presentation", "CSF albuminocytologic dissociation", "EMG/NCS"],
        ["IVIG", "plasmapheresis", "respiratory monitoring", "rehabilitation"],
    ),
    (
        "G93.40",
        "Encephalopathy",
        ["altered mental status", "confusion", "agitation", "decreased consciousness"],
        ["metabolic derangement", "infection", "hepatic failure", "uremia", "drugs"],
        ["metabolic panel", "ammonia", "toxicology", "LP if febrile", "EEG", "imaging"],
        ["treat underlying cause", "supportive care", "airway protection"],
    ),
    (
        "G44.209",
        "Tension Headache",
        [
            "bilateral pressure",
            "mild-moderate",
            "no nausea",
            "not worsened by activity",
        ],
        ["stress", "poor posture", "sleep deprivation", "caffeine withdrawal"],
        ["clinical diagnosis", "ICHD criteria"],
        ["NSAIDs", "acetaminophen", "stress management", "physical therapy"],
    ),
    (
        "G51.0",
        "Bell Palsy",
        ["unilateral facial weakness", "acute onset", "ear pain", "taste changes"],
        ["viral infection", "pregnancy", "diabetes", "immunosuppression"],
        ["clinical diagnosis", "MRI if atypical or no improvement"],
        ["prednisone 60mg 7 days", "eye protection", "physical therapy"],
    ),
    (
        "G62.9",
        "Peripheral Neuropathy",
        ["numbness", "tingling", "burning", "weakness"],
        ["diabetes", "alcohol", "B12 deficiency", "chemotherapy", "hereditary"],
        ["EMG/NCS", "glucose", "B12", "SPEP", "genetic testing"],
        ["treat underlying cause", "gabapentin", "duloxetine", "physical therapy"],
    ),
    (
        "G91.9",
        "Hydrocephalus",
        ["headache", "gait disturbance", "cognitive decline", "urinary incontinence"],
        ["SAH", "meningitis", "tumor", "congenital", "age (NPH)"],
        ["CT/MRI head", "LP with high volume tap trial"],
        ["VP shunt", "ETV", "treat underlying cause"],
    ),
    (
        "R56.9",
        "Convulsive Seizure",
        [
            "loss of consciousness",
            "tonic-clonic movements",
            "incontinence",
            "postictal confusion",
        ],
        [
            "epilepsy",
            "medication non-compliance",
            "sleep deprivation",
            "alcohol withdrawal",
        ],
        ["glucose", "electrolytes", "toxicology", "CT if first seizure", "EEG"],
        ["benzodiazepines if prolonged", "antiepileptic drugs", "identify trigger"],
    ),
    (
        "G45.9",
        "Transient Ischemic Attack",
        [
            "sudden focal neurological deficit",
            "resolution <24h",
            "speech difficulty",
            "weakness",
        ],
        ["hypertension", "diabetes", "atrial fibrillation", "carotid stenosis"],
        ["ABCD2 score", "MRI with DWI", "carotid imaging", "echocardiogram"],
        [
            "antiplatelet therapy",
            "statin",
            "risk factor modification",
            "carotid intervention",
        ],
    ),
    (
        "G83.9",
        "Paralysis",
        ["weakness", "loss of function", "spasticity or flaccidity", "sensory changes"],
        ["stroke", "spinal cord injury", "GBS", "MS", "tumor"],
        ["neurological exam", "MRI", "EMG/NCS", "LP if indicated"],
        ["rehabilitation", "treat underlying cause", "spasticity management"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _neuro_ext:
    NEUROLOGY_EXTENDED[code] = generate_condition(
        code,
        name,
        "Neurology",
        symptoms,
        risks,
        criteria,
        treatment,
        [
            "status epilepticus",
            "herniation",
            "respiratory failure",
            "stroke progression",
        ],
    )


# Endocrinology Extended (15 conditions)
ENDOCRINE_EXTENDED: Dict[str, MedicalCondition] = {}
_endo_ext = [
    (
        "E11.65",
        "Type 2 Diabetes with Hyperglycemia",
        ["polyuria", "polydipsia", "fatigue", "blurred vision"],
        ["obesity", "family history", "sedentary", "age >45", "ethnicity"],
        ["fasting glucose 126", "HbA1c 6.5%", "random glucose 200 with symptoms"],
        ["metformin", "SGLT2 inhibitors", "GLP-1 agonists", "insulin if needed"],
    ),
    (
        "E11.21",
        "Type 2 Diabetes with Nephropathy",
        ["proteinuria", "edema", "hypertension", "declining GFR"],
        ["poor glycemic control", "hypertension", "duration of diabetes"],
        ["urine albumin/creatinine ratio", "eGFR", "kidney biopsy if atypical"],
        ["SGLT2 inhibitors", "ACE-I/ARB", "finerenone", "glycemic control"],
    ),
    (
        "E11.40",
        "Type 2 Diabetes with Neuropathy",
        ["numbness", "burning pain", "ulcers", "Charcot foot"],
        ["poor glycemic control", "duration", "smoking", "alcohol"],
        ["monofilament testing", "nerve conduction studies"],
        ["glycemic control", "gabapentin", "duloxetine", "foot care"],
    ),
    (
        "E10.10",
        "Type 1 Diabetes with Ketoacidosis",
        ["polyuria", "polydipsia", "abdominal pain", "Kussmaul breathing"],
        ["insulin omission", "infection", "new diagnosis"],
        ["glucose >250", "pH <7.3", "bicarbonate <18", "ketones positive"],
        ["IV fluids", "insulin infusion", "potassium replacement", "treat precipitant"],
    ),
    (
        "E05.00",
        "Thyrotoxicosis",
        ["weight loss", "tremor", "palpitations", "heat intolerance"],
        ["Graves disease", "toxic nodule", "thyroiditis", "iodine excess"],
        ["TSH suppressed", "elevated T4/T3", "thyroid uptake scan", "TSI"],
        ["beta-blocker", "antithyroid drugs", "radioiodine", "surgery"],
    ),
    (
        "E03.9",
        "Hypothyroidism",
        ["fatigue", "weight gain", "cold intolerance", "constipation"],
        [
            "autoimmune",
            "post-thyroidectomy",
            "radioiodine",
            "lithium",
            "iodine deficiency",
        ],
        ["elevated TSH", "low free T4", "anti-TPO antibodies"],
        ["levothyroxine replacement", "titrate to TSH"],
    ),
    (
        "E24.9",
        "Cushing Syndrome",
        ["weight gain", "moon facies", "striae", "hypertension"],
        ["exogenous steroids", "pituitary adenoma", "adrenal tumor", "ectopic ACTH"],
        [
            "24h urine cortisol",
            "overnight dexamethasone suppression",
            "late-night salivary cortisol",
        ],
        ["taper steroids if exogenous", "surgery if endogenous", "medical therapy"],
    ),
    (
        "E27.1",
        "Adrenal Insufficiency",
        ["fatigue", "hypotension", "hyperpigmentation", "salt craving"],
        ["autoimmune", "adrenal hemorrhage", "infection", "pituitary disease"],
        ["morning cortisol", "ACTH stimulation test", "ACTH level"],
        ["hydrocortisone replacement", "fludrocortisone if primary", "stress dosing"],
    ),
    (
        "E21.0",
        "Primary Hyperparathyroidism",
        ["often asymptomatic", "kidney stones", "bone pain", "psychiatric symptoms"],
        ["age >50", "female sex", "neck radiation", "MEN syndromes"],
        [
            "elevated calcium",
            "elevated or inappropriately normal PTH",
            "24h urine calcium",
        ],
        ["surgery if symptomatic", "surveillance if mild", "cinacalcet"],
    ),
    (
        "E20.9",
        "Hypoparathyroidism",
        ["muscle cramps", "tetany", "perioral numbness", "seizures"],
        ["post-thyroidectomy", "autoimmune", "DiGeorge syndrome", "hypomagnesemia"],
        ["low calcium", "low PTH", "elevated phosphorus"],
        ["calcium supplementation", "vitamin D", "PTH replacement"],
    ),
    (
        "E22.0",
        "Acromegaly",
        ["enlarged hands/feet", "coarse features", "headache", "visual field defects"],
        ["pituitary adenoma", "rare ectopic GHRH"],
        ["IGF-1 elevated", "GH not suppressed with OGTT", "pituitary MRI"],
        ["transsphenoidal surgery", "somatostatin analogs", "pegvisomant"],
    ),
    (
        "E23.0",
        "Hypopituitarism",
        ["fatigue", "hypotension", "cold intolerance", "menstrual irregularity"],
        ["pituitary adenoma", "surgery", "radiation", "apoplexy", "Sheehan syndrome"],
        ["low hormone levels", "pituitary MRI", "stimulation testing"],
        ["hormone replacement therapy", "treat underlying cause"],
    ),
    (
        "E16.2",
        "Hypoglycemia",
        ["sweating", "tremor", "confusion", "loss of consciousness"],
        ["insulin excess", "sulfonylureas", "insulinoma", "adrenal insufficiency"],
        ["glucose <70", "Whipple triad", "insulin/C-peptide levels"],
        ["glucose administration", "glucagon", "identify and treat cause"],
    ),
    (
        "E66.9",
        "Obesity",
        ["BMI 30", "metabolic complications", "sleep apnea", "joint pain"],
        ["genetics", "sedentary lifestyle", "high-calorie diet", "medications"],
        ["BMI calculation", "metabolic panel", "sleep study if indicated"],
        ["lifestyle modification", "pharmacotherapy", "bariatric surgery"],
    ),
    (
        "E78.5",
        "Hyperlipidemia",
        ["often asymptomatic", "xanthomas", "premature CVD", "pancreatitis if TG high"],
        ["genetics", "obesity", "diabetes", "hypothyroidism", "diet"],
        ["lipid panel", "10-year ASCVD risk calculation"],
        ["statin therapy", "ezetimibe", "PCSK9 inhibitors", "lifestyle"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _endo_ext:
    ENDOCRINE_EXTENDED[code] = generate_condition(
        code,
        name,
        "Endocrinology",
        symptoms,
        risks,
        criteria,
        treatment,
        ["DKA/HHS", "myxedema coma", "adrenal crisis", "thyroid storm"],
    )


# Psychiatry Extended (15 conditions)
PSYCHIATRY_EXTENDED: Dict[str, MedicalCondition] = {}
_psych_ext = [
    (
        "F32.9",
        "Major Depressive Episode",
        ["depressed mood", "anhedonia", "sleep disturbance", "fatigue"],
        [
            "family history",
            "prior episode",
            "trauma",
            "chronic illness",
            "substance use",
        ],
        [
            "PHQ-9",
            "clinical interview",
            "rule out medical causes",
            "suicide assessment",
        ],
        ["SSRIs", "psychotherapy", "ECT if severe", "hospitalization if suicidal"],
    ),
    (
        "F41.1",
        "Generalized Anxiety Disorder",
        ["excessive worry", "restlessness", "fatigue", "muscle tension"],
        ["family history", "chronic stress", "childhood adversity", "female sex"],
        ["GAD-7", "clinical interview", "rule out medical causes"],
        ["SSRIs/SNRIs", "buspirone", "CBT", "relaxation techniques"],
    ),
    (
        "F41.0",
        "Panic Disorder",
        [
            "recurrent panic attacks",
            "fear of next attack",
            "avoidance behavior",
            "physical symptoms",
        ],
        ["family history", "smoking", "childhood abuse", "stressful events"],
        ["clinical criteria", "rule out cardiac/thyroid causes"],
        ["SSRIs", "CBT", "exposure therapy", "benzodiazepines short-term"],
    ),
    (
        "F40.10",
        "Social Anxiety Disorder",
        [
            "fear of social situations",
            "avoidance",
            "physical symptoms in social settings",
            "anticipatory anxiety",
        ],
        ["family history", "shy temperament", "negative experiences"],
        ["Liebowitz scale", "clinical interview"],
        ["SSRIs/SNRIs", "CBT", "exposure therapy", "beta-blockers PRN"],
    ),
    (
        "F42.9",
        "Obsessive-Compulsive Disorder",
        ["obsessions", "compulsions", "time-consuming rituals", "distress"],
        ["family history", "childhood trauma", "perfectionism"],
        ["Y-BOCS", "clinical interview"],
        ["SSRIs high-dose", "ERP therapy", "augmentation with antipsychotics"],
    ),
    (
        "F43.10",
        "Post-Traumatic Stress Disorder",
        ["re-experiencing", "avoidance", "hyperarousal", "negative cognitions"],
        ["trauma exposure", "prior trauma", "lack of support", "severity of trauma"],
        ["PCL-5", "clinical interview", "CAPS-5"],
        ["trauma-focused CBT", "EMDR", "SSRIs", "prazosin for nightmares"],
    ),
    (
        "F31.9",
        "Bipolar Disorder",
        [
            "manic episodes",
            "depressive episodes",
            "mood cycling",
            "functional impairment",
        ],
        ["family history", "substance use", "sleep deprivation"],
        ["clinical interview", "mood charting", "MDQ screening", "rule out medical"],
        [
            "mood stabilizers",
            "atypical antipsychotics",
            "avoid antidepressant monotherapy",
        ],
    ),
    (
        "F20.9",
        "Schizophrenia",
        ["hallucinations", "delusions", "disorganized speech", "negative symptoms"],
        [
            "family history",
            "prenatal complications",
            "cannabis use",
            "urban environment",
        ],
        ["clinical interview", "6-month duration", "rule out medical/substance"],
        ["antipsychotics", "clozapine if refractory", "psychosocial interventions"],
    ),
    (
        "F60.3",
        "Borderline Personality Disorder",
        ["unstable relationships", "identity disturbance", "impulsivity", "self-harm"],
        ["childhood trauma", "neglect", "family instability"],
        ["clinical interview", "structured assessments"],
        ["DBT", "mentalization-based therapy", "no specific medications"],
    ),
    (
        "F50.00",
        "Anorexia Nervosa",
        ["low BMI", "fear of weight gain", "distorted body image", "food restriction"],
        ["female sex", "perfectionism", "family history", "trauma"],
        ["BMI", "medical evaluation", "EAT-26"],
        [
            "nutritional rehabilitation",
            "CBT-E",
            "FBT for adolescents",
            "medical monitoring",
        ],
    ),
    (
        "F50.2",
        "Bulimia Nervosa",
        [
            "binge eating",
            "purging behaviors",
            "preoccupation with weight",
            "normal BMI usually",
        ],
        ["family history", "dieting history", "trauma", "low self-esteem"],
        ["clinical interview", "electrolytes", "dental exam"],
        ["CBT-E", "fluoxetine", "nutritional counseling"],
    ),
    (
        "F90.9",
        "ADHD",
        ["inattention", "hyperactivity", "impulsivity", "executive dysfunction"],
        ["genetics", "prenatal exposures", "low birth weight", "male sex"],
        ["clinical interview", "rating scales", "rule out other causes"],
        ["stimulants", "atomoxetine", "behavioral therapy", "accommodations"],
    ),
    (
        "F84.0",
        "Autism Spectrum Disorder",
        [
            "social communication deficits",
            "restricted interests",
            "sensory sensitivities",
            "routine dependence",
        ],
        ["genetics", "advanced parental age", "prenatal factors"],
        ["developmental history", "ADOS-2", "cognitive testing"],
        [
            "behavioral interventions",
            "speech therapy",
            "occupational therapy",
            "treat comorbidities",
        ],
    ),
    (
        "F10.20",
        "Alcohol Use Disorder",
        ["craving", "tolerance", "withdrawal", "continued use despite harm"],
        ["family history", "trauma", "mental illness", "early onset drinking"],
        ["AUDIT", "clinical interview", "CIWA for withdrawal"],
        ["naltrexone", "acamprosate", "disulfiram", "behavioral therapy", "AA"],
    ),
    (
        "F11.20",
        "Opioid Use Disorder",
        ["craving", "tolerance", "withdrawal", "continued use despite harm"],
        ["chronic pain", "mental illness", "trauma", "prescription opioid exposure"],
        ["clinical interview", "urine drug screen"],
        ["buprenorphine", "methadone", "naltrexone", "behavioral therapy"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _psych_ext:
    PSYCHIATRY_EXTENDED[code] = generate_condition(
        code,
        name,
        "Psychiatry",
        symptoms,
        risks,
        criteria,
        treatment,
        [
            "suicide attempt",
            "severe self-harm",
            "acute psychosis",
            "medical complications",
        ],
    )


# Rheumatology Extended (15 conditions)
RHEUMATOLOGY_EXTENDED: Dict[str, MedicalCondition] = {}
_rheum_ext = [
    (
        "M05.79",
        "Rheumatoid Arthritis",
        ["symmetric polyarthritis", "morning stiffness", "fatigue", "joint deformity"],
        ["female sex", "genetics", "smoking", "family history"],
        ["RF", "anti-CCP", "inflammatory markers", "X-ray", "ultrasound"],
        ["DMARDs (methotrexate)", "biologics", "JAK inhibitors", "steroids bridge"],
    ),
    (
        "M32.9",
        "Systemic Lupus Erythematosus",
        ["malar rash", "photosensitivity", "arthritis", "nephritis"],
        ["female sex", "African/Asian descent", "family history"],
        ["ANA", "anti-dsDNA", "complement levels", "urinalysis", "ACR criteria"],
        ["hydroxychloroquine", "steroids", "immunosuppressants", "biologics"],
    ),
    (
        "M35.9",
        "Sjogren Syndrome",
        ["dry eyes", "dry mouth", "parotid enlargement", "fatigue"],
        ["female sex", "age 40-60", "autoimmune disease"],
        ["Schirmer test", "anti-SSA/SSB", "lip biopsy", "salivary flow"],
        ["artificial tears", "saliva substitutes", "pilocarpine", "treat systemic"],
    ),
    (
        "M34.9",
        "Systemic Sclerosis",
        ["skin thickening", "Raynaud phenomenon", "dysphagia", "pulmonary fibrosis"],
        ["female sex", "silica exposure", "genetics"],
        ["ANA", "anti-Scl-70", "anti-centromere", "PFTs", "echocardiogram"],
        ["organ-specific treatment", "immunosuppression", "vasodilators"],
    ),
    (
        "M33.20",
        "Polymyositis",
        ["proximal weakness", "dysphagia", "elevated CK", "muscle pain"],
        ["female sex", "autoimmune disease", "malignancy association"],
        ["CK elevated", "EMG", "muscle biopsy", "myositis-specific antibodies"],
        ["corticosteroids", "methotrexate", "azathioprine", "IVIG"],
    ),
    (
        "M33.10",
        "Dermatomyositis",
        ["proximal weakness", "heliotrope rash", "Gottron papules", "photosensitivity"],
        ["female sex", "malignancy", "autoimmune disease"],
        ["CK", "EMG", "muscle biopsy", "cancer screening"],
        ["corticosteroids", "immunosuppressants", "IVIG", "malignancy workup"],
    ),
    (
        "M31.30",
        "Giant Cell Arteritis",
        ["headache", "jaw claudication", "visual symptoms", "PMR symptoms"],
        ["age >50", "female sex", "Northern European descent"],
        ["ESR/CRP elevated", "temporal artery biopsy", "ultrasound"],
        ["high-dose prednisone immediately", "tocilizumab", "taper over 1-2 years"],
    ),
    (
        "M35.3",
        "Polymyalgia Rheumatica",
        [
            "shoulder/hip girdle pain",
            "morning stiffness",
            "elevated ESR",
            "rapid steroid response",
        ],
        ["age >50", "female sex", "GCA association"],
        ["ESR/CRP", "exclude other causes", "clinical criteria"],
        ["low-dose prednisone", "slow taper", "monitor for GCA"],
    ),
    (
        "M10.9",
        "Gout",
        ["acute monoarthritis", "podagra", "tophi", "hyperuricemia"],
        ["male sex", "diet", "alcohol", "diuretics", "renal disease"],
        ["joint aspiration with crystals", "serum uric acid", "dual-energy CT"],
        ["acute: colchicine, NSAIDs, steroids", "chronic: allopurinol, febuxostat"],
    ),
    (
        "M11.20",
        "Pseudogout (CPPD)",
        ["acute arthritis", "knee common", "chondrocalcinosis", "elderly"],
        ["age", "hemochromatosis", "hyperparathyroidism", "hypomagnesemia"],
        ["joint aspiration with CPPD crystals", "X-ray chondrocalcinosis"],
        ["NSAIDs", "colchicine", "steroids", "joint aspiration"],
    ),
    (
        "M45.9",
        "Ankylosing Spondylitis",
        ["inflammatory back pain", "sacroiliitis", "uveitis", "enthesitis"],
        ["HLA-B27", "male sex", "family history"],
        ["HLA-B27", "MRI sacroiliac joints", "X-ray spine"],
        ["NSAIDs", "TNF inhibitors", "IL-17 inhibitors", "physical therapy"],
    ),
    (
        "M07.3",
        "Psoriatic Arthritis",
        ["oligoarthritis", "dactylitis", "nail changes", "psoriasis"],
        ["psoriasis", "family history", "HLA associations"],
        ["clinical exam", "X-ray", "MRI", "skin exam"],
        ["DMARDs", "biologics", "JAK inhibitors", "topical therapy"],
    ),
    (
        "M79.7",
        "Fibromyalgia",
        ["widespread pain", "fatigue", "cognitive dysfunction", "sleep disturbance"],
        ["female sex", "trauma", "infections", "autoimmune disease"],
        ["clinical criteria", "tender points", "exclude other causes"],
        ["exercise", "duloxetine", "pregabalin", "CBT", "sleep hygiene"],
    ),
    (
        "M06.4",
        "Inflammatory Polyarthropathy",
        [
            "multiple joint inflammation",
            "morning stiffness",
            "systemic symptoms",
            "elevated inflammatory markers",
        ],
        ["autoimmune predisposition", "infections", "genetics"],
        ["RF", "anti-CCP", "ANA panel", "inflammatory markers", "imaging"],
        ["DMARDs", "steroids", "biologics if refractory"],
    ),
    (
        "L93.0",
        "Discoid Lupus Erythematosus",
        ["erythematous plaques", "scarring", "photosensitivity", "hair loss"],
        ["female sex", "African descent", "sun exposure"],
        ["skin biopsy", "ANA", "monitor for SLE"],
        ["topical steroids", "hydroxychloroquine", "sun protection"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _rheum_ext:
    RHEUMATOLOGY_EXTENDED[code] = generate_condition(
        code,
        name,
        "Rheumatology",
        symptoms,
        risks,
        criteria,
        treatment,
        ["organ failure", "vision loss", "severe infection", "malignancy"],
    )


# =============================================================================
# ITERATION 9: EMERGENCY, PRIMARY CARE, CRITICAL CARE, PAIN
# =============================================================================

# Emergency Medicine Extended (20 conditions)
EMERGENCY_EXTENDED: Dict[str, MedicalCondition] = {}
_emergency_ext = [
    (
        "T79.4",
        "Traumatic Shock",
        ["hypotension", "tachycardia", "altered mental status", "cold extremities"],
        ["trauma", "hemorrhage", "burns", "spinal cord injury"],
        ["clinical assessment", "lactate", "base deficit", "FAST exam"],
        [
            "massive transfusion protocol",
            "damage control surgery",
            "hemorrhage control",
        ],
    ),
    (
        "S06.9",
        "Traumatic Brain Injury",
        ["altered consciousness", "headache", "vomiting", "focal deficits"],
        ["falls", "MVA", "assault", "sports injury"],
        ["GCS", "CT head", "cervical spine imaging", "ICP monitoring if severe"],
        [
            "airway protection",
            "ICP management",
            "neurosurgical intervention",
            "rehabilitation",
        ],
    ),
    (
        "T30.0",
        "Burn Injury",
        ["skin damage", "pain", "blistering", "eschar"],
        ["fire", "scald", "electrical", "chemical", "radiation"],
        ["TBSA calculation", "depth assessment", "inhalation injury evaluation"],
        ["fluid resuscitation", "wound care", "escharotomy", "grafting"],
    ),
    (
        "T68",
        "Hypothermia",
        ["confusion", "shivering (early)", "bradycardia", "cardiac arrest"],
        ["cold exposure", "elderly", "alcohol", "trauma", "homelessness"],
        ["core temperature", "ECG (J waves)", "glucose"],
        ["active rewarming", "warm fluids", "ECMO if cardiac arrest"],
    ),
    (
        "T67.0",
        "Heat Stroke",
        ["hyperthermia >40C", "altered mental status", "anhidrosis", "tachycardia"],
        ["exertion", "elderly", "medications", "heat wave"],
        ["core temperature", "electrolytes", "LFTs", "coagulation"],
        ["rapid cooling", "IV fluids", "manage complications"],
    ),
    (
        "T75.1",
        "Drowning",
        [
            "respiratory distress",
            "cyanosis",
            "altered consciousness",
            "pulmonary edema",
        ],
        ["children", "alcohol", "seizures", "inability to swim"],
        ["ABG", "chest X-ray", "core temperature"],
        ["airway management", "ventilation", "PEEP", "treat hypothermia"],
    ),
    (
        "T63.0",
        "Snake Envenomation",
        ["local pain/swelling", "coagulopathy", "neurotoxicity", "systemic symptoms"],
        ["outdoor activities", "geographic location", "handling snakes"],
        ["clinical grading", "coagulation studies", "snake identification"],
        ["antivenom", "wound care", "supportive care", "observation"],
    ),
    (
        "X34",
        "Electrocution",
        ["burns", "cardiac arrhythmias", "tetanic contractions", "respiratory arrest"],
        ["occupational", "household", "lightning"],
        ["ECG", "cardiac enzymes", "wound assessment", "compartment evaluation"],
        ["airway management", "cardiac monitoring", "wound care", "fasciotomy"],
    ),
    (
        "W57",
        "Insect Sting Anaphylaxis",
        ["urticaria", "angioedema", "bronchospasm", "hypotension"],
        ["prior reaction", "atopy", "bee/wasp stings"],
        ["clinical diagnosis", "tryptase if unclear"],
        ["epinephrine IM", "antihistamines", "steroids", "observation"],
    ),
    (
        "T78.2",
        "Anaphylactic Shock",
        [
            "rapid onset",
            "multisystem involvement",
            "cardiovascular collapse",
            "airway compromise",
        ],
        ["drugs", "foods", "insect stings", "latex"],
        ["clinical diagnosis", "serum tryptase"],
        ["epinephrine", "IV fluids", "airway management", "vasopressors"],
    ),
    (
        "R57.1",
        "Hypovolemic Shock",
        ["hypotension", "tachycardia", "oliguria", "altered mental status"],
        ["hemorrhage", "dehydration", "burns", "third spacing"],
        ["clinical exam", "lactate", "base deficit", "point-of-care ultrasound"],
        ["IV fluids", "blood products", "source control", "vasopressors"],
    ),
    (
        "T14.90",
        "Polytrauma",
        [
            "multiple injuries",
            "hemorrhage",
            "altered consciousness",
            "respiratory distress",
        ],
        ["MVA", "falls from height", "assault", "explosions"],
        ["primary/secondary survey", "FAST", "CT", "trauma labs"],
        ["ABCDE approach", "damage control resuscitation", "operative intervention"],
    ),
    (
        "S22.40",
        "Flail Chest",
        [
            "paradoxical breathing",
            "chest wall pain",
            "respiratory distress",
            "crepitus",
        ],
        ["blunt chest trauma", "MVA", "falls"],
        ["chest X-ray", "CT chest", "ABG"],
        [
            "pain control",
            "pulmonary toilet",
            "intubation if needed",
            "surgical fixation",
        ],
    ),
    (
        "S27.0",
        "Traumatic Pneumothorax",
        [
            "chest pain",
            "dyspnea",
            "decreased breath sounds",
            "tracheal deviation if tension",
        ],
        ["penetrating trauma", "rib fractures", "blast injury"],
        ["chest X-ray", "ultrasound", "clinical if tension"],
        ["needle decompression if tension", "chest tube", "observation if small"],
    ),
    (
        "S36.11",
        "Splenic Laceration",
        ["LUQ pain", "Kehr sign", "hypotension", "peritoneal signs"],
        ["blunt abdominal trauma", "MVA", "sports injury"],
        ["FAST", "CT abdomen", "hemoglobin trending"],
        ["observation if stable", "angioembolization", "splenectomy if unstable"],
    ),
    (
        "S36.11",
        "Liver Laceration",
        ["RUQ pain", "hypotension", "abdominal distension", "shoulder pain"],
        ["blunt abdominal trauma", "penetrating injury"],
        ["FAST", "CT abdomen", "serial hemoglobin"],
        ["observation if stable", "angioembolization", "surgical intervention"],
    ),
    (
        "T62.0",
        "Food Poisoning",
        ["nausea", "vomiting", "diarrhea", "abdominal cramps"],
        ["contaminated food", "improper storage", "restaurant meals"],
        ["stool culture", "toxin assay", "electrolytes"],
        ["supportive care", "rehydration", "antibiotics if indicated"],
    ),
    (
        "R55",
        "Syncope",
        ["transient LOC", "prodrome", "rapid recovery", "fall"],
        ["cardiac disease", "dehydration", "medications", "arrhythmias"],
        ["ECG", "orthostatic vitals", "echocardiogram", "tilt table if needed"],
        ["treat underlying cause", "pacemaker if indicated", "avoid triggers"],
    ),
    (
        "R40.20",
        "Coma",
        ["unresponsive", "no eye opening", "no verbal response", "no motor response"],
        ["trauma", "stroke", "metabolic", "toxins", "infection"],
        ["GCS", "glucose", "toxicology", "CT head", "LP if indicated"],
        ["airway protection", "treat underlying cause", "supportive care"],
    ),
    (
        "R06.00",
        "Acute Dyspnea",
        ["shortness of breath", "accessory muscle use", "hypoxia", "tachypnea"],
        ["PE", "COPD", "CHF", "pneumonia", "asthma"],
        ["chest X-ray", "D-dimer", "BNP", "ABG", "CT if PE suspected"],
        ["oxygen", "treat underlying cause", "bronchodilators", "diuretics"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _emergency_ext:
    EMERGENCY_EXTENDED[code] = generate_condition(
        code,
        name,
        "Emergency Medicine",
        symptoms,
        risks,
        criteria,
        treatment,
        ["cardiac arrest", "respiratory failure", "massive hemorrhage", "herniation"],
    )


# Primary Care / Internal Medicine (20 conditions)
PRIMARY_CARE: Dict[str, MedicalCondition] = {}
_primary = [
    (
        "J06.9",
        "Upper Respiratory Infection",
        ["rhinorrhea", "sore throat", "cough", "low-grade fever"],
        ["viral exposure", "crowded settings", "winter months", "children"],
        ["clinical diagnosis", "no testing usually needed"],
        ["supportive care", "rest", "fluids", "symptomatic relief"],
    ),
    (
        "J02.9",
        "Acute Pharyngitis",
        ["sore throat", "odynophagia", "fever", "lymphadenopathy"],
        ["viral exposure", "strep contact", "winter/spring"],
        ["rapid strep test", "throat culture if negative"],
        ["supportive if viral", "penicillin if strep", "analgesics"],
    ),
    (
        "H66.90",
        "Acute Otitis Media",
        ["ear pain", "fever", "hearing loss", "irritability in children"],
        ["preceding URI", "daycare", "young age", "bottle feeding"],
        ["otoscopy", "pneumatic otoscopy"],
        ["observation if mild", "amoxicillin", "pain management"],
    ),
    (
        "N39.0",
        "Urinary Tract Infection",
        ["dysuria", "frequency", "urgency", "suprapubic pain"],
        ["female sex", "sexual activity", "catheter", "postmenopausal"],
        ["urinalysis", "urine culture if complicated"],
        ["nitrofurantoin", "TMP-SMX", "fosfomycin"],
    ),
    (
        "L03.90",
        "Cellulitis",
        ["erythema", "warmth", "swelling", "pain"],
        ["skin break", "diabetes", "lymphedema", "obesity"],
        ["clinical diagnosis", "blood cultures if septic"],
        ["cephalexin", "clindamycin if MRSA risk", "IV if severe"],
    ),
    (
        "B07.9",
        "Viral Warts",
        ["papules", "rough surface", "painless usually", "clusters possible"],
        ["HPV exposure", "immunosuppression", "children"],
        ["clinical diagnosis"],
        ["observation", "salicylic acid", "cryotherapy", "imiquimod"],
    ),
    (
        "L72.0",
        "Epidermal Cyst",
        ["subcutaneous nodule", "central punctum", "painless", "occasional drainage"],
        ["common", "no specific risk factors"],
        ["clinical diagnosis"],
        ["observation", "incision and drainage if infected", "excision"],
    ),
    (
        "M54.5",
        "Low Back Pain",
        [
            "lumbar pain",
            "muscle spasm",
            "limited ROM",
            "radiculopathy if nerve involvement",
        ],
        ["heavy lifting", "sedentary", "obesity", "age"],
        ["clinical exam", "imaging if red flags", "MRI if radiculopathy persists"],
        ["NSAIDs", "physical therapy", "muscle relaxants", "surgery if indicated"],
    ),
    (
        "G43.909",
        "Migraine Headache",
        ["unilateral", "pulsating", "nausea", "photophobia"],
        ["family history", "female sex", "hormones", "triggers"],
        ["ICHD criteria", "imaging if atypical"],
        ["triptans", "NSAIDs", "prophylaxis if frequent"],
    ),
    (
        "K30",
        "Dyspepsia",
        ["epigastric discomfort", "bloating", "early satiety", "nausea"],
        ["H. pylori", "NSAIDs", "stress", "diet"],
        ["H. pylori testing", "EGD if alarm features"],
        ["PPI trial", "H. pylori eradication", "lifestyle changes"],
    ),
    (
        "R10.9",
        "Abdominal Pain",
        [
            "variable location",
            "variable character",
            "associated symptoms vary",
            "may be acute or chronic",
        ],
        ["many possible causes", "dietary", "infectious", "inflammatory"],
        ["history and exam", "labs as indicated", "imaging as indicated"],
        ["treat underlying cause", "supportive care"],
    ),
    (
        "R51",
        "Headache",
        ["head pain", "variable location", "variable character", "associated symptoms"],
        ["tension", "migraine", "cluster", "secondary causes"],
        ["clinical evaluation", "imaging if red flags"],
        ["treat underlying type", "analgesics", "preventive therapy"],
    ),
    (
        "R05",
        "Cough",
        ["acute or chronic", "productive or dry", "associated symptoms vary"],
        ["infection", "asthma", "GERD", "ACE inhibitors", "smoking"],
        ["chest X-ray if prolonged", "spirometry", "trial therapy"],
        ["treat underlying cause", "antitussives", "bronchodilators"],
    ),
    (
        "R50.9",
        "Fever",
        ["elevated temperature", "chills", "malaise", "sweating"],
        ["infection most common", "inflammation", "malignancy", "drugs"],
        ["identify source", "cultures", "imaging as indicated"],
        ["treat underlying cause", "antipyretics", "supportive care"],
    ),
    (
        "R00.0",
        "Tachycardia",
        ["rapid heart rate", "palpitations", "may be asymptomatic"],
        ["anxiety", "dehydration", "anemia", "hyperthyroidism", "arrhythmia"],
        ["ECG", "Holter", "thyroid function", "CBC"],
        ["treat underlying cause", "rate control if needed"],
    ),
    (
        "R63.4",
        "Weight Loss",
        ["unintentional", ">5% in 6-12 months", "may have associated symptoms"],
        ["malignancy", "hyperthyroidism", "diabetes", "depression", "malabsorption"],
        ["comprehensive workup", "imaging", "endoscopy if indicated"],
        ["treat underlying cause", "nutritional support"],
    ),
    (
        "R53.83",
        "Fatigue",
        ["tiredness", "lack of energy", "weakness", "concentration difficulty"],
        [
            "anemia",
            "hypothyroidism",
            "depression",
            "sleep disorders",
            "chronic disease",
        ],
        ["CBC", "TSH", "BMP", "depression screening"],
        ["treat underlying cause", "sleep hygiene", "exercise"],
    ),
    (
        "Z23",
        "Immunization Encounter",
        ["preventive care", "vaccine administration", "counseling"],
        ["age-based schedule", "occupational", "travel", "immunocompromised"],
        ["review immunization history", "assess contraindications"],
        ["administer indicated vaccines", "document", "schedule follow-up"],
    ),
    (
        "Z00.00",
        "General Adult Exam",
        ["preventive care", "health assessment", "screening"],
        ["varies by age", "risk factors"],
        ["history", "physical exam", "age-appropriate screening"],
        ["counseling", "immunizations", "referrals as needed"],
    ),
    (
        "Z12.31",
        "Cancer Screening",
        ["screening tests", "early detection", "asymptomatic patients"],
        ["age-based", "family history", "prior abnormalities"],
        ["mammogram", "colonoscopy", "Pap smear", "PSA discussion"],
        ["follow-up abnormal results", "surveillance", "counseling"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _primary:
    PRIMARY_CARE[code] = generate_condition(
        code,
        name,
        "Primary Care",
        symptoms,
        risks,
        criteria,
        treatment,
        ["missed serious diagnosis", "delayed treatment", "complications"],
    )


# Critical Care / ICU (15 conditions)
CRITICAL_CARE: Dict[str, MedicalCondition] = {}
_icu = [
    (
        "R65.21",
        "Septic Shock",
        [
            "hypotension requiring vasopressors",
            "lactate >2",
            "organ dysfunction",
            "altered mental status",
        ],
        ["infection", "immunosuppression", "invasive devices", "extremes of age"],
        ["qSOFA", "SOFA score", "blood cultures", "lactate"],
        [
            "broad-spectrum antibiotics",
            "fluid resuscitation",
            "vasopressors",
            "source control",
        ],
    ),
    (
        "J96.00",
        "Acute Respiratory Failure Type I",
        ["hypoxemia", "PaO2 <60", "normal/low CO2", "tachypnea"],
        ["pneumonia", "ARDS", "PE", "pulmonary edema"],
        ["ABG", "chest imaging", "identify underlying cause"],
        ["supplemental O2", "NIV or intubation", "treat underlying cause"],
    ),
    (
        "J96.02",
        "Acute Respiratory Failure Type II",
        ["hypercapnia", "PaCO2 >50", "respiratory acidosis", "decreased LOC"],
        ["COPD", "neuromuscular disease", "obesity hypoventilation", "drug overdose"],
        ["ABG", "clinical assessment"],
        ["NIV first-line", "intubation if needed", "treat underlying"],
    ),
    (
        "I46.9",
        "Cardiac Arrest",
        ["unresponsive", "no pulse", "no breathing", "prior symptoms variable"],
        ["CAD", "arrhythmia", "PE", "toxins", "trauma"],
        ["rhythm analysis", "reversible causes (Hs and Ts)"],
        [
            "CPR",
            "defibrillation if shockable",
            "epinephrine",
            "treat reversible causes",
        ],
    ),
    (
        "G93.1",
        "Anoxic Brain Injury",
        ["coma post-arrest", "absent brainstem reflexes", "myoclonus", "seizures"],
        ["prolonged arrest", "delayed CPR", "non-shockable rhythm"],
        ["neurological exam at 72h", "EEG", "SSEP", "MRI"],
        ["targeted temperature management", "seizure control", "prognostication"],
    ),
    (
        "K72.00",
        "Acute Hepatic Failure",
        ["jaundice", "coagulopathy", "encephalopathy", "hypoglycemia"],
        ["acetaminophen", "viral hepatitis", "autoimmune", "drug-induced"],
        ["INR >1.5", "encephalopathy", "no prior liver disease"],
        ["NAC for acetaminophen", "liver transplant evaluation", "supportive care"],
    ),
    (
        "N17.9",
        "Acute Kidney Injury",
        ["oliguria", "rising creatinine", "uremia", "volume overload"],
        ["sepsis", "nephrotoxins", "hypotension", "obstruction"],
        ["creatinine increase", "urine output", "urinalysis", "renal ultrasound"],
        ["treat underlying cause", "avoid nephrotoxins", "RRT if indicated"],
    ),
    (
        "E87.0",
        "Hyperosmolar State",
        [
            "hyperglycemia >600",
            "hyperosmolality",
            "altered mental status",
            "minimal ketones",
        ],
        ["type 2 diabetes", "infection", "medication non-compliance"],
        ["glucose", "osmolality", "electrolytes", "ketones"],
        ["IV fluids", "insulin", "electrolyte replacement", "treat precipitant"],
    ),
    (
        "E10.10",
        "Diabetic Ketoacidosis",
        ["hyperglycemia", "ketosis", "acidosis", "Kussmaul breathing"],
        ["type 1 diabetes", "infection", "insulin omission"],
        ["glucose >250", "pH <7.3", "bicarbonate <18", "ketones positive"],
        ["IV fluids", "insulin", "potassium", "treat precipitant"],
    ),
    (
        "I26.99",
        "Massive Pulmonary Embolism",
        ["dyspnea", "hypotension", "syncope", "cardiac arrest"],
        ["immobility", "surgery", "malignancy", "hypercoagulable"],
        ["CT angiography", "echocardiogram", "D-dimer"],
        ["anticoagulation", "thrombolysis", "embolectomy if massive"],
    ),
    (
        "G93.6",
        "Cerebral Edema",
        ["headache", "altered consciousness", "vomiting", "focal deficits"],
        ["TBI", "stroke", "tumor", "infection", "metabolic"],
        ["CT head", "ICP monitoring", "neurological exam"],
        ["osmotic therapy", "hyperventilation", "surgery if indicated"],
    ),
    (
        "T88.6",
        "Malignant Hyperthermia",
        ["hyperthermia", "muscle rigidity", "tachycardia", "rhabdomyolysis"],
        ["volatile anesthetics", "succinylcholine", "genetic susceptibility"],
        ["clinical presentation", "end-tidal CO2", "CK"],
        ["stop triggering agents", "dantrolene", "cooling", "supportive care"],
    ),
    (
        "G04.90",
        "Encephalitis",
        ["altered mental status", "fever", "seizures", "focal deficits"],
        ["viral infection", "autoimmune", "immunosuppression"],
        ["LP with CSF analysis", "MRI brain", "EEG", "viral PCR"],
        ["acyclovir empirically", "supportive care", "immunotherapy if autoimmune"],
    ),
    (
        "A39.4",
        "Meningococcal Septicemia",
        ["petechial rash", "fever", "hypotension", "DIC"],
        ["young adults", "close contacts", "asplenia", "complement deficiency"],
        ["blood cultures", "LP", "PCR"],
        [
            "ceftriaxone immediately",
            "dexamethasone",
            "supportive care",
            "contact prophylaxis",
        ],
    ),
    (
        "D65",
        "Disseminated Intravascular Coagulation",
        ["bleeding", "thrombosis", "organ dysfunction", "shock"],
        ["sepsis", "trauma", "malignancy", "obstetric complications"],
        ["platelets", "PT/PTT", "fibrinogen", "D-dimer"],
        ["treat underlying cause", "transfusion support", "heparin in select cases"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _icu:
    CRITICAL_CARE[code] = generate_condition(
        code,
        name,
        "Critical Care",
        symptoms,
        risks,
        criteria,
        treatment,
        ["cardiac arrest", "multiorgan failure", "brain death", "death"],
    )


# Pain Medicine (10 conditions)
PAIN_MEDICINE: Dict[str, MedicalCondition] = {}
_pain = [
    (
        "G89.29",
        "Chronic Pain Syndrome",
        [
            "persistent pain >3 months",
            "functional impairment",
            "psychological impact",
            "sleep disturbance",
        ],
        ["prior injury", "surgery", "central sensitization", "psychological factors"],
        ["pain assessment scales", "functional evaluation", "psychological assessment"],
        [
            "multimodal approach",
            "physical therapy",
            "medications",
            "interventional procedures",
        ],
    ),
    (
        "M54.16",
        "Radiculopathy Lumbar",
        ["leg pain", "numbness", "weakness", "positive straight leg raise"],
        ["disc herniation", "stenosis", "spondylolisthesis"],
        ["MRI lumbar spine", "EMG/NCS", "clinical exam"],
        [
            "conservative management",
            "epidural steroid injection",
            "surgery if refractory",
        ],
    ),
    (
        "M54.12",
        "Radiculopathy Cervical",
        ["arm pain", "numbness", "weakness", "neck pain"],
        ["disc herniation", "spondylosis", "trauma"],
        ["MRI cervical spine", "EMG/NCS"],
        ["conservative management", "cervical ESI", "surgery"],
    ),
    (
        "G50.0",
        "Trigeminal Neuralgia",
        ["lancinating facial pain", "trigger zones", "unilateral", "episodic"],
        ["vascular compression", "MS", "tumor"],
        ["clinical diagnosis", "MRI brain"],
        ["carbamazepine", "oxcarbazepine", "microvascular decompression"],
    ),
    (
        "G57.10",
        "Meralgia Paresthetica",
        ["lateral thigh burning", "numbness", "no weakness", "worse with standing"],
        ["obesity", "tight clothing", "diabetes", "pregnancy"],
        ["clinical diagnosis", "nerve conduction studies"],
        ["weight loss", "loose clothing", "local injection", "nerve block"],
    ),
    (
        "M79.3",
        "Panniculitis",
        ["subcutaneous nodules", "pain", "erythema", "systemic symptoms possible"],
        ["trauma", "cold exposure", "pancreatitis", "lupus"],
        ["skin biopsy", "imaging", "serum lipase"],
        ["treat underlying cause", "NSAIDs", "steroids"],
    ),
    (
        "G56.00",
        "Carpal Tunnel Syndrome",
        ["hand numbness", "tingling", "weakness", "nocturnal symptoms"],
        ["repetitive motion", "pregnancy", "hypothyroidism", "diabetes"],
        ["Phalen test", "Tinel sign", "nerve conduction studies"],
        ["splinting", "steroid injection", "carpal tunnel release"],
    ),
    (
        "G54.6",
        "Phantom Limb Pain",
        [
            "pain in amputated limb",
            "variable character",
            "triggered by stimuli",
            "associated with stump pain",
        ],
        ["amputation", "preoperative pain", "psychological factors"],
        ["clinical diagnosis", "stump examination"],
        ["mirror therapy", "medications", "nerve blocks", "psychological support"],
    ),
    (
        "R52",
        "Chronic Pain NOS",
        [
            "persistent pain",
            "variable location",
            "functional impairment",
            "associated symptoms",
        ],
        ["injury", "illness", "unknown", "psychological"],
        ["comprehensive evaluation", "pain diary", "functional assessment"],
        [
            "multimodal treatment",
            "physical therapy",
            "psychological support",
            "medications",
        ],
    ),
    (
        "G43.909",
        "Chronic Migraine",
        [
            ">15 headache days/month",
            "debilitating",
            "medication overuse possible",
            "aura in some",
        ],
        ["episodic migraine history", "medication overuse", "depression", "obesity"],
        ["headache diary", "rule out secondary", "ICHD criteria"],
        ["prophylaxis", "CGRP antagonists", "botox", "lifestyle modification"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _pain:
    PAIN_MEDICINE[code] = generate_condition(
        code,
        name,
        "Pain Medicine",
        symptoms,
        risks,
        criteria,
        treatment,
        [
            "chronic disability",
            "medication dependence",
            "suicide risk",
            "opioid complications",
        ],
    )


# =============================================================================
# ITERATION 10: ONCOLOGY EXT, OCCUPATIONAL, TROPICAL, GENETICS
# =============================================================================

# Oncology Extended (20 conditions)
ONCOLOGY_EXTENDED: Dict[str, MedicalCondition] = {}
_oncology_ext = [
    (
        "C91.00",
        "Acute Lymphoblastic Leukemia",
        ["fatigue", "bruising", "fever", "bone pain"],
        ["children", "radiation exposure", "genetic syndromes", "prior chemo"],
        ["CBC with blasts", "bone marrow biopsy", "flow cytometry", "cytogenetics"],
        [
            "induction chemotherapy",
            "CNS prophylaxis",
            "maintenance",
            "transplant if high-risk",
        ],
    ),
    (
        "C92.00",
        "Acute Myeloid Leukemia",
        ["fatigue", "bleeding", "infections", "gum hypertrophy"],
        ["prior chemo", "radiation", "myelodysplasia", "benzene"],
        ["CBC", "bone marrow biopsy", "cytogenetics", "molecular markers"],
        ["induction with 7+3", "consolidation", "transplant", "targeted therapy"],
    ),
    (
        "C91.10",
        "Chronic Lymphocytic Leukemia",
        ["often asymptomatic", "lymphadenopathy", "fatigue", "recurrent infections"],
        ["age >60", "family history", "male sex"],
        ["CBC with lymphocytosis", "flow cytometry", "FISH", "TP53 testing"],
        ["watch and wait early", "targeted therapy", "chemoimmunotherapy"],
    ),
    (
        "C92.10",
        "Chronic Myeloid Leukemia",
        ["fatigue", "splenomegaly", "weight loss", "night sweats"],
        ["radiation exposure", "no strong risk factors"],
        ["CBC", "BCR-ABL PCR", "bone marrow", "cytogenetics"],
        [
            "tyrosine kinase inhibitors",
            "monitoring BCR-ABL",
            "transplant if refractory",
        ],
    ),
    (
        "C81.90",
        "Hodgkin Lymphoma",
        ["painless lymphadenopathy", "B symptoms", "pruritus", "alcohol-induced pain"],
        ["EBV", "immunosuppression", "family history"],
        ["excisional biopsy", "CT/PET", "bone marrow"],
        ["ABVD chemotherapy", "radiation", "brentuximab", "autologous transplant"],
    ),
    (
        "C85.90",
        "Non-Hodgkin Lymphoma",
        ["lymphadenopathy", "B symptoms", "extranodal involvement", "fatigue"],
        ["immunosuppression", "autoimmune disease", "infections", "age"],
        ["excisional biopsy", "CT/PET", "bone marrow", "flow cytometry"],
        [
            "R-CHOP for DLBCL",
            "bendamustine-rituximab for indolent",
            "CAR-T if refractory",
        ],
    ),
    (
        "C43.9",
        "Melanoma",
        ["changing mole", "asymmetry", "irregular borders", "color variation"],
        ["UV exposure", "fair skin", "dysplastic nevi", "family history"],
        ["excisional biopsy", "Breslow depth", "sentinel node biopsy", "PET/CT"],
        ["wide excision", "immunotherapy", "targeted therapy if BRAF+", "radiation"],
    ),
    (
        "C16.9",
        "Gastric Cancer",
        ["weight loss", "dysphagia", "early satiety", "abdominal pain"],
        ["H. pylori", "diet", "smoking", "family history"],
        ["EGD with biopsy", "CT staging", "HER2 testing"],
        ["surgery if resectable", "perioperative chemo", "trastuzumab if HER2+"],
    ),
    (
        "C25.9",
        "Pancreatic Cancer",
        ["weight loss", "jaundice", "abdominal pain", "new-onset diabetes"],
        ["smoking", "chronic pancreatitis", "family history", "obesity"],
        ["CT pancreas protocol", "CA 19-9", "EUS with biopsy"],
        ["surgery if resectable", "FOLFIRINOX", "gemcitabine", "palliative care"],
    ),
    (
        "C22.0",
        "Hepatocellular Carcinoma",
        ["RUQ pain", "weight loss", "jaundice", "ascites"],
        ["cirrhosis", "hepatitis B/C", "NAFLD", "aflatoxin"],
        ["AFP", "triphasic CT/MRI", "biopsy if uncertain"],
        ["resection", "transplant", "ablation", "sorafenib/lenvatinib"],
    ),
    (
        "C56.9",
        "Ovarian Cancer",
        ["abdominal bloating", "early satiety", "pelvic pain", "urinary symptoms"],
        ["family history", "BRCA mutations", "nulliparity", "endometriosis"],
        ["CA-125", "pelvic ultrasound", "CT", "surgical staging"],
        ["debulking surgery", "platinum-based chemo", "PARP inhibitors"],
    ),
    (
        "C62.90",
        "Testicular Cancer",
        [
            "painless testicular mass",
            "back pain if metastatic",
            "gynecomastia",
            "infertility",
        ],
        ["cryptorchidism", "family history", "prior testicular cancer"],
        ["testicular ultrasound", "tumor markers (AFP, HCG, LDH)", "CT"],
        ["radical orchiectomy", "surveillance vs chemo", "radiation for seminoma"],
    ),
    (
        "C73",
        "Thyroid Cancer",
        ["thyroid nodule", "hoarseness", "dysphagia", "neck mass"],
        ["radiation exposure", "family history", "female sex"],
        ["thyroid ultrasound", "FNA biopsy", "thyroglobulin"],
        ["thyroidectomy", "RAI ablation", "TSH suppression", "TKIs if refractory"],
    ),
    (
        "C78.00",
        "Lung Metastases",
        ["often asymptomatic", "cough", "dyspnea", "hemoptysis"],
        ["primary malignancy", "various sites"],
        ["CT chest", "PET scan", "biopsy if needed"],
        ["treat primary", "metastasectomy select cases", "systemic therapy"],
    ),
    (
        "C79.51",
        "Bone Metastases",
        ["bone pain", "pathological fracture", "hypercalcemia", "cord compression"],
        ["breast", "prostate", "lung", "kidney", "thyroid cancers"],
        ["X-ray", "bone scan", "CT/MRI", "biopsy if unknown primary"],
        [
            "bisphosphonates",
            "radiation",
            "surgery if impending fracture",
            "pain control",
        ],
    ),
    (
        "C79.31",
        "Brain Metastases",
        ["headache", "seizures", "focal deficits", "cognitive changes"],
        ["lung", "breast", "melanoma", "kidney", "colon cancers"],
        ["MRI brain with contrast", "stereotactic biopsy"],
        ["steroids", "whole brain RT", "SRS", "surgery", "systemic therapy"],
    ),
    (
        "D46.9",
        "Myelodysplastic Syndrome",
        ["cytopenias", "fatigue", "infections", "bleeding"],
        ["prior chemo/radiation", "benzene", "age >60"],
        ["CBC", "bone marrow biopsy", "cytogenetics", "IPSS scoring"],
        ["supportive care", "hypomethylating agents", "lenalidomide", "transplant"],
    ),
    (
        "D47.3",
        "Essential Thrombocythemia",
        ["often asymptomatic", "thrombosis", "bleeding", "headache"],
        ["JAK2/CALR/MPL mutations", "age"],
        ["CBC", "bone marrow", "JAK2 mutation testing"],
        ["low-dose aspirin", "cytoreduction if high-risk", "JAK2 inhibitors"],
    ),
    (
        "D45",
        "Polycythemia Vera",
        ["headache", "plethora", "pruritus after bathing", "splenomegaly"],
        ["JAK2 mutation"],
        ["CBC", "JAK2 V617F", "EPO level", "bone marrow"],
        ["phlebotomy", "low-dose aspirin", "hydroxyurea", "ruxolitinib"],
    ),
    (
        "C88.0",
        "Waldenstrom Macroglobulinemia",
        ["fatigue", "hyperviscosity", "neuropathy", "lymphadenopathy"],
        ["age", "male sex", "MYD88 mutation"],
        ["SPEP/UPEP", "IgM level", "bone marrow", "MYD88 testing"],
        ["rituximab-based therapy", "BTK inhibitors", "plasmapheresis"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _oncology_ext:
    ONCOLOGY_EXTENDED[code] = generate_condition(
        code,
        name,
        "Oncology",
        symptoms,
        risks,
        criteria,
        treatment,
        [
            "tumor lysis syndrome",
            "neutropenic fever",
            "cord compression",
            "hypercalcemia crisis",
        ],
    )


# Occupational Medicine (10 conditions)
OCCUPATIONAL_MEDICINE: Dict[str, MedicalCondition] = {}
_occupational = [
    (
        "J62.8",
        "Silicosis",
        ["progressive dyspnea", "cough", "fatigue", "chest pain"],
        ["mining", "sandblasting", "construction", "ceramics"],
        ["chest X-ray", "CT chest", "PFTs", "exposure history"],
        [
            "remove from exposure",
            "supportive care",
            "treat complications",
            "lung transplant",
        ],
    ),
    (
        "J61",
        "Asbestosis",
        ["dyspnea", "dry cough", "clubbing", "crackles"],
        ["construction", "shipbuilding", "insulation work", "mining"],
        ["chest X-ray", "HRCT", "PFTs", "asbestos bodies in sputum"],
        ["no specific treatment", "supportive care", "monitor for mesothelioma"],
    ),
    (
        "J63.0",
        "Coal Workers Pneumoconiosis",
        ["cough", "dyspnea", "black sputum", "progressive if PMF"],
        ["coal mining", "duration of exposure"],
        ["chest X-ray", "CT chest", "PFTs"],
        ["remove from exposure", "supportive care", "treat complications"],
    ),
    (
        "L23.9",
        "Occupational Contact Dermatitis",
        ["pruritic rash", "erythema", "vesicles", "dry cracked skin"],
        ["chemical exposure", "metals", "rubber", "solvents"],
        ["patch testing", "workplace evaluation"],
        ["avoid allergen/irritant", "topical steroids", "barrier creams"],
    ),
    (
        "Z57.1",
        "Occupational Noise Exposure",
        ["hearing loss", "tinnitus", "difficulty with speech discrimination"],
        ["manufacturing", "construction", "military", "entertainment"],
        ["audiometry", "occupational history"],
        ["hearing protection", "workplace controls", "hearing aids"],
    ),
    (
        "T56.0",
        "Lead Poisoning",
        ["abdominal pain", "constipation", "fatigue", "cognitive impairment"],
        ["battery manufacturing", "painting", "plumbing", "smelting"],
        ["blood lead level", "ZPP", "CBC"],
        ["remove from exposure", "chelation if severe", "supportive care"],
    ),
    (
        "G56.00",
        "Occupational Carpal Tunnel",
        ["hand numbness", "tingling", "weakness", "nocturnal symptoms"],
        ["repetitive motion", "vibrating tools", "awkward postures"],
        ["nerve conduction studies", "occupational assessment"],
        ["ergonomic modification", "splinting", "surgery"],
    ),
    (
        "M70.30",
        "Olecranon Bursitis",
        ["elbow swelling", "pain", "limited motion", "warmth if infected"],
        ["repetitive pressure", "trauma", "gout", "RA"],
        ["clinical exam", "aspiration if septic concern"],
        ["rest", "NSAIDs", "aspiration", "surgery if chronic"],
    ),
    (
        "M77.10",
        "Lateral Epicondylitis",
        ["lateral elbow pain", "weak grip", "pain with wrist extension"],
        ["repetitive wrist/forearm motion", "tennis", "manual labor"],
        ["clinical exam", "ultrasound"],
        ["rest", "PT", "counterforce brace", "corticosteroid injection"],
    ),
    (
        "F43.12",
        "Work-Related PTSD",
        ["re-experiencing", "avoidance", "hyperarousal", "occupational trigger"],
        ["first responders", "military", "healthcare", "violent incidents"],
        ["clinical interview", "trauma history"],
        ["trauma-focused CBT", "EMDR", "medications", "workplace accommodations"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _occupational:
    OCCUPATIONAL_MEDICINE[code] = generate_condition(
        code,
        name,
        "Occupational Medicine",
        symptoms,
        risks,
        criteria,
        treatment,
        [
            "respiratory failure",
            "malignancy",
            "permanent disability",
            "chronic disease",
        ],
    )


# Tropical / Travel Medicine (15 conditions)
TROPICAL_MEDICINE: Dict[str, MedicalCondition] = {}
_tropical = [
    (
        "B50.9",
        "Malaria",
        ["cyclic fever", "chills", "headache", "hemolytic anemia"],
        ["travel to endemic area", "no prophylaxis", "mosquito bites"],
        ["thick/thin smear", "rapid diagnostic test", "parasite count"],
        ["artemisinin-based combination", "IV artesunate if severe", "supportive care"],
    ),
    (
        "A90",
        "Dengue Fever",
        ["high fever", "severe headache", "retro-orbital pain", "rash"],
        ["travel to endemic area", "Aedes mosquito bite"],
        ["dengue NS1 antigen", "IgM/IgG serology", "CBC with thrombocytopenia"],
        [
            "supportive care",
            "fluid management",
            "avoid NSAIDs",
            "monitor for severe dengue",
        ],
    ),
    (
        "A92.0",
        "Chikungunya",
        ["fever", "severe polyarthralgia", "rash", "myalgia"],
        ["travel to endemic area", "Aedes mosquito bite"],
        ["serology", "PCR"],
        ["supportive care", "NSAIDs for arthralgia", "physical therapy"],
    ),
    (
        "A95.9",
        "Yellow Fever",
        ["fever", "jaundice", "hemorrhage", "bradycardia relative to fever"],
        ["travel to endemic area", "unvaccinated", "Aedes mosquito"],
        ["serology", "PCR", "liver enzymes"],
        ["supportive care", "no specific treatment", "prevention by vaccination"],
    ),
    (
        "B55.0",
        "Visceral Leishmaniasis",
        ["fever", "hepatosplenomegaly", "pancytopenia", "weight loss"],
        ["travel to endemic area", "sandfly bite"],
        ["bone marrow/splenic aspirate", "serology", "PCR"],
        ["liposomal amphotericin B", "miltefosine"],
    ),
    (
        "B65.9",
        "Schistosomiasis",
        [
            "acute: Katayama fever",
            "chronic: hepatosplenomegaly",
            "hematuria",
            "portal hypertension",
        ],
        ["freshwater exposure", "endemic areas"],
        ["stool/urine microscopy", "serology", "eosinophilia"],
        ["praziquantel", "supportive care"],
    ),
    (
        "B74.9",
        "Filariasis",
        ["lymphedema", "elephantiasis", "hydrocele", "tropical pulmonary eosinophilia"],
        ["endemic area", "mosquito bite", "prolonged exposure"],
        ["blood smear at night", "antigen testing", "serology"],
        ["DEC + albendazole", "doxycycline", "lymphedema management"],
    ),
    (
        "A01.0",
        "Typhoid Fever",
        ["stepwise fever", "rose spots", "relative bradycardia", "hepatosplenomegaly"],
        ["travel to endemic area", "contaminated food/water"],
        ["blood culture", "bone marrow culture", "Widal test unreliable"],
        ["fluoroquinolone or azithromycin", "ceftriaxone if resistant"],
    ),
    (
        "A06.0",
        "Amebic Dysentery",
        ["bloody diarrhea", "abdominal pain", "tenesmus", "liver abscess"],
        ["travel to endemic area", "contaminated water", "MSM"],
        ["stool microscopy", "stool antigen", "serology", "imaging if abscess"],
        ["metronidazole followed by luminal agent"],
    ),
    (
        "A07.1",
        "Giardiasis",
        ["watery diarrhea", "bloating", "malabsorption", "weight loss"],
        ["contaminated water", "travel", "daycare"],
        ["stool antigen", "stool microscopy", "PCR"],
        ["metronidazole", "tinidazole", "nitazoxanide"],
    ),
    (
        "B54",
        "Unspecified Malaria",
        ["fever", "rigors", "headache", "returning traveler"],
        ["travel history", "endemic exposure"],
        ["blood smear", "rapid test"],
        ["empiric treatment pending speciation"],
    ),
    (
        "A83.0",
        "Japanese Encephalitis",
        ["fever", "headache", "altered consciousness", "seizures"],
        ["travel to Asia", "unvaccinated", "rural exposure"],
        ["CSF analysis", "serology", "MRI"],
        ["supportive care", "no specific treatment", "prevention by vaccination"],
    ),
    (
        "A27.9",
        "Leptospirosis",
        ["fever", "myalgia", "jaundice", "renal failure"],
        ["contaminated water", "flooding", "animal exposure"],
        ["serology", "PCR", "MAT"],
        ["doxycycline", "penicillin", "supportive care"],
    ),
    (
        "B76.9",
        "Hookworm Infection",
        ["iron deficiency anemia", "fatigue", "eosinophilia", "often asymptomatic"],
        ["walking barefoot", "endemic areas"],
        ["stool microscopy"],
        ["albendazole", "mebendazole", "iron supplementation"],
    ),
    (
        "B68.9",
        "Taeniasis",
        [
            "often asymptomatic",
            "abdominal discomfort",
            "passage of proglottids",
            "neurocysticercosis if T. solium",
        ],
        ["undercooked pork/beef", "endemic areas"],
        ["stool microscopy", "serology if neurocysticercosis"],
        ["praziquantel", "niclosamide", "albendazole for neurocysticercosis"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _tropical:
    TROPICAL_MEDICINE[code] = generate_condition(
        code,
        name,
        "Tropical Medicine",
        symptoms,
        risks,
        criteria,
        treatment,
        ["cerebral malaria", "severe hemorrhage", "organ failure", "death"],
    )


# Genetics / Metabolic (10 conditions)
GENETICS_MEDICINE: Dict[str, MedicalCondition] = {}
_genetics = [
    (
        "E70.0",
        "Classical Phenylketonuria",
        [
            "intellectual disability if untreated",
            "seizures",
            "musty odor",
            "fair features",
        ],
        ["autosomal recessive", "PAH gene mutations"],
        ["newborn screening", "elevated phenylalanine", "genetic testing"],
        ["phenylalanine-restricted diet", "sapropterin", "monitoring"],
    ),
    (
        "E74.00",
        "Glycogen Storage Disease Type I",
        ["hepatomegaly", "hypoglycemia", "lactic acidosis", "growth failure"],
        ["autosomal recessive", "G6Pase deficiency"],
        ["genetic testing", "liver biopsy", "enzyme assay"],
        ["frequent feeding", "cornstarch therapy", "avoid fasting"],
    ),
    (
        "E75.21",
        "Fabry Disease",
        [
            "acroparesthesias",
            "angiokeratomas",
            "corneal verticillata",
            "renal/cardiac involvement",
        ],
        ["X-linked", "GLA gene mutations"],
        ["enzyme assay", "genetic testing"],
        [
            "enzyme replacement therapy",
            "chaperone therapy",
            "organ-specific management",
        ],
    ),
    (
        "E75.22",
        "Gaucher Disease",
        ["hepatosplenomegaly", "bone pain", "anemia", "thrombocytopenia"],
        ["autosomal recessive", "GBA gene mutations", "Ashkenazi Jewish"],
        ["enzyme assay", "genetic testing", "bone imaging"],
        ["enzyme replacement therapy", "substrate reduction therapy"],
    ),
    (
        "E76.01",
        "Hurler Syndrome (MPS I)",
        [
            "coarse features",
            "hepatosplenomegaly",
            "skeletal abnormalities",
            "cognitive decline",
        ],
        ["autosomal recessive", "IDUA gene mutations"],
        ["urine GAGs", "enzyme assay", "genetic testing"],
        ["hematopoietic stem cell transplant", "enzyme replacement therapy"],
    ),
    (
        "Q87.1",
        "Marfan Syndrome",
        ["tall stature", "arachnodactyly", "lens dislocation", "aortic root dilation"],
        ["autosomal dominant", "FBN1 gene mutations", "de novo in 25%"],
        ["Ghent criteria", "echocardiogram", "slit lamp exam", "genetic testing"],
        [
            "beta-blockers/losartan",
            "surgery for aortic aneurysm",
            "avoid contact sports",
        ],
    ),
    (
        "Q79.6",
        "Ehlers-Danlos Syndrome",
        [
            "joint hypermobility",
            "skin hyperextensibility",
            "easy bruising",
            "chronic pain",
        ],
        ["genetic", "various types with different inheritance"],
        ["clinical criteria", "genetic testing for specific types"],
        ["physical therapy", "pain management", "avoid trauma"],
    ),
    (
        "E83.110",
        "Hemochromatosis",
        ["fatigue", "bronze skin", "diabetes", "cirrhosis"],
        ["autosomal recessive", "HFE mutations", "Northern European"],
        ["iron studies", "HFE genetic testing", "liver biopsy/MRI"],
        ["therapeutic phlebotomy", "chelation if unable to phlebotomize"],
    ),
    (
        "D58.0",
        "Hereditary Spherocytosis",
        ["anemia", "jaundice", "splenomegaly", "gallstones"],
        ["autosomal dominant usually", "spectrin/ankyrin mutations"],
        ["CBC", "osmotic fragility test", "EMA binding test", "genetic testing"],
        ["folic acid", "splenectomy if severe", "cholecystectomy for gallstones"],
    ),
    (
        "E80.20",
        "Acute Intermittent Porphyria",
        [
            "abdominal pain",
            "neuropsychiatric symptoms",
            "autonomic dysfunction",
            "port wine urine",
        ],
        ["autosomal dominant", "HMBS gene mutations", "female predominance"],
        ["urine PBG and ALA", "enzyme assay", "genetic testing"],
        ["IV hemin", "glucose loading", "avoid precipitants"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _genetics:
    GENETICS_MEDICINE[code] = generate_condition(
        code,
        name,
        "Medical Genetics",
        symptoms,
        risks,
        criteria,
        treatment,
        ["metabolic crisis", "organ failure", "sudden death", "severe disability"],
    )


# =============================================================================
# ITERATION 11: PEDIATRICS EXT, OBGYN EXT, NEONATOLOGY, ADOLESCENT
# =============================================================================

# Pediatrics Extended (20 conditions)
PEDIATRICS_EXTENDED: Dict[str, MedicalCondition] = {}
_peds_ext = [
    (
        "A08.0",
        "Rotavirus Gastroenteritis",
        ["watery diarrhea", "vomiting", "fever", "dehydration"],
        ["age 6-24 months", "daycare", "winter months"],
        ["clinical diagnosis", "stool antigen", "assess dehydration"],
        ["oral rehydration", "IV fluids if severe", "supportive care"],
    ),
    (
        "J20.9",
        "Acute Bronchitis Pediatric",
        ["cough", "low-grade fever", "rhinorrhea", "wheezing possible"],
        ["viral infection", "school exposure", "winter"],
        ["clinical diagnosis", "chest X-ray if pneumonia suspected"],
        ["supportive care", "no antibiotics for viral", "hydration"],
    ),
    (
        "B08.4",
        "Hand Foot Mouth Disease",
        ["oral vesicles", "hand/foot lesions", "fever", "malaise"],
        ["coxsackievirus", "daycare", "summer/fall"],
        ["clinical diagnosis"],
        ["supportive care", "pain control", "hydration"],
    ),
    (
        "B06.9",
        "Rubella",
        ["maculopapular rash", "lymphadenopathy", "low-grade fever", "arthralgia"],
        ["unvaccinated", "congenital infection risk"],
        ["serology", "clinical diagnosis"],
        ["supportive care", "prevention by MMR vaccination"],
    ),
    (
        "B05.9",
        "Measles",
        ["fever", "cough/coryza/conjunctivitis", "Koplik spots", "maculopapular rash"],
        ["unvaccinated", "travel", "outbreaks"],
        ["serology", "viral culture", "clinical"],
        ["supportive care", "vitamin A", "isolation"],
    ),
    (
        "B26.9",
        "Mumps",
        ["parotid swelling", "fever", "headache", "orchitis in adolescents"],
        ["unvaccinated", "outbreaks"],
        ["serology", "viral culture"],
        ["supportive care", "isolation", "prevention by MMR"],
    ),
    (
        "B01.9",
        "Varicella",
        ["vesicular rash", "fever", "pruritus", "crops of lesions"],
        ["unvaccinated", "exposure", "immunocompromised at risk for severe"],
        ["clinical diagnosis", "Tzanck smear if uncertain"],
        ["supportive care", "acyclovir if immunocompromised", "prevention by vaccine"],
    ),
    (
        "J45.20",
        "Childhood Asthma Mild",
        [
            "intermittent wheezing",
            "cough",
            "exercise-induced symptoms",
            "responds to SABA",
        ],
        ["atopy", "family history", "RSV bronchiolitis", "parental smoking"],
        ["spirometry if able", "clinical response to treatment"],
        ["SABA PRN", "low-dose ICS if persistent symptoms"],
    ),
    (
        "J45.40",
        "Childhood Asthma Moderate Persistent",
        [
            "daily symptoms",
            "nocturnal symptoms",
            "activity limitation",
            "exacerbations",
        ],
        ["atopy", "environmental allergens", "poor adherence"],
        ["spirometry", "peak flow monitoring"],
        ["medium-dose ICS", "LABA add-on", "controller adjustment"],
    ),
    (
        "K21.0",
        "Pediatric GERD",
        ["regurgitation", "vomiting", "irritability", "poor weight gain"],
        ["prematurity", "neurological impairment", "obesity"],
        ["clinical trial of treatment", "pH probe if uncertain", "EGD if severe"],
        ["feeding modifications", "thickening", "PPI if severe"],
    ),
    (
        "F84.0",
        "Autism Spectrum Disorder Childhood",
        [
            "social deficits",
            "communication impairment",
            "repetitive behaviors",
            "sensory issues",
        ],
        ["genetic", "male sex", "family history"],
        ["developmental assessment", "ADOS", "DSM criteria"],
        ["behavioral intervention", "speech therapy", "occupational therapy"],
    ),
    (
        "F90.0",
        "ADHD Predominantly Inattentive",
        ["inattention", "disorganization", "forgetfulness", "less hyperactivity"],
        ["genetics", "family history", "prenatal exposures"],
        ["clinical evaluation", "rating scales", "school input"],
        ["stimulants", "behavioral therapy", "school accommodations"],
    ),
    (
        "F90.1",
        "ADHD Predominantly Hyperactive",
        ["hyperactivity", "impulsivity", "difficulty waiting turn", "interrupting"],
        ["genetics", "family history", "male sex"],
        ["clinical evaluation", "rating scales"],
        ["stimulants", "behavioral therapy", "parent training"],
    ),
    (
        "R62.51",
        "Failure to Thrive",
        [
            "weight <3rd percentile",
            "crossing percentiles",
            "developmental delay possible",
            "feeding difficulties",
        ],
        ["inadequate intake", "malabsorption", "chronic disease", "psychosocial"],
        ["growth charts", "nutritional assessment", "workup for organic causes"],
        [
            "nutritional intervention",
            "treat underlying cause",
            "multidisciplinary approach",
        ],
    ),
    (
        "Q21.1",
        "Atrial Septal Defect",
        ["often asymptomatic", "fixed split S2", "fatigue", "palpitations if large"],
        ["genetic syndromes", "family history"],
        ["echocardiogram", "cardiac catheterization if indicated"],
        ["observation if small", "device closure", "surgical repair"],
    ),
    (
        "Q21.0",
        "Ventricular Septal Defect",
        [
            "often asymptomatic if small",
            "heart failure if large",
            "failure to thrive",
            "recurrent respiratory infections",
        ],
        ["genetic syndromes", "family history"],
        ["echocardiogram"],
        ["observation if small", "surgery if large/symptomatic"],
    ),
    (
        "P07.30",
        "Prematurity Effects",
        [
            "respiratory issues",
            "feeding difficulties",
            "developmental delay risk",
            "retinopathy",
        ],
        ["preterm birth <37 weeks"],
        ["gestational age assessment", "developmental monitoring"],
        ["NICU care", "developmental follow-up", "early intervention"],
    ),
    (
        "G40.909",
        "Childhood Epilepsy",
        ["seizures", "postictal state", "triggers variable", "developmental impact"],
        ["family history", "CNS abnormalities", "genetic syndromes"],
        ["EEG", "MRI brain", "genetic testing if indicated"],
        ["antiepileptic medications", "ketogenic diet", "surgery if refractory"],
    ),
    (
        "M41.00",
        "Adolescent Idiopathic Scoliosis",
        [
            "spinal curvature",
            "uneven shoulders",
            "rib prominence",
            "often asymptomatic",
        ],
        ["female sex", "family history", "growth spurts"],
        ["Adam's forward bend test", "scoliometer", "X-ray"],
        ["observation if mild", "bracing", "surgery if severe"],
    ),
    (
        "Q65.89",
        "Developmental Dysplasia of Hip",
        [
            "hip click",
            "asymmetric thigh folds",
            "limited abduction",
            "leg length discrepancy",
        ],
        ["female", "breech presentation", "family history", "firstborn"],
        ["ultrasound <6 months", "X-ray after 4 months"],
        ["Pavlik harness", "closed/open reduction", "hip spica cast"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _peds_ext:
    PEDIATRICS_EXTENDED[code] = generate_condition(
        code,
        name,
        "Pediatrics",
        symptoms,
        risks,
        criteria,
        treatment,
        ["respiratory failure", "sepsis", "seizures", "developmental regression"],
    )


# OB/GYN Extended (20 conditions)
OBGYN_EXTENDED: Dict[str, MedicalCondition] = {}
_obgyn_ext = [
    (
        "O24.41",
        "Gestational Diabetes",
        ["often asymptomatic", "polyuria", "polydipsia", "macrosomia"],
        ["obesity", "age >25", "prior GDM", "family history", "ethnicity"],
        ["glucose challenge test", "OGTT", "HbA1c"],
        ["diet modification", "exercise", "insulin if needed", "fetal monitoring"],
    ),
    (
        "O13.9",
        "Gestational Hypertension",
        ["elevated BP after 20 weeks", "no proteinuria", "headache possible", "edema"],
        ["first pregnancy", "obesity", "age >35", "prior preeclampsia"],
        ["BP monitoring", "proteinuria testing", "labs for severe features"],
        ["antihypertensives if severe", "delivery timing", "monitor for preeclampsia"],
    ),
    (
        "O26.841",
        "Hyperemesis Gravidarum",
        ["severe nausea/vomiting", "weight loss >5%", "ketosis", "dehydration"],
        ["first pregnancy", "multiple gestation", "molar pregnancy", "prior HG"],
        ["clinical diagnosis", "metabolic panel", "urinalysis for ketones"],
        ["IV fluids", "antiemetics", "thiamine", "hospitalization if severe"],
    ),
    (
        "O36.60",
        "Decreased Fetal Movement",
        [
            "perceived decrease in fetal activity",
            "maternal concern",
            "may indicate distress",
        ],
        ["IUGR", "oligohydramnios", "placental insufficiency", "fetal demise"],
        ["kick counts", "NST", "BPP", "ultrasound"],
        ["expectant management if reassuring", "delivery if non-reassuring"],
    ),
    (
        "O44.10",
        "Placenta Previa",
        [
            "painless vaginal bleeding",
            "third trimester",
            "abnormal presentation",
            "prior CS risk",
        ],
        ["prior cesarean", "multiparity", "prior previa", "smoking"],
        ["ultrasound", "transvaginal US for exact location"],
        ["pelvic rest", "hospitalization if bleeding", "cesarean delivery"],
    ),
    (
        "O45.9",
        "Placental Abruption",
        [
            "painful vaginal bleeding",
            "uterine tenderness",
            "contractions",
            "fetal distress",
        ],
        ["hypertension", "trauma", "cocaine", "prior abruption"],
        ["clinical diagnosis", "ultrasound", "fetal monitoring"],
        ["immediate delivery if severe", "stabilization", "blood products"],
    ),
    (
        "O42.0",
        "Premature Rupture of Membranes",
        ["fluid leakage", "prior to labor onset", "before 37 weeks if PPROM"],
        ["prior PPROM", "cervical insufficiency", "infection", "smoking"],
        ["sterile speculum exam", "ferning test", "AmniSure", "ultrasound"],
        ["antibiotics if preterm", "steroids for lung maturity", "delivery timing"],
    ),
    (
        "O60.10",
        "Preterm Labor",
        ["contractions before 37 weeks", "cervical change", "membrane intact usually"],
        ["prior preterm birth", "short cervix", "multiple gestation", "infection"],
        ["cervical exam", "fetal fibronectin", "ultrasound cervical length"],
        ["tocolytics", "betamethasone", "magnesium for neuroprotection"],
    ),
    (
        "O99.01",
        "Anemia in Pregnancy",
        ["fatigue", "pallor", "dyspnea on exertion", "pica"],
        ["iron deficiency", "folate deficiency", "thalassemia", "blood loss"],
        ["CBC", "iron studies", "reticulocyte count"],
        ["oral iron", "IV iron if intolerant/severe", "transfusion if symptomatic"],
    ),
    (
        "O86.0",
        "Postpartum Endometritis",
        ["fever postpartum", "uterine tenderness", "foul lochia", "abdominal pain"],
        ["cesarean delivery", "prolonged labor", "PROM", "multiple vaginal exams"],
        ["clinical diagnosis", "CBC", "blood cultures if septic"],
        ["broad-spectrum antibiotics", "hospitalization"],
    ),
    (
        "N80.0",
        "Endometriosis",
        ["dysmenorrhea", "dyspareunia", "chronic pelvic pain", "infertility"],
        ["family history", "nulliparity", "early menarche", "short cycles"],
        ["clinical suspicion", "ultrasound", "laparoscopy gold standard"],
        ["NSAIDs", "hormonal therapy", "surgery", "fertility treatment"],
    ),
    (
        "N85.0",
        "Endometrial Hyperplasia",
        ["abnormal uterine bleeding", "postmenopausal bleeding", "often asymptomatic"],
        ["obesity", "anovulation", "tamoxifen", "estrogen therapy"],
        ["endometrial biopsy", "ultrasound", "hysteroscopy"],
        ["progestin therapy", "hysterectomy if atypical/not responding"],
    ),
    (
        "D25.9",
        "Uterine Leiomyoma",
        [
            "heavy menstrual bleeding",
            "pelvic pressure",
            "urinary symptoms",
            "often asymptomatic",
        ],
        ["African descent", "obesity", "nulliparity", "family history"],
        ["pelvic ultrasound", "MRI if needed"],
        ["expectant management", "hormonal therapy", "myomectomy", "hysterectomy"],
    ),
    (
        "N83.20",
        "Ovarian Cyst",
        [
            "pelvic pain",
            "often asymptomatic",
            "torsion risk if large",
            "rupture possible",
        ],
        ["premenopausal", "functional cysts common", "endometrioma", "dermoid"],
        ["pelvic ultrasound", "tumor markers if concerning"],
        [
            "expectant management",
            "hormonal therapy",
            "surgery if symptomatic/concerning",
        ],
    ),
    (
        "N94.6",
        "Dysmenorrhea",
        ["cyclic pelvic pain", "cramping with menses", "nausea", "diarrhea"],
        ["prostaglandin excess", "endometriosis", "fibroids", "adenomyosis"],
        ["clinical diagnosis", "ultrasound if secondary suspected"],
        ["NSAIDs", "hormonal contraceptives", "heat therapy", "treat underlying"],
    ),
    (
        "N92.0",
        "Menorrhagia",
        ["heavy menstrual bleeding", ">7 days", "soaking protection", "clots"],
        ["fibroids", "coagulopathy", "hormonal", "polyps", "adenomyosis"],
        ["CBC", "coagulation studies", "ultrasound", "hysteroscopy"],
        ["tranexamic acid", "NSAIDs", "hormonal therapy", "surgery"],
    ),
    (
        "N91.2",
        "Amenorrhea",
        ["absence of menses", "primary vs secondary", "associated symptoms vary"],
        ["pregnancy first", "PCOS", "hypothalamic", "hyperprolactinemia"],
        ["pregnancy test", "FSH/LH", "prolactin", "TSH", "imaging"],
        ["treat underlying cause", "estrogen/progestin if needed"],
    ),
    (
        "E28.2",
        "Polycystic Ovary Syndrome",
        ["oligomenorrhea", "hirsutism", "acne", "obesity"],
        ["insulin resistance", "genetics", "obesity"],
        ["Rotterdam criteria", "ultrasound", "hormonal panel"],
        [
            "lifestyle modification",
            "metformin",
            "hormonal contraceptives",
            "spironolactone",
        ],
    ),
    (
        "N76.0",
        "Acute Vaginitis",
        ["vaginal discharge", "pruritus", "odor", "dyspareunia"],
        ["bacterial vaginosis", "yeast", "trichomoniasis", "atrophic"],
        ["wet mount", "pH testing", "KOH prep", "whiff test"],
        ["metronidazole for BV/Trich", "antifungals for yeast"],
    ),
    (
        "N75.1",
        "Bartholin Abscess",
        ["vulvar swelling", "pain", "fluctuant mass", "difficulty sitting"],
        ["sexually active", "prior abscess", "obstruction of duct"],
        ["clinical diagnosis"],
        ["incision and drainage", "Word catheter", "marsupialization if recurrent"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _obgyn_ext:
    OBGYN_EXTENDED[code] = generate_condition(
        code,
        name,
        "OB/GYN",
        symptoms,
        risks,
        criteria,
        treatment,
        ["eclampsia", "hemorrhage", "sepsis", "fetal demise"],
    )


# Neonatology (15 conditions)
NEONATOLOGY: Dict[str, MedicalCondition] = {}
_neonatology = [
    (
        "P22.0",
        "Respiratory Distress Syndrome",
        ["tachypnea", "grunting", "retractions", "cyanosis"],
        ["prematurity", "surfactant deficiency", "cesarean without labor"],
        ["chest X-ray ground glass", "blood gas", "clinical presentation"],
        ["surfactant therapy", "CPAP/mechanical ventilation", "supportive care"],
    ),
    (
        "P59.9",
        "Neonatal Jaundice",
        [
            "yellow skin/sclera",
            "poor feeding",
            "lethargy",
            "high-pitched cry if severe",
        ],
        ["prematurity", "hemolysis", "breastfeeding", "bruising"],
        ["total bilirubin", "direct bilirubin", "Coombs test", "reticulocyte count"],
        ["phototherapy", "exchange transfusion if severe", "treat underlying cause"],
    ),
    (
        "P36.9",
        "Neonatal Sepsis",
        ["temperature instability", "poor feeding", "lethargy", "respiratory distress"],
        ["prematurity", "PROM", "maternal GBS", "chorioamnionitis"],
        ["blood culture", "CBC", "CRP", "lumbar puncture"],
        ["empiric antibiotics", "supportive care", "adjust per culture"],
    ),
    (
        "P21.9",
        "Birth Asphyxia",
        ["low Apgar", "encephalopathy", "multiorgan dysfunction", "seizures"],
        ["placental abruption", "cord prolapse", "prolonged labor", "uterine rupture"],
        ["cord gas", "Apgar scores", "Sarnat staging"],
        ["therapeutic hypothermia", "supportive care", "seizure management"],
    ),
    (
        "P28.5",
        "Apnea of Prematurity",
        [
            "breathing pauses >20 seconds",
            "bradycardia",
            "desaturation",
            "central/obstructive",
        ],
        ["prematurity <37 weeks", "immature respiratory control"],
        ["continuous monitoring", "exclude other causes"],
        ["caffeine citrate", "CPAP", "stimulation"],
    ),
    (
        "P52.9",
        "Intraventricular Hemorrhage",
        ["often asymptomatic", "full fontanelle", "seizures", "apnea"],
        ["prematurity", "low birth weight", "RDS", "coagulopathy"],
        ["head ultrasound", "grading system"],
        [
            "supportive care",
            "monitor for hydrocephalus",
            "neurodevelopmental follow-up",
        ],
    ),
    (
        "P77.9",
        "Necrotizing Enterocolitis",
        ["abdominal distension", "feeding intolerance", "bloody stools", "lethargy"],
        ["prematurity", "formula feeding", "hypoxia", "infection"],
        ["abdominal X-ray", "clinical staging", "labs"],
        ["NPO", "antibiotics", "TPN", "surgery if perforation"],
    ),
    (
        "P29.30",
        "Patent Ductus Arteriosus",
        [
            "bounding pulses",
            "continuous murmur",
            "wide pulse pressure",
            "respiratory distress",
        ],
        ["prematurity", "RDS", "fluid overload"],
        ["echocardiogram", "clinical assessment"],
        ["fluid restriction", "indomethacin/ibuprofen", "surgical ligation"],
    ),
    (
        "P61.0",
        "Neonatal Thrombocytopenia",
        ["petechiae", "bleeding", "bruising", "often asymptomatic"],
        ["sepsis", "immune-mediated", "DIC", "TORCH"],
        ["platelet count", "evaluation for cause"],
        ["treat underlying cause", "platelet transfusion if severe bleeding"],
    ),
    (
        "P55.1",
        "ABO Hemolytic Disease",
        [
            "jaundice first 24 hours",
            "anemia",
            "hepatosplenomegaly",
            "hydrops if severe",
        ],
        ["O blood type mother", "A or B blood type infant"],
        ["Coombs test", "bilirubin", "reticulocyte count", "blood type"],
        ["phototherapy", "IVIG", "exchange transfusion if severe"],
    ),
    (
        "P55.0",
        "Rh Hemolytic Disease",
        ["severe anemia", "jaundice", "hydrops fetalis", "heart failure"],
        ["Rh-negative mother", "Rh-positive fetus", "sensitization"],
        ["Coombs test", "maternal antibody screen", "ultrasound for hydrops"],
        ["intrauterine transfusion", "early delivery", "exchange transfusion"],
    ),
    (
        "P08.0",
        "Large for Gestational Age",
        [
            "birth weight >90th percentile",
            "hypoglycemia",
            "birth injury risk",
            "respiratory issues",
        ],
        ["maternal diabetes", "obesity", "postdates", "genetics"],
        ["growth charts", "glucose monitoring"],
        ["glucose monitoring", "treat hypoglycemia", "injury assessment"],
    ),
    (
        "P05.9",
        "Small for Gestational Age",
        [
            "birth weight <10th percentile",
            "hypoglycemia",
            "temperature instability",
            "polycythemia",
        ],
        ["placental insufficiency", "maternal HTN", "TORCH", "genetic syndromes"],
        ["growth assessment", "glucose monitoring", "TORCH if indicated"],
        ["nutritional support", "temperature regulation", "developmental follow-up"],
    ),
    (
        "P70.4",
        "Neonatal Hypoglycemia",
        ["jitteriness", "lethargy", "seizures", "poor feeding"],
        ["IDM", "SGA/LGA", "prematurity", "sepsis"],
        ["glucose monitoring", "identify cause"],
        ["early feeding", "IV dextrose if symptomatic/severe", "monitor"],
    ),
    (
        "P94.0",
        "Neonatal Hypotonia",
        [
            "decreased muscle tone",
            "poor feeding",
            "respiratory issues",
            "developmental concerns",
        ],
        ["hypoxic-ischemic", "genetic", "metabolic", "neuromuscular"],
        ["neurological exam", "genetic testing", "metabolic workup", "MRI"],
        ["supportive care", "treat underlying cause", "early intervention"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _neonatology:
    NEONATOLOGY[code] = generate_condition(
        code,
        name,
        "Neonatology",
        symptoms,
        risks,
        criteria,
        treatment,
        ["respiratory failure", "sepsis", "brain injury", "death"],
    )


# Adolescent Medicine (10 conditions)
ADOLESCENT_MEDICINE: Dict[str, MedicalCondition] = {}
_adolescent = [
    (
        "F50.00",
        "Adolescent Anorexia Nervosa",
        ["low BMI", "fear of weight gain", "body image distortion", "amenorrhea"],
        ["female", "perfectionism", "sports emphasis on weight", "trauma"],
        ["BMI", "metabolic panel", "EAT-26", "bone density"],
        [
            "FBT",
            "nutritional rehabilitation",
            "medical monitoring",
            "hospitalization if unstable",
        ],
    ),
    (
        "F50.2",
        "Adolescent Bulimia Nervosa",
        ["binge eating", "purging", "guilt about eating", "normal weight often"],
        ["dieting history", "trauma", "low self-esteem"],
        ["electrolytes", "dental exam", "EAT-26"],
        ["CBT-E", "fluoxetine", "nutritional counseling"],
    ),
    (
        "F32.A",
        "Adolescent Major Depression",
        ["sad mood", "irritability", "sleep changes", "suicidal ideation"],
        ["family history", "trauma", "bullying", "chronic illness"],
        ["PHQ-A", "suicide risk assessment", "clinical interview"],
        ["psychotherapy", "SSRIs", "school support", "crisis safety planning"],
    ),
    (
        "F41.1",
        "Adolescent Anxiety",
        ["excessive worry", "somatic symptoms", "avoidance", "school refusal"],
        ["family history", "temperament", "life stressors"],
        ["GAD-7", "clinical interview"],
        ["CBT", "SSRIs", "school accommodations"],
    ),
    (
        "F91.9",
        "Conduct Disorder",
        ["aggression", "rule violations", "property destruction", "deceitfulness"],
        ["family dysfunction", "abuse/neglect", "ADHD", "substance use"],
        ["clinical interview", "collateral from school/family"],
        ["parent management training", "MST", "residential if severe"],
    ),
    (
        "T14.91",
        "Non-Suicidal Self-Injury",
        ["cutting", "burning", "emotional regulation difficulty", "hidden injuries"],
        ["mental health disorder", "trauma", "peer influence", "poor coping"],
        ["clinical assessment", "safety evaluation", "mental health eval"],
        ["DBT skills", "safety planning", "treat underlying disorder"],
    ),
    (
        "Z72.0",
        "Adolescent Substance Use",
        ["experimentation", "regular use", "dependence", "risky behavior"],
        ["peer use", "family history", "mental health", "trauma"],
        ["CRAFFT screening", "toxicology", "comprehensive assessment"],
        ["brief intervention", "outpatient treatment", "residential if severe"],
    ),
    (
        "N91.0",
        "Adolescent Primary Amenorrhea",
        [
            "no menses by age 15",
            "no secondary sex characteristics by 13",
            "evaluation needed",
        ],
        [
            "hypothalamic-pituitary",
            "gonadal dysgenesis",
            "outflow obstruction",
            "constitutional delay",
        ],
        ["physical exam", "FSH/LH", "karyotype if indicated", "imaging"],
        ["treat underlying cause", "hormone replacement if indicated"],
    ),
    (
        "F64.0",
        "Gender Dysphoria Adolescent",
        [
            "marked incongruence with assigned gender",
            "distress",
            "desire for characteristics of experienced gender",
        ],
        ["developmental", "biological", "social factors"],
        ["comprehensive assessment", "mental health evaluation", "informed consent"],
        [
            "affirmative care",
            "puberty blockers",
            "hormone therapy if appropriate",
            "psychosocial support",
        ],
    ),
    (
        "L70.0",
        "Adolescent Acne Vulgaris",
        ["comedones", "papules", "pustules", "nodules"],
        ["hormones", "family history", "stress", "certain cosmetics"],
        ["clinical exam", "grading of severity"],
        [
            "topical retinoids",
            "benzoyl peroxide",
            "oral antibiotics",
            "isotretinoin if severe",
        ],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _adolescent:
    ADOLESCENT_MEDICINE[code] = generate_condition(
        code,
        name,
        "Adolescent Medicine",
        symptoms,
        risks,
        criteria,
        treatment,
        [
            "suicide",
            "medical instability",
            "chronic impairment",
            "risky behavior consequences",
        ],
    )


# =============================================================================
# ITERATION 12: VASCULAR, TRANSPLANT, SLEEP, PALLIATIVE, ORTHO EXT
# =============================================================================

# Vascular Surgery (15 conditions)
VASCULAR_SURGERY: Dict[str, MedicalCondition] = {}
_vascular = [
    (
        "I70.20",
        "Atherosclerosis of Extremities",
        ["claudication", "rest pain", "non-healing ulcers", "gangrene"],
        ["smoking", "diabetes", "hypertension", "hyperlipidemia"],
        ["ABI", "duplex ultrasound", "CTA/MRA", "angiography"],
        [
            "risk factor modification",
            "cilostazol",
            "revascularization",
            "amputation if severe",
        ],
    ),
    (
        "I71.4",
        "Abdominal Aortic Aneurysm Ruptured",
        [
            "sudden severe abdominal/back pain",
            "hypotension",
            "pulsatile mass",
            "syncope",
        ],
        ["known AAA", "hypertension", "smoking", "male"],
        ["clinical diagnosis", "bedside ultrasound", "CT if stable"],
        ["emergent surgery", "EVAR if anatomy permits", "resuscitation"],
    ),
    (
        "I77.1",
        "Arterial Stricture",
        ["limb ischemia", "pain", "weak pulses", "pallor"],
        ["atherosclerosis", "fibromuscular dysplasia", "radiation"],
        ["duplex ultrasound", "CTA", "angiography"],
        ["angioplasty", "stenting", "bypass surgery"],
    ),
    (
        "I74.3",
        "Arterial Embolism Lower Extremity",
        ["sudden pain", "pulselessness", "pallor", "paresthesias"],
        ["atrial fibrillation", "MI", "endocarditis", "aortic aneurysm"],
        ["clinical (6 Ps)", "duplex", "angiography"],
        [
            "anticoagulation",
            "embolectomy",
            "thrombolysis",
            "fasciotomy if compartment syndrome",
        ],
    ),
    (
        "I80.20",
        "Phlebitis Deep Vessels",
        ["leg swelling", "pain", "warmth", "Homans sign unreliable"],
        ["immobility", "surgery", "malignancy", "hypercoagulable state"],
        ["compression ultrasound", "D-dimer", "clinical probability"],
        ["anticoagulation", "compression stockings", "early ambulation"],
    ),
    (
        "I83.90",
        "Varicose Veins",
        ["visible dilated veins", "leg heaviness", "aching", "skin changes"],
        ["family history", "prolonged standing", "obesity", "pregnancy"],
        ["clinical exam", "duplex ultrasound"],
        ["compression", "sclerotherapy", "endovenous ablation", "surgery"],
    ),
    (
        "I87.2",
        "Venous Insufficiency",
        ["leg edema", "skin changes", "stasis dermatitis", "ulceration"],
        ["prior DVT", "varicose veins", "obesity", "prolonged standing"],
        ["clinical exam", "duplex ultrasound"],
        ["compression therapy", "leg elevation", "wound care", "ablation"],
    ),
    (
        "L97.909",
        "Venous Ulcer",
        ["lower leg ulcer", "irregular borders", "granulation tissue", "edema"],
        ["chronic venous insufficiency", "prior DVT", "varicose veins"],
        ["clinical exam", "ABI to rule out arterial", "duplex"],
        ["compression therapy", "wound care", "treat underlying"],
    ),
    (
        "I72.4",
        "Iliac Artery Aneurysm",
        ["often asymptomatic", "pulsatile mass", "rupture risk", "emboli"],
        ["atherosclerosis", "AAA", "connective tissue disorder"],
        ["CT angiography", "ultrasound"],
        ["surveillance if small", "repair if >3cm or symptomatic"],
    ),
    (
        "I73.1",
        "Thromboangiitis Obliterans",
        ["claudication", "rest pain", "ulceration", "gangrene"],
        ["smoking essential", "young males"],
        ["clinical diagnosis", "angiography", "biopsy rarely"],
        ["smoking cessation mandatory", "iloprost", "amputation if severe"],
    ),
    (
        "I77.6",
        "Arteritis",
        ["limb claudication", "constitutional symptoms", "bruits", "pulse deficits"],
        ["autoimmune", "giant cell arteritis", "Takayasu arteritis"],
        ["inflammatory markers", "imaging", "biopsy"],
        ["steroids", "immunosuppression", "revascularization"],
    ),
    (
        "I87.0",
        "Postthrombotic Syndrome",
        ["leg swelling", "pain", "skin changes", "ulceration"],
        ["prior DVT", "inadequate anticoagulation", "obesity"],
        ["clinical diagnosis", "Villalta score"],
        ["compression", "exercise", "wound care if ulcers"],
    ),
    (
        "I99.8",
        "Vascular Access Complication",
        ["thrombosis", "infection", "stenosis", "pseudoaneurysm"],
        ["dialysis access", "central lines", "prior interventions"],
        ["duplex ultrasound", "clinical exam", "fistulogram"],
        ["thrombectomy", "angioplasty", "revision surgery", "infection treatment"],
    ),
    (
        "T82.8",
        "Graft Complication",
        ["graft infection", "pseudoaneurysm", "thrombosis", "hemorrhage"],
        ["synthetic graft", "redo surgery", "immunosuppression"],
        ["imaging", "blood cultures", "clinical exam"],
        ["antibiotics", "graft excision", "revascularization"],
    ),
    (
        "I79.8",
        "Arteriovenous Malformation",
        ["mass", "thrill/bruit", "pain", "bleeding"],
        ["congenital", "trauma", "hereditary"],
        ["duplex", "MRA", "angiography"],
        ["observation", "embolization", "surgical excision"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _vascular:
    VASCULAR_SURGERY[code] = generate_condition(
        code,
        name,
        "Vascular Surgery",
        symptoms,
        risks,
        criteria,
        treatment,
        ["limb loss", "rupture", "massive hemorrhage", "stroke"],
    )


# Transplant Medicine (10 conditions)
TRANSPLANT_MEDICINE: Dict[str, MedicalCondition] = {}
_transplant = [
    (
        "T86.11",
        "Kidney Transplant Rejection",
        ["rising creatinine", "decreased urine output", "fever", "graft tenderness"],
        [
            "non-adherence",
            "infection",
            "DSA development",
            "inadequate immunosuppression",
        ],
        ["creatinine", "biopsy", "DSA testing"],
        ["pulse steroids", "ATG", "adjust immunosuppression"],
    ),
    (
        "T86.21",
        "Heart Transplant Rejection",
        ["heart failure symptoms", "arrhythmias", "fatigue", "dyspnea"],
        ["non-adherence", "DSA", "CMV infection"],
        ["endomyocardial biopsy", "echocardiogram", "DSA"],
        ["pulse steroids", "ATG", "photopheresis"],
    ),
    (
        "T86.31",
        "Heart-Lung Transplant Rejection",
        ["dyspnea", "hypoxia", "declining FEV1", "fever"],
        ["non-adherence", "infection", "BOS development"],
        ["bronchoscopy", "biopsy", "PFTs"],
        ["augmented immunosuppression", "treat infection"],
    ),
    (
        "T86.41",
        "Liver Transplant Rejection",
        ["elevated LFTs", "fever", "jaundice", "pruritus"],
        ["non-adherence", "autoimmune", "infection"],
        ["LFTs", "liver biopsy", "DSA"],
        ["pulse steroids", "ATG", "adjust immunosuppression"],
    ),
    (
        "T86.89",
        "Other Transplant Rejection",
        ["organ-specific dysfunction", "fever", "pain", "laboratory abnormalities"],
        ["non-adherence", "inadequate immunosuppression", "DSA"],
        ["organ-specific testing", "biopsy"],
        ["augmented immunosuppression", "organ-specific management"],
    ),
    (
        "B25.9",
        "CMV Disease Post-Transplant",
        ["fever", "leukopenia", "hepatitis", "colitis"],
        ["seronegative recipient", "high immunosuppression", "no prophylaxis"],
        ["CMV PCR", "antigenemia", "tissue biopsy"],
        ["valganciclovir", "ganciclovir IV if severe", "reduce immunosuppression"],
    ),
    (
        "B00.9",
        "HSV Reactivation Post-Transplant",
        ["oral/genital lesions", "esophagitis", "encephalitis rare"],
        ["seropositive recipient", "high immunosuppression"],
        ["clinical", "PCR", "viral culture"],
        ["acyclovir", "valacyclovir", "prophylaxis"],
    ),
    (
        "B45.1",
        "Cryptococcal Meningitis Post-Transplant",
        ["headache", "fever", "altered mental status", "meningismus"],
        ["high immunosuppression", "environmental exposure"],
        ["LP with cryptococcal antigen", "culture", "imaging"],
        ["amphotericin B + flucytosine", "fluconazole consolidation"],
    ),
    (
        "D89.810",
        "Graft-Versus-Host Disease Acute",
        ["skin rash", "diarrhea", "liver dysfunction", "fever"],
        ["allogeneic HSCT", "HLA mismatch", "older donor"],
        ["clinical staging", "biopsy of affected organ"],
        ["steroids", "ruxolitinib", "supportive care"],
    ),
    (
        "D89.811",
        "Graft-Versus-Host Disease Chronic",
        ["skin sclerosis", "dry eyes/mouth", "bronchiolitis obliterans", "GI symptoms"],
        ["prior acute GVHD", "allogeneic HSCT", "HLA mismatch"],
        ["clinical diagnosis", "biopsy", "PFTs"],
        ["steroids", "ibrutinib", "photopheresis", "supportive care"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _transplant:
    TRANSPLANT_MEDICINE[code] = generate_condition(
        code,
        name,
        "Transplant Medicine",
        symptoms,
        risks,
        criteria,
        treatment,
        ["graft loss", "opportunistic infection", "malignancy", "death"],
    )


# Sleep Medicine (10 conditions)
SLEEP_MEDICINE: Dict[str, MedicalCondition] = {}
_sleep = [
    (
        "G47.33",
        "Obstructive Sleep Apnea",
        [
            "snoring",
            "witnessed apneas",
            "excessive daytime sleepiness",
            "morning headaches",
        ],
        ["obesity", "male sex", "large neck", "craniofacial abnormalities"],
        ["polysomnography", "home sleep testing", "Epworth scale"],
        ["CPAP", "weight loss", "oral appliance", "surgery"],
    ),
    (
        "G47.31",
        "Central Sleep Apnea",
        [
            "witnessed apneas",
            "insomnia",
            "daytime sleepiness",
            "paroxysmal nocturnal dyspnea",
        ],
        ["heart failure", "opioids", "stroke", "high altitude"],
        ["polysomnography"],
        ["treat underlying cause", "ASV", "supplemental O2"],
    ),
    (
        "G47.00",
        "Insomnia Disorder",
        [
            "difficulty initiating sleep",
            "difficulty maintaining sleep",
            "early awakening",
            "daytime impairment",
        ],
        ["stress", "anxiety", "depression", "poor sleep hygiene"],
        ["clinical history", "sleep diary", "actigraphy"],
        ["CBT-I", "sleep hygiene", "short-term medications"],
    ),
    (
        "G47.419",
        "Narcolepsy Type 1",
        [
            "excessive daytime sleepiness",
            "cataplexy",
            "hypnagogic hallucinations",
            "sleep paralysis",
        ],
        ["genetic (HLA-DQB1)", "autoimmune"],
        ["PSG with MSLT", "CSF hypocretin if available"],
        ["modafinil/armodafinil", "sodium oxybate", "scheduled naps"],
    ),
    (
        "G47.421",
        "Narcolepsy Type 2",
        [
            "excessive daytime sleepiness",
            "no cataplexy",
            "sleep attacks",
            "disrupted nighttime sleep",
        ],
        ["less clear than type 1"],
        ["PSG with MSLT", "hypocretin normal"],
        ["stimulants", "wake-promoting agents", "scheduled naps"],
    ),
    (
        "G47.52",
        "REM Sleep Behavior Disorder",
        [
            "dream enactment",
            "vocalization during sleep",
            "movements during REM",
            "potential injury",
        ],
        ["male", "age >50", "neurodegeneration risk"],
        ["video PSG showing REM without atonia"],
        ["safety measures", "melatonin", "clonazepam"],
    ),
    (
        "G47.61",
        "Periodic Limb Movement Disorder",
        [
            "leg movements during sleep",
            "sleep disruption",
            "daytime fatigue",
            "partner complaints",
        ],
        ["iron deficiency", "renal disease", "neuropathy", "medications"],
        ["PSG showing periodic limb movements"],
        ["treat underlying cause", "dopamine agonists", "gabapentinoids"],
    ),
    (
        "G25.81",
        "Restless Legs Syndrome",
        [
            "urge to move legs",
            "worse at rest",
            "relief with movement",
            "evening/nighttime worsening",
        ],
        ["iron deficiency", "pregnancy", "renal disease", "family history"],
        ["clinical diagnosis", "iron studies"],
        ["iron supplementation", "dopamine agonists", "alpha-2-delta ligands"],
    ),
    (
        "G47.10",
        "Hypersomnia",
        [
            "excessive sleep",
            "prolonged nighttime sleep",
            "difficulty awakening",
            "daytime sleepiness despite sleep",
        ],
        ["idiopathic", "medications", "psychiatric", "neurological"],
        ["PSG with MSLT", "rule out other causes"],
        ["stimulants", "sleep hygiene", "treat underlying cause"],
    ),
    (
        "F51.5",
        "Nightmare Disorder",
        ["disturbing dreams", "detailed recall", "distress", "avoidance of sleep"],
        ["PTSD", "stress", "medications", "trauma"],
        ["clinical history"],
        [
            "IRT (imagery rehearsal therapy)",
            "prazosin if PTSD-related",
            "address underlying cause",
        ],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _sleep:
    SLEEP_MEDICINE[code] = generate_condition(
        code,
        name,
        "Sleep Medicine",
        symptoms,
        risks,
        criteria,
        treatment,
        [
            "cardiovascular events",
            "accidents",
            "cognitive impairment",
            "psychiatric comorbidity",
        ],
    )


# Palliative Care (10 conditions)
PALLIATIVE_CARE: Dict[str, MedicalCondition] = {}
_palliative = [
    (
        "Z51.5",
        "Palliative Care Encounter",
        [
            "symptom management",
            "goals of care",
            "advance care planning",
            "comfort focus",
        ],
        ["serious illness", "limited prognosis", "complex symptoms"],
        ["palliative performance scale", "symptom assessment"],
        ["symptom management", "psychosocial support", "care coordination"],
    ),
    (
        "R52",
        "Cancer Pain",
        [
            "chronic pain",
            "breakthrough pain",
            "neuropathic component possible",
            "functional impairment",
        ],
        ["tumor invasion", "bone metastases", "treatment-related"],
        ["pain assessment", "imaging for cause"],
        [
            "opioids",
            "adjuvants",
            "interventional procedures",
            "radiation for bone mets",
        ],
    ),
    (
        "G89.3",
        "Neoplasm-Related Pain",
        ["somatic", "visceral", "neuropathic", "mixed"],
        ["tumor location", "treatment effects", "comorbidities"],
        ["comprehensive pain assessment"],
        ["multimodal analgesia", "opioid rotation", "nerve blocks"],
    ),
    (
        "R53.83",
        "Cancer-Related Fatigue",
        [
            "persistent tiredness",
            "not relieved by rest",
            "impacts function",
            "multifactorial",
        ],
        ["cancer treatment", "anemia", "depression", "sleep disturbance"],
        ["fatigue scales", "rule out treatable causes"],
        ["treat underlying", "exercise", "psychostimulants", "energy conservation"],
    ),
    (
        "R63.0",
        "Anorexia in Terminal Illness",
        ["loss of appetite", "weight loss", "early satiety", "cachexia"],
        ["advanced cancer", "organ failure", "depression"],
        ["clinical assessment", "nutritional evaluation"],
        [
            "appetite stimulants",
            "nutritional counseling",
            "family education",
            "comfort focus",
        ],
    ),
    (
        "R06.0",
        "Dyspnea in Terminal Illness",
        [
            "breathlessness",
            "air hunger",
            "anxiety with breathing",
            "refractory to treatment",
        ],
        ["lung cancer", "COPD", "heart failure", "pleural effusion"],
        ["symptom assessment", "identify reversible causes"],
        ["opioids", "supplemental O2", "fan therapy", "benzodiazepines"],
    ),
    (
        "R11.0",
        "Nausea in Palliative Care",
        ["persistent nausea", "vomiting", "impact on intake", "quality of life"],
        ["medications", "bowel obstruction", "brain metastases", "anxiety"],
        ["identify cause", "clinical assessment"],
        ["antiemetics based on cause", "dexamethasone", "5-HT3 antagonists"],
    ),
    (
        "K59.09",
        "Constipation in Palliative Care",
        ["infrequent stools", "straining", "abdominal discomfort", "overflow"],
        ["opioids", "immobility", "dehydration", "bowel obstruction"],
        ["clinical assessment", "X-ray if obstruction suspected"],
        ["prophylactic with opioids", "stimulant laxatives", "enemas"],
    ),
    (
        "G93.82",
        "Delirium in Terminal Illness",
        ["acute confusion", "fluctuating consciousness", "agitation", "hallucinations"],
        ["medications", "metabolic", "infection", "brain metastases"],
        ["clinical assessment", "rule out reversible causes"],
        ["treat underlying if appropriate", "haloperidol", "environmental measures"],
    ),
    (
        "Z51.11",
        "Hospice Care Encounter",
        [
            "comfort-focused care",
            "life expectancy <6 months",
            "family support",
            "bereavement care",
        ],
        ["terminal illness", "patient/family goals aligned with comfort"],
        ["prognostic assessment", "goals of care discussion"],
        ["comprehensive comfort care", "family support", "spiritual care"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _palliative:
    PALLIATIVE_CARE[code] = generate_condition(
        code,
        name,
        "Palliative Care",
        symptoms,
        risks,
        criteria,
        treatment,
        [
            "uncontrolled symptoms",
            "distressing death",
            "family crisis",
            "caregiver burnout",
        ],
    )


# Orthopedics Extended (20 conditions)
ORTHOPEDICS_EXTENDED: Dict[str, MedicalCondition] = {}
_ortho_ext = [
    (
        "M17.11",
        "Primary Osteoarthritis Knee",
        ["knee pain", "stiffness", "crepitus", "decreased ROM"],
        ["age", "obesity", "prior injury", "female sex"],
        ["X-ray", "clinical exam"],
        ["weight loss", "PT", "NSAIDs", "injections", "TKA"],
    ),
    (
        "M16.11",
        "Primary Osteoarthritis Hip",
        ["groin pain", "stiffness", "limp", "decreased ROM"],
        ["age", "obesity", "congenital abnormalities", "prior injury"],
        ["X-ray", "clinical exam"],
        ["PT", "NSAIDs", "injections", "THA"],
    ),
    (
        "M48.06",
        "Lumbar Spinal Stenosis",
        [
            "neurogenic claudication",
            "leg pain with walking",
            "relief with flexion",
            "back pain",
        ],
        ["age", "degenerative changes", "congenital narrow canal"],
        ["MRI lumbar spine", "clinical exam"],
        ["PT", "epidural steroids", "decompression surgery"],
    ),
    (
        "M47.816",
        "Cervical Spondylosis",
        ["neck pain", "stiffness", "radiculopathy", "myelopathy if severe"],
        ["age", "repetitive stress", "prior injury"],
        ["X-ray", "MRI if neurological symptoms"],
        ["PT", "NSAIDs", "collar", "surgery if myelopathy"],
    ),
    (
        "M51.16",
        "Lumbar Disc Herniation",
        ["back pain", "radiculopathy", "positive SLR", "weakness possible"],
        ["heavy lifting", "obesity", "genetics"],
        ["MRI lumbar", "clinical exam"],
        ["conservative care", "PT", "epidural steroids", "microdiscectomy"],
    ),
    (
        "M51.06",
        "Cervical Disc Herniation",
        ["neck pain", "arm pain", "weakness", "paresthesias"],
        ["age", "repetitive stress", "trauma"],
        ["MRI cervical", "EMG if indicated"],
        ["conservative care", "PT", "surgery if refractory"],
    ),
    (
        "M75.10",
        "Rotator Cuff Tendinitis",
        ["shoulder pain", "painful arc", "night pain", "weakness if tear"],
        ["overhead activities", "age", "repetitive use"],
        ["clinical exam", "ultrasound", "MRI"],
        ["PT", "NSAIDs", "injections", "surgery for tears"],
    ),
    (
        "M75.0",
        "Adhesive Capsulitis",
        [
            "shoulder pain",
            "progressive stiffness",
            "limited ROM all directions",
            "phases of freezing",
        ],
        ["diabetes", "thyroid disease", "immobilization", "female"],
        ["clinical exam", "arthrogram if uncertain"],
        ["PT", "injections", "manipulation under anesthesia", "capsular release"],
    ),
    (
        "M23.50",
        "Meniscal Tear",
        ["knee pain", "locking", "catching", "effusion"],
        ["twisting injury", "degenerative", "age"],
        ["MRI knee", "clinical exam"],
        ["PT", "arthroscopic meniscectomy", "meniscal repair"],
    ),
    (
        "M22.0",
        "Recurrent Patellar Dislocation",
        ["patellar instability", "giving way", "apprehension", "effusion"],
        ["patellofemoral dysplasia", "ligamentous laxity", "prior dislocation"],
        ["X-ray", "MRI"],
        ["PT for VMO", "MPFL reconstruction"],
    ),
    (
        "S83.401",
        "Lateral Collateral Ligament Sprain",
        ["lateral knee pain", "instability", "varus stress positive", "swelling"],
        ["varus stress injury", "sports"],
        ["clinical exam", "MRI"],
        ["bracing", "PT", "surgery if grade III with other injuries"],
    ),
    (
        "S83.50",
        "Cruciate Ligament Injury",
        ["knee instability", "giving way", "swelling", "Lachman/pivot shift positive"],
        ["sports injury", "pivoting", "hyperextension"],
        ["clinical exam", "MRI"],
        ["PT for low-demand", "ACL reconstruction for active patients"],
    ),
    (
        "M76.60",
        "Achilles Tendinopathy",
        ["posterior heel pain", "morning stiffness", "swelling", "pain with activity"],
        ["running", "fluoroquinolones", "middle age"],
        ["clinical exam", "ultrasound/MRI"],
        ["eccentric exercises", "PT", "heel lifts", "surgery if refractory"],
    ),
    (
        "M72.0",
        "Plantar Fasciitis",
        [
            "plantar heel pain",
            "worse with first steps",
            "improves with activity",
            "tenderness at insertion",
        ],
        ["obesity", "tight calves", "prolonged standing", "flat feet/high arches"],
        ["clinical exam", "X-ray for spur"],
        ["stretching", "orthotics", "night splints", "injections", "shockwave"],
    ),
    (
        "M20.10",
        "Hallux Valgus",
        [
            "bunion deformity",
            "pain with shoes",
            "metatarsalgia",
            "progressive deformity",
        ],
        ["genetics", "narrow shoes", "female sex"],
        ["X-ray", "clinical exam"],
        ["wide shoes", "orthotics", "bunionectomy"],
    ),
    (
        "M84.48",
        "Stress Fracture",
        ["activity-related pain", "point tenderness", "swelling", "gradual onset"],
        ["overuse", "sudden increase in activity", "female athlete triad"],
        ["X-ray often negative early", "MRI", "bone scan"],
        ["rest", "protected weight bearing", "treat underlying", "gradual return"],
    ),
    (
        "M25.511",
        "Shoulder Instability",
        [
            "shoulder giving way",
            "apprehension",
            "pain with overhead",
            "recurrent dislocations",
        ],
        ["prior dislocation", "ligamentous laxity", "sports"],
        ["clinical exam", "MRI arthrogram"],
        ["PT for stability", "surgical stabilization if recurrent"],
    ),
    (
        "M65.30",
        "Trigger Finger",
        ["finger catching", "painful snapping", "nodule at A1 pulley", "locking"],
        ["diabetes", "repetitive gripping", "female sex"],
        ["clinical exam"],
        ["splinting", "corticosteroid injection", "surgical release"],
    ),
    (
        "M65.4",
        "De Quervain Tenosynovitis",
        [
            "radial wrist pain",
            "pain with thumb movement",
            "positive Finkelstein",
            "swelling",
        ],
        ["repetitive motion", "new mothers", "female sex"],
        ["clinical exam"],
        ["splinting", "NSAIDs", "injection", "surgery if refractory"],
    ),
    (
        "G56.00",
        "Carpal Tunnel Syndrome",
        ["hand numbness", "tingling", "weakness", "nocturnal symptoms"],
        ["repetitive motion", "pregnancy", "diabetes", "hypothyroidism"],
        ["Phalen test", "Tinel sign", "NCS"],
        ["splinting", "injection", "carpal tunnel release"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _ortho_ext:
    ORTHOPEDICS_EXTENDED[code] = generate_condition(
        code,
        name,
        "Orthopedics",
        symptoms,
        risks,
        criteria,
        treatment,
        [
            "compartment syndrome",
            "neurovascular injury",
            "chronic disability",
            "infection",
        ],
    )


# =============================================================================
# ITERATION 13: DERMATOLOGY EXTENDED, ENT EXTENDED, UROLOGY EXTENDED, NEPHROLOGY EXTENDED
# =============================================================================

# Dermatology Extended - 20 conditions
DERMATOLOGY_EXTENDED: Dict[str, MedicalCondition] = {}
_derm_ext = [
    (
        "L30.9",
        "Dermatitis Unspecified",
        ["rash", "itching", "redness", "scaling"],
        ["atopy", "irritants", "allergens"],
        ["clinical exam", "patch testing if indicated"],
        ["moisturizers", "topical steroids", "avoid triggers"],
    ),
    (
        "L50.0",
        "Allergic Urticaria",
        ["wheals", "pruritus", "angioedema", "dermographism"],
        ["allergen exposure", "medications", "infections"],
        ["clinical history", "allergy testing"],
        ["antihistamines", "epinephrine if severe", "allergen avoidance"],
    ),
    (
        "L40.0",
        "Psoriasis Vulgaris",
        ["plaques", "silvery scales", "nail pitting", "joint pain"],
        ["genetics", "stress", "infections", "medications"],
        ["clinical exam", "skin biopsy if uncertain"],
        ["topical therapy", "phototherapy", "biologics"],
    ),
    (
        "L43.9",
        "Lichen Planus",
        ["purple papules", "Wickham striae", "oral lesions", "pruritus"],
        ["autoimmune", "hepatitis C association", "medications"],
        ["clinical exam", "biopsy"],
        ["topical steroids", "antihistamines", "systemic therapy"],
    ),
    (
        "L80",
        "Vitiligo",
        ["depigmented patches", "bilateral symmetric", "progressive"],
        ["autoimmune", "family history", "thyroid disease"],
        ["Wood lamp exam", "clinical assessment"],
        ["topical steroids", "phototherapy", "depigmentation"],
    ),
    (
        "L82.1",
        "Seborrheic Keratosis",
        ["waxy papules", "stuck-on appearance", "pigmented", "multiple"],
        ["aging", "sun exposure", "genetics"],
        ["clinical exam", "dermoscopy"],
        ["observation", "cryotherapy", "curettage"],
    ),
    (
        "L57.0",
        "Actinic Keratosis",
        ["rough scaly patch", "sun-exposed areas", "erythematous base"],
        ["sun exposure", "fair skin", "immunosuppression"],
        ["clinical exam", "biopsy if uncertain"],
        ["cryotherapy", "topical 5-FU", "photodynamic therapy"],
    ),
    (
        "L85.3",
        "Xerosis Cutis",
        ["dry skin", "scaling", "pruritus", "cracks"],
        ["aging", "low humidity", "excessive bathing", "diabetes"],
        ["clinical exam"],
        ["moisturizers", "humidifiers", "gentle cleansers"],
    ),
    (
        "L73.9",
        "Folliculitis",
        ["pustules", "erythematous papules", "pruritus", "hair follicle involvement"],
        ["shaving", "occlusion", "hot tub exposure", "immunosuppression"],
        ["clinical exam", "culture if severe"],
        ["topical antibiotics", "systemic antibiotics", "avoid triggers"],
    ),
    (
        "L72.0",
        "Epidermal Cyst",
        ["subcutaneous nodule", "central punctum", "slow growing"],
        ["trauma", "acne", "genetics"],
        ["clinical exam", "ultrasound if deep"],
        ["observation", "excision", "incision and drainage"],
    ),
    (
        "L28.0",
        "Lichen Simplex Chronicus",
        ["lichenified plaque", "intense pruritus", "hyperpigmentation"],
        ["chronic scratching", "stress", "atopy"],
        ["clinical exam"],
        ["potent topical steroids", "occlusion", "antihistamines"],
    ),
    (
        "L90.5",
        "Scar Conditions",
        ["hypertrophic scar", "keloid", "pain", "pruritus"],
        ["trauma", "surgery", "dark skin", "genetics"],
        ["clinical exam"],
        ["silicone sheets", "steroid injection", "laser therapy"],
    ),
    (
        "B35.1",
        "Tinea Unguium",
        ["nail thickening", "discoloration", "onycholysis", "subungual debris"],
        ["diabetes", "peripheral vascular disease", "trauma"],
        ["KOH prep", "fungal culture", "PAS stain"],
        ["oral antifungals", "topical antifungals", "nail avulsion"],
    ),
    (
        "B35.0",
        "Tinea Capitis",
        ["scalp scaling", "alopecia patches", "broken hairs", "kerion"],
        ["children", "close contact", "shared items"],
        ["KOH prep", "fungal culture", "Wood lamp"],
        ["oral griseofulvin", "oral terbinafine", "selenium sulfide shampoo"],
    ),
    (
        "B35.3",
        "Tinea Pedis",
        ["interdigital maceration", "scaling", "vesicles", "pruritus"],
        ["communal showers", "occlusive footwear", "hyperhidrosis"],
        ["KOH prep", "clinical exam"],
        ["topical antifungals", "oral antifungals if severe", "foot hygiene"],
    ),
    (
        "L70.0",
        "Acne Vulgaris",
        ["comedones", "papules", "pustules", "cysts", "scarring"],
        ["hormones", "genetics", "stress", "diet"],
        ["clinical exam", "grading severity"],
        ["topical retinoids", "benzoyl peroxide", "oral antibiotics", "isotretinoin"],
    ),
    (
        "L01.0",
        "Impetigo",
        ["honey-crusted lesions", "vesicles", "bullae", "spreading"],
        ["skin trauma", "crowding", "poor hygiene", "atopy"],
        ["clinical exam", "culture if MRSA suspected"],
        ["topical mupirocin", "oral antibiotics", "hygiene measures"],
    ),
    (
        "B00.1",
        "Herpes Labialis",
        ["grouped vesicles", "tingling prodrome", "crusting", "recurrent"],
        ["stress", "sun exposure", "immunosuppression"],
        ["clinical exam", "viral culture", "PCR"],
        ["oral antivirals", "topical antivirals", "sunscreen"],
    ),
    (
        "L23.9",
        "Allergic Contact Dermatitis",
        ["vesicles", "weeping", "linear pattern", "pruritus"],
        ["nickel", "poison ivy", "fragrances", "preservatives"],
        ["clinical history", "patch testing"],
        ["avoid allergen", "topical steroids", "oral steroids if severe"],
    ),
    (
        "L21.0",
        "Seborrheic Dermatitis",
        ["greasy scales", "erythema", "scalp", "nasolabial folds"],
        ["sebum production", "Malassezia", "stress", "cold weather"],
        ["clinical exam"],
        ["antifungal shampoos", "topical steroids", "calcineurin inhibitors"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _derm_ext:
    DERMATOLOGY_EXTENDED[code] = generate_condition(
        code,
        name,
        "Dermatology",
        symptoms,
        risks,
        criteria,
        treatment,
        ["infection", "scarring", "malignant transformation", "systemic involvement"],
    )


# ENT Extended - 20 conditions
ENT_EXTENDED: Dict[str, MedicalCondition] = {}
_ent_ext = [
    (
        "J32.9",
        "Chronic Sinusitis",
        ["nasal congestion", "facial pressure", "postnasal drip", "hyposmia"],
        ["allergies", "deviated septum", "polyps", "recurrent URI"],
        ["clinical exam", "CT sinuses", "nasal endoscopy"],
        ["nasal steroids", "saline irrigation", "antibiotics", "surgery"],
    ),
    (
        "J35.1",
        "Tonsillar Hypertrophy",
        ["snoring", "sleep apnea", "dysphagia", "recurrent infections"],
        ["recurrent tonsillitis", "allergies", "genetics"],
        ["clinical exam", "sleep study if OSA suspected"],
        ["observation", "tonsillectomy", "CPAP"],
    ),
    (
        "J35.2",
        "Adenoid Hypertrophy",
        ["mouth breathing", "snoring", "nasal obstruction", "chronic OME"],
        ["allergies", "recurrent URI", "genetics"],
        ["clinical exam", "lateral neck X-ray", "flexible endoscopy"],
        ["nasal steroids", "adenoidectomy"],
    ),
    (
        "H72.90",
        "Tympanic Membrane Perforation",
        ["hearing loss", "otorrhea", "ear pain", "tinnitus"],
        ["chronic OM", "trauma", "pressure injury"],
        ["otoscopy", "audiometry"],
        ["observation", "keep ear dry", "tympanoplasty"],
    ),
    (
        "H74.0",
        "Tympanosclerosis",
        ["hearing loss", "white plaques on TM", "history of OM"],
        ["recurrent otitis media", "tympanostomy tubes"],
        ["otoscopy", "audiometry"],
        ["observation", "hearing aids", "surgery if severe"],
    ),
    (
        "H80.0",
        "Otosclerosis",
        ["progressive conductive hearing loss", "paracusis", "tinnitus", "bilateral"],
        ["genetics", "female", "pregnancy exacerbation"],
        ["audiometry", "tympanometry", "CT temporal bone"],
        ["hearing aids", "stapedectomy", "sodium fluoride"],
    ),
    (
        "H83.0",
        "Labyrinthitis",
        ["vertigo", "hearing loss", "nausea", "nystagmus"],
        ["viral infection", "bacterial infection", "post-URI"],
        ["clinical exam", "audiometry", "MRI if atypical"],
        ["vestibular suppressants", "steroids", "vestibular rehab"],
    ),
    (
        "J38.3",
        "Vocal Cord Paralysis",
        ["hoarseness", "breathy voice", "dysphagia", "aspiration"],
        ["surgery", "malignancy", "viral", "idiopathic"],
        ["laryngoscopy", "CT/MRI neck chest"],
        ["speech therapy", "injection medialization", "thyroplasty"],
    ),
    (
        "J38.0",
        "Vocal Cord Nodules",
        ["hoarseness", "vocal fatigue", "pitch breaks"],
        ["voice abuse", "singers", "teachers", "GERD"],
        ["laryngoscopy", "stroboscopy"],
        ["voice therapy", "vocal hygiene", "surgery if refractory"],
    ),
    (
        "J38.1",
        "Laryngeal Polyp",
        ["hoarseness", "cough", "throat clearing", "globus"],
        ["voice abuse", "smoking", "GERD"],
        ["laryngoscopy", "biopsy"],
        ["voice therapy", "surgical excision"],
    ),
    (
        "J34.2",
        "Deviated Nasal Septum",
        ["nasal obstruction", "recurrent sinusitis", "epistaxis", "snoring"],
        ["trauma", "congenital", "developmental"],
        ["anterior rhinoscopy", "nasal endoscopy", "CT"],
        ["observation", "nasal steroids", "septoplasty"],
    ),
    (
        "R04.0",
        "Epistaxis",
        ["nosebleed", "anterior or posterior", "unilateral or bilateral"],
        ["dry air", "nose picking", "anticoagulation", "hypertension", "tumors"],
        ["anterior rhinoscopy", "endoscopy if posterior"],
        ["compression", "cautery", "packing", "embolization"],
    ),
    (
        "J33.0",
        "Nasal Polyp",
        ["nasal obstruction", "anosmia", "postnasal drip", "asthma association"],
        ["chronic rhinosinusitis", "aspirin sensitivity", "cystic fibrosis"],
        ["nasal endoscopy", "CT sinuses"],
        ["nasal steroids", "oral steroids", "polypectomy"],
    ),
    (
        "H61.2",
        "Cerumen Impaction",
        ["hearing loss", "ear fullness", "tinnitus", "ear pain"],
        ["cotton swab use", "hearing aids", "narrow ear canals"],
        ["otoscopy"],
        ["cerumenolytics", "irrigation", "manual removal"],
    ),
    (
        "H60.9",
        "Otitis Externa",
        ["ear pain", "otorrhea", "pruritus", "tragal tenderness"],
        ["swimming", "humidity", "trauma", "hearing aids"],
        ["otoscopy", "culture if severe"],
        ["topical antibiotics", "wick if swollen", "keep dry"],
    ),
    (
        "H62.4",
        "Otomycosis",
        ["pruritus", "otorrhea", "fullness", "fungal hyphae visible"],
        ["humidity", "previous antibiotic drops", "immunosuppression"],
        ["otoscopy", "culture"],
        ["antifungal drops", "debridement", "keep dry"],
    ),
    (
        "J06.9",
        "Upper Respiratory Infection",
        ["rhinorrhea", "sore throat", "cough", "malaise"],
        ["viral exposure", "crowding", "stress", "poor sleep"],
        ["clinical exam"],
        ["supportive care", "rest", "hydration", "symptomatic treatment"],
    ),
    (
        "J02.9",
        "Acute Pharyngitis",
        ["sore throat", "odynophagia", "fever", "lymphadenopathy"],
        ["viral", "Group A strep", "smoking"],
        ["clinical exam", "rapid strep test", "throat culture"],
        ["supportive care", "antibiotics if strep", "analgesics"],
    ),
    (
        "J04.0",
        "Acute Laryngitis",
        ["hoarseness", "voice loss", "cough", "throat discomfort"],
        ["viral URI", "voice abuse", "GERD", "smoking"],
        ["clinical exam", "laryngoscopy if persistent"],
        ["voice rest", "hydration", "humidification"],
    ),
    (
        "H81.1",
        "Benign Paroxysmal Positional Vertigo",
        ["positional vertigo", "nausea", "nystagmus", "brief episodes"],
        ["head trauma", "aging", "inner ear infection"],
        ["Dix-Hallpike maneuver", "clinical exam"],
        ["Epley maneuver", "vestibular exercises", "reassurance"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _ent_ext:
    ENT_EXTENDED[code] = generate_condition(
        code,
        name,
        "Otolaryngology",
        symptoms,
        risks,
        criteria,
        treatment,
        [
            "airway compromise",
            "permanent hearing loss",
            "infection spread",
            "malignancy",
        ],
    )


# Urology Extended - 15 conditions
UROLOGY_EXTENDED: Dict[str, MedicalCondition] = {}
_uro_ext = [
    (
        "N40.1",
        "BPH with LUTS",
        ["hesitancy", "weak stream", "nocturia", "incomplete emptying"],
        ["aging", "family history", "obesity"],
        ["DRE", "PSA", "uroflowmetry", "TRUS"],
        ["alpha blockers", "5-ARI", "combination therapy", "TURP"],
    ),
    (
        "N13.3",
        "Hydronephrosis",
        ["flank pain", "UTI", "palpable mass", "hematuria"],
        ["obstruction", "stones", "stricture", "tumor"],
        ["ultrasound", "CT urogram", "MAG3 renogram"],
        ["treat underlying cause", "stent", "nephrostomy"],
    ),
    (
        "N32.0",
        "Bladder Outlet Obstruction",
        ["retention", "weak stream", "straining", "overflow incontinence"],
        ["BPH", "stricture", "neurogenic", "tumor"],
        ["uroflowmetry", "PVR", "cystoscopy"],
        ["catheterization", "treat cause", "surgery"],
    ),
    (
        "N35.9",
        "Urethral Stricture",
        ["weak stream", "straining", "UTI", "retention"],
        ["trauma", "infection", "instrumentation", "idiopathic"],
        ["uroflowmetry", "urethrography", "cystoscopy"],
        ["dilation", "urethrotomy", "urethroplasty"],
    ),
    (
        "N42.1",
        "Prostatitis Chronic",
        ["pelvic pain", "dysuria", "ejaculatory pain", "sexual dysfunction"],
        ["prior infection", "stress", "prolonged sitting"],
        ["clinical exam", "PSA", "urinalysis", "prostatic massage"],
        ["alpha blockers", "antibiotics trial", "anti-inflammatories"],
    ),
    (
        "N45.9",
        "Orchitis",
        ["testicular pain", "swelling", "fever", "scrotal erythema"],
        ["mumps", "bacterial infection", "STI"],
        ["clinical exam", "ultrasound", "urinalysis"],
        ["antibiotics", "supportive care", "scrotal elevation"],
    ),
    (
        "N43.3",
        "Hydrocele",
        ["painless scrotal swelling", "transillumination positive", "heaviness"],
        ["idiopathic", "infection", "trauma", "tumor"],
        ["physical exam", "ultrasound"],
        ["observation", "aspiration", "hydrocelectomy"],
    ),
    (
        "N44.0",
        "Testicular Torsion",
        [
            "acute testicular pain",
            "nausea",
            "absent cremasteric reflex",
            "high-riding testis",
        ],
        ["bell-clapper deformity", "adolescence", "cold weather"],
        ["clinical exam", "color Doppler ultrasound"],
        ["emergent surgical exploration", "orchiopexy", "orchiectomy if nonviable"],
    ),
    (
        "N49.2",
        "Fournier Gangrene",
        ["perineal pain", "rapid progression", "crepitus", "sepsis"],
        ["diabetes", "immunosuppression", "alcohol", "perineal trauma"],
        ["clinical exam", "CT if stable", "labs for sepsis"],
        ["emergent debridement", "broad-spectrum antibiotics", "ICU"],
    ),
    (
        "N36.0",
        "Urethral Fistula",
        ["urine leakage", "perineal discharge", "recurrent UTI"],
        ["surgery", "trauma", "cancer", "radiation"],
        ["clinical exam", "urethrography", "cystoscopy"],
        ["surgical repair", "diversion if complex"],
    ),
    (
        "N99.1",
        "Urethral Stricture Post-procedural",
        ["weak stream", "retention", "UTI"],
        ["TURP", "catheterization", "cystoscopy", "radiation"],
        ["uroflowmetry", "urethrography"],
        ["dilation", "urethrotomy", "urethroplasty"],
    ),
    (
        "C61",
        "Prostate Cancer",
        ["often asymptomatic", "LUTS", "bone pain if metastatic", "elevated PSA"],
        ["age", "family history", "African descent", "diet"],
        ["PSA", "DRE", "MRI", "biopsy", "Gleason score"],
        ["active surveillance", "surgery", "radiation", "ADT"],
    ),
    (
        "C67.9",
        "Bladder Cancer",
        ["gross hematuria", "dysuria", "frequency", "pelvic pain"],
        ["smoking", "occupational exposure", "chronic infection"],
        ["cystoscopy", "cytology", "CT urogram", "biopsy"],
        ["TURBT", "BCG", "cystectomy", "chemotherapy"],
    ),
    (
        "N48.1",
        "Balanitis",
        ["penile pain", "redness", "discharge", "phimosis"],
        ["poor hygiene", "diabetes", "phimosis", "irritants"],
        ["clinical exam", "culture if uncertain"],
        ["hygiene", "topical antifungal", "topical steroid", "circumcision"],
    ),
    (
        "N47.1",
        "Phimosis",
        [
            "unable to retract foreskin",
            "ballooning during urination",
            "recurrent balanitis",
        ],
        ["scarring", "recurrent infections", "congenital"],
        ["clinical exam"],
        ["topical steroids", "stretching exercises", "circumcision"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _uro_ext:
    UROLOGY_EXTENDED[code] = generate_condition(
        code,
        name,
        "Urology",
        symptoms,
        risks,
        criteria,
        treatment,
        ["renal failure", "sepsis", "malignancy", "infertility"],
    )


# Nephrology Extended - 15 conditions
NEPHROLOGY_EXTENDED: Dict[str, MedicalCondition] = {}
_neph_ext = [
    (
        "N18.3",
        "CKD Stage 3",
        ["often asymptomatic", "fatigue", "edema", "nocturia"],
        ["diabetes", "hypertension", "glomerulonephritis", "PKD"],
        ["eGFR 30-59", "urinalysis", "renal ultrasound"],
        ["BP control", "glycemic control", "avoid nephrotoxins", "RAAS blockade"],
    ),
    (
        "N18.4",
        "CKD Stage 4",
        ["fatigue", "anorexia", "nausea", "pruritus", "restless legs"],
        ["progression of stage 3", "uncontrolled HTN", "uncontrolled DM"],
        ["eGFR 15-29", "labs", "monitor complications"],
        ["prepare for RRT", "erythropoietin", "phosphate binders", "vitamin D"],
    ),
    (
        "N18.5",
        "CKD Stage 5",
        ["uremic symptoms", "volume overload", "pericarditis", "encephalopathy"],
        ["progression", "acute insult"],
        ["eGFR <15", "uremic symptoms"],
        ["dialysis", "transplant evaluation", "palliative care option"],
    ),
    (
        "N04.9",
        "Nephrotic Syndrome",
        ["edema", "proteinuria >3.5g/day", "hypoalbuminemia", "hyperlipidemia"],
        ["minimal change", "FSGS", "membranous", "diabetic"],
        ["24h urine protein", "lipid panel", "renal biopsy"],
        ["ACEi/ARB", "diuretics", "statins", "immunosuppression"],
    ),
    (
        "N03.9",
        "Chronic Glomerulonephritis",
        ["hematuria", "proteinuria", "hypertension", "progressive CKD"],
        ["IgA nephropathy", "lupus", "post-infectious", "ANCA"],
        ["urinalysis", "renal biopsy", "complement levels"],
        ["treat underlying cause", "RAAS blockade", "immunosuppression"],
    ),
    (
        "N05.9",
        "Nephritic Syndrome",
        ["hematuria", "RBC casts", "hypertension", "oliguria", "edema"],
        ["post-strep GN", "IgA", "lupus", "ANCA vasculitis"],
        ["urinalysis", "complement", "ANCA", "renal biopsy"],
        ["supportive care", "treat underlying cause", "immunosuppression"],
    ),
    (
        "N25.1",
        "Nephrogenic Diabetes Insipidus",
        ["polyuria", "polydipsia", "nocturia", "hypernatremia"],
        ["lithium", "hypercalcemia", "hypokalemia", "hereditary"],
        ["water deprivation test", "ADH levels", "genetic testing"],
        ["treat cause", "thiazides", "amiloride", "low-salt diet"],
    ),
    (
        "N12",
        "Tubulointerstitial Nephritis",
        ["AKI", "eosinophilia", "rash", "drug exposure"],
        ["medications", "infections", "autoimmune"],
        ["urinalysis", "eosinophiluria", "renal biopsy"],
        ["stop offending drug", "steroids", "supportive care"],
    ),
    (
        "E87.1",
        "Hyponatremia",
        ["confusion", "nausea", "seizures", "lethargy"],
        ["SIADH", "heart failure", "cirrhosis", "thiazides"],
        ["serum Na", "urine Na", "urine osmolality"],
        [
            "fluid restriction",
            "salt tablets",
            "treat cause",
            "hypertonic saline if severe",
        ],
    ),
    (
        "E87.0",
        "Hypernatremia",
        ["thirst", "confusion", "lethargy", "seizures"],
        ["inadequate water", "diabetes insipidus", "osmotic diuresis"],
        ["serum Na", "urine osmolality"],
        ["free water replacement", "treat underlying cause"],
    ),
    (
        "E87.5",
        "Hyperkalemia",
        ["weakness", "palpitations", "ECG changes", "arrhythmias"],
        ["CKD", "ACEi/ARB", "K-sparing diuretics", "rhabdomyolysis"],
        ["serum K", "ECG", "renal function"],
        ["calcium gluconate", "insulin/dextrose", "kayexalate", "dialysis"],
    ),
    (
        "E87.6",
        "Hypokalemia",
        ["weakness", "cramps", "arrhythmias", "ileus"],
        ["diuretics", "vomiting", "diarrhea", "hypomagnesemia"],
        ["serum K", "ECG", "urine K"],
        ["K replacement", "treat cause", "check Mg"],
    ),
    (
        "N17.9",
        "Acute Kidney Injury",
        ["oliguria", "elevated creatinine", "uremic symptoms", "volume overload"],
        ["prerenal", "intrinsic", "postrenal", "medications"],
        ["creatinine trend", "urinalysis", "renal ultrasound"],
        ["treat underlying cause", "supportive care", "dialysis if indicated"],
    ),
    (
        "N26.9",
        "Renal Sclerosis",
        ["CKD", "small kidneys", "proteinuria", "hypertension"],
        ["hypertension", "diabetes", "aging"],
        ["renal ultrasound", "eGFR", "proteinuria"],
        ["BP control", "RAAS blockade", "manage complications"],
    ),
    (
        "Q61.3",
        "Polycystic Kidney Disease",
        ["flank pain", "hematuria", "hypertension", "palpable kidneys"],
        ["autosomal dominant inheritance", "family history"],
        ["renal ultrasound", "MRI", "genetic testing"],
        ["BP control", "tolvaptan", "pain management", "cyst aspiration"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _neph_ext:
    NEPHROLOGY_EXTENDED[code] = generate_condition(
        code,
        name,
        "Nephrology",
        symptoms,
        risks,
        criteria,
        treatment,
        [
            "ESRD",
            "electrolyte emergency",
            "uremic crisis",
            "cardiovascular complications",
        ],
    )


# =============================================================================
# ITERATION 14: OPHTHALMOLOGY EXTENDED, HEMATOLOGY EXTENDED, ALLERGY EXTENDED, TOXICOLOGY EXTENDED
# =============================================================================

# Ophthalmology Extended - 20 conditions
OPHTHALMOLOGY_EXTENDED: Dict[str, MedicalCondition] = {}
_ophtho_ext = [
    (
        "H40.11",
        "Primary Open-Angle Glaucoma",
        ["peripheral vision loss", "elevated IOP", "optic disc cupping"],
        ["age", "family history", "African descent", "myopia"],
        ["tonometry", "visual field", "OCT", "gonioscopy"],
        ["prostaglandin drops", "beta-blockers", "laser trabeculoplasty", "surgery"],
    ),
    (
        "H40.20",
        "Primary Angle-Closure Glaucoma",
        ["acute eye pain", "halos around lights", "nausea", "mid-dilated pupil"],
        ["hyperopia", "Asian descent", "age", "female"],
        ["gonioscopy", "tonometry", "anterior segment OCT"],
        ["emergent IOP lowering", "laser iridotomy", "cataract extraction"],
    ),
    (
        "H35.30",
        "Age-Related Macular Degeneration",
        ["central vision loss", "metamorphopsia", "difficulty reading"],
        ["age", "smoking", "family history", "light iris"],
        ["dilated fundus exam", "OCT", "fluorescein angiography"],
        ["AREDS vitamins", "anti-VEGF injections", "photodynamic therapy"],
    ),
    (
        "H33.0",
        "Retinal Detachment",
        ["floaters", "flashes", "curtain over vision", "visual field defect"],
        ["myopia", "trauma", "prior cataract surgery", "lattice degeneration"],
        ["dilated fundus exam", "B-scan ultrasound"],
        ["pneumatic retinopexy", "scleral buckle", "vitrectomy"],
    ),
    (
        "H35.81",
        "Retinal Edema",
        ["blurred vision", "central vision loss", "metamorphopsia"],
        ["diabetes", "vein occlusion", "uveitis", "post-surgical"],
        ["OCT", "fluorescein angiography"],
        ["anti-VEGF", "steroid implants", "laser", "treat underlying cause"],
    ),
    (
        "H34.1",
        "Central Retinal Artery Occlusion",
        ["sudden painless vision loss", "cherry red spot", "afferent pupil defect"],
        ["carotid disease", "cardiac emboli", "giant cell arteritis"],
        ["dilated exam", "fluorescein angiography", "carotid doppler"],
        ["emergent IOP lowering", "ocular massage", "thrombolysis if early"],
    ),
    (
        "H34.81",
        "Central Retinal Vein Occlusion",
        ["sudden vision loss", "retinal hemorrhages", "macular edema"],
        ["hypertension", "diabetes", "glaucoma", "hypercoagulable states"],
        ["dilated exam", "OCT", "fluorescein angiography"],
        ["anti-VEGF", "steroids", "laser for neovascularization"],
    ),
    (
        "H36",
        "Diabetic Retinopathy",
        ["often asymptomatic", "floaters", "vision changes", "hemorrhages"],
        ["diabetes duration", "poor control", "hypertension", "pregnancy"],
        ["dilated exam", "OCT", "fluorescein angiography"],
        ["glycemic control", "BP control", "anti-VEGF", "laser"],
    ),
    (
        "H20.9",
        "Iridocyclitis Unspecified",
        ["eye pain", "photophobia", "redness", "blurred vision"],
        ["autoimmune", "infection", "trauma", "HLA-B27"],
        ["slit lamp exam", "IOP measurement"],
        ["topical steroids", "cycloplegics", "treat underlying cause"],
    ),
    (
        "H16.0",
        "Corneal Ulcer",
        ["eye pain", "photophobia", "discharge", "corneal opacity"],
        ["contact lens wear", "trauma", "dry eye", "immunosuppression"],
        ["slit lamp exam", "corneal culture"],
        ["fortified antibiotics", "antifungals if indicated", "cycloplegics"],
    ),
    (
        "H16.11",
        "Herpes Simplex Keratitis",
        ["eye pain", "photophobia", "dendritic ulcer", "decreased sensation"],
        ["prior HSV", "stress", "immunosuppression"],
        ["slit lamp exam", "corneal staining", "viral culture"],
        ["topical antivirals", "oral antivirals", "avoid steroids initially"],
    ),
    (
        "H18.6",
        "Keratoconus",
        [
            "blurred vision",
            "frequent prescription changes",
            "ghosting",
            "light sensitivity",
        ],
        ["eye rubbing", "atopy", "family history", "Down syndrome"],
        ["corneal topography", "pachymetry"],
        ["glasses/contacts", "cross-linking", "intrastromal rings", "transplant"],
    ),
    (
        "H04.12",
        "Dry Eye Syndrome",
        ["burning", "foreign body sensation", "tearing", "fluctuating vision"],
        ["aging", "medications", "autoimmune", "computer use"],
        ["Schirmer test", "tear break-up time", "corneal staining"],
        ["artificial tears", "warm compresses", "punctal plugs", "restasis"],
    ),
    (
        "H02.4",
        "Ptosis",
        [
            "droopy eyelid",
            "visual field obstruction",
            "brow elevation",
            "chin-up posture",
        ],
        ["aging", "neurologic", "myasthenia", "congenital"],
        ["clinical exam", "MRD measurement", "ice test"],
        ["observation", "ptosis crutch", "surgical repair"],
    ),
    (
        "H00.0",
        "Hordeolum",
        ["painful lid swelling", "erythema", "pointing abscess"],
        ["blepharitis", "poor hygiene", "stress"],
        ["clinical exam"],
        ["warm compresses", "lid hygiene", "I&D if needed"],
    ),
    (
        "H00.1",
        "Chalazion",
        ["painless lid nodule", "cosmetic concern", "astigmatism if large"],
        ["blepharitis", "rosacea", "prior chalazion"],
        ["clinical exam"],
        ["warm compresses", "lid massage", "steroid injection", "I&D"],
    ),
    (
        "H11.0",
        "Pterygium",
        ["growth on cornea", "irritation", "redness", "visual disturbance if central"],
        ["UV exposure", "dry climate", "outdoor work"],
        ["slit lamp exam"],
        ["observation", "artificial tears", "surgical excision"],
    ),
    (
        "H53.0",
        "Amblyopia",
        ["reduced vision one eye", "poor stereopsis", "childhood onset"],
        ["strabismus", "anisometropia", "deprivation"],
        ["visual acuity", "cover test", "cycloplegic refraction"],
        ["glasses", "patching", "atropine penalization"],
    ),
    (
        "H50.0",
        "Esotropia",
        ["inward eye deviation", "diplopia", "abnormal head posture"],
        ["hyperopia", "neurologic", "congenital", "acquired"],
        ["cover test", "prism measurement", "cycloplegic refraction"],
        ["glasses", "prism", "surgery"],
    ),
    (
        "H57.1",
        "Ocular Pain",
        ["eye pain", "photophobia", "tearing", "blepharospasm"],
        ["corneal injury", "uveitis", "glaucoma", "referred pain"],
        ["slit lamp exam", "IOP measurement", "corneal staining"],
        ["treat underlying cause", "cycloplegics", "analgesics"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _ophtho_ext:
    OPHTHALMOLOGY_EXTENDED[code] = generate_condition(
        code,
        name,
        "Ophthalmology",
        symptoms,
        risks,
        criteria,
        treatment,
        [
            "permanent vision loss",
            "infection spread",
            "perforation",
            "secondary glaucoma",
        ],
    )


# Hematology Extended - 15 conditions
HEMATOLOGY_EXTENDED: Dict[str, MedicalCondition] = {}
_heme_ext = [
    (
        "D50.9",
        "Iron Deficiency Anemia",
        ["fatigue", "pallor", "dyspnea", "pica", "koilonychia"],
        ["blood loss", "malabsorption", "poor intake", "pregnancy"],
        ["CBC", "iron studies", "ferritin", "reticulocyte count"],
        ["oral iron", "IV iron", "treat underlying cause"],
    ),
    (
        "D51.9",
        "Vitamin B12 Deficiency",
        ["fatigue", "glossitis", "paresthesias", "cognitive changes"],
        ["pernicious anemia", "veganism", "malabsorption", "metformin"],
        ["CBC", "B12 level", "MMA", "intrinsic factor antibodies"],
        ["B12 injections", "oral B12 if absorption OK"],
    ),
    (
        "D52.9",
        "Folate Deficiency",
        ["fatigue", "pallor", "macrocytosis", "glossitis"],
        ["alcoholism", "malnutrition", "malabsorption", "pregnancy"],
        ["CBC", "RBC folate", "serum folate"],
        ["oral folic acid", "dietary counseling"],
    ),
    (
        "D59.1",
        "Autoimmune Hemolytic Anemia",
        ["fatigue", "jaundice", "dark urine", "splenomegaly"],
        ["lymphoproliferative disorders", "autoimmune diseases", "medications"],
        ["CBC", "reticulocyte count", "DAT", "bilirubin", "haptoglobin"],
        ["steroids", "rituximab", "splenectomy", "treat underlying cause"],
    ),
    (
        "D69.3",
        "Immune Thrombocytopenia",
        ["petechiae", "bruising", "mucosal bleeding", "menorrhagia"],
        ["autoimmune", "viral infection", "medications"],
        ["CBC", "peripheral smear", "exclude other causes"],
        ["observation if mild", "steroids", "IVIG", "TPO agonists", "splenectomy"],
    ),
    (
        "D68.9",
        "Coagulopathy Unspecified",
        ["bleeding", "bruising", "prolonged bleeding from cuts"],
        ["liver disease", "anticoagulants", "DIC", "inherited"],
        ["PT/INR", "PTT", "fibrinogen", "mixing studies"],
        ["treat underlying cause", "FFP", "vitamin K", "factor replacement"],
    ),
    (
        "D65",
        "Disseminated Intravascular Coagulation",
        ["bleeding", "thrombosis", "multi-organ failure"],
        ["sepsis", "trauma", "malignancy", "obstetric complications"],
        ["PT/PTT prolonged", "low platelets", "low fibrinogen", "elevated D-dimer"],
        [
            "treat underlying cause",
            "supportive transfusions",
            "heparin if thrombosis predominant",
        ],
    ),
    (
        "D70.9",
        "Neutropenia",
        ["recurrent infections", "oral ulcers", "fever"],
        ["chemotherapy", "medications", "autoimmune", "bone marrow failure"],
        ["CBC with differential", "bone marrow if persistent"],
        ["G-CSF", "treat infections", "remove offending drug"],
    ),
    (
        "D72.1",
        "Eosinophilia",
        ["often asymptomatic", "rash", "wheezing", "organ involvement"],
        ["allergies", "parasites", "drugs", "malignancy", "autoimmune"],
        ["CBC", "eosinophil count", "workup for cause"],
        ["treat underlying cause", "steroids if severe"],
    ),
    (
        "D75.1",
        "Polycythemia Vera",
        ["headache", "pruritus after bathing", "erythromelalgia", "thrombosis"],
        ["JAK2 mutation", "age >60"],
        ["CBC", "JAK2 mutation", "EPO level", "bone marrow"],
        ["phlebotomy", "aspirin", "hydroxyurea", "ruxolitinib"],
    ),
    (
        "D47.3",
        "Essential Thrombocythemia",
        ["headache", "erythromelalgia", "thrombosis", "bleeding"],
        ["JAK2/CALR/MPL mutations", "age"],
        ["CBC", "mutation testing", "bone marrow"],
        ["aspirin", "hydroxyurea", "anagrelide"],
    ),
    (
        "D46.9",
        "Myelodysplastic Syndrome",
        ["fatigue", "infections", "bleeding", "cytopenias"],
        ["age", "prior chemotherapy", "radiation", "benzene"],
        ["CBC", "peripheral smear", "bone marrow biopsy", "cytogenetics"],
        [
            "supportive care",
            "transfusions",
            "ESAs",
            "hypomethylating agents",
            "transplant",
        ],
    ),
    (
        "D89.9",
        "Immune Disorder",
        ["recurrent infections", "autoimmune manifestations"],
        ["genetics", "acquired immunodeficiency"],
        ["immunoglobulin levels", "lymphocyte subsets", "specific antibody titers"],
        ["IVIG", "prophylactic antibiotics", "treat underlying cause"],
    ),
    (
        "D80.1",
        "Hypogammaglobulinemia",
        ["recurrent sinopulmonary infections", "bronchiectasis"],
        ["CVID", "medications", "malignancy"],
        ["immunoglobulin levels", "vaccine response"],
        ["IVIG/SCIG replacement", "prophylactic antibiotics"],
    ),
    (
        "D61.9",
        "Aplastic Anemia",
        ["fatigue", "infections", "bleeding", "pancytopenia"],
        ["idiopathic", "drugs", "viruses", "toxins"],
        ["CBC", "reticulocyte count", "bone marrow biopsy"],
        ["transfusions", "immunosuppression", "transplant"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _heme_ext:
    HEMATOLOGY_EXTENDED[code] = generate_condition(
        code,
        name,
        "Hematology",
        symptoms,
        risks,
        criteria,
        treatment,
        ["severe bleeding", "thrombosis", "infection", "transformation to malignancy"],
    )


# Allergy/Immunology Extended - 15 conditions
ALLERGY_EXTENDED: Dict[str, MedicalCondition] = {}
_allergy_ext = [
    (
        "T78.2",
        "Anaphylaxis",
        ["urticaria", "angioedema", "bronchospasm", "hypotension", "GI symptoms"],
        ["food allergy", "insect stings", "medications", "latex"],
        ["clinical diagnosis", "tryptase if available"],
        [
            "epinephrine IM",
            "IV fluids",
            "antihistamines",
            "steroids",
            "bronchodilators",
        ],
    ),
    (
        "J30.1",
        "Allergic Rhinitis Pollen",
        ["sneezing", "rhinorrhea", "nasal congestion", "pruritus", "watery eyes"],
        ["atopy", "family history", "early allergen exposure"],
        ["clinical history", "skin prick test", "specific IgE"],
        ["allergen avoidance", "antihistamines", "nasal steroids", "immunotherapy"],
    ),
    (
        "J30.89",
        "Other Allergic Rhinitis",
        ["sneezing", "rhinorrhea", "nasal congestion", "year-round"],
        ["dust mites", "pet dander", "mold", "atopy"],
        ["clinical history", "skin testing", "specific IgE"],
        ["allergen avoidance", "antihistamines", "nasal steroids", "immunotherapy"],
    ),
    (
        "L50.9",
        "Urticaria Unspecified",
        ["wheals", "pruritus", "migratory", "resolving within 24h"],
        ["infections", "medications", "foods", "idiopathic"],
        ["clinical history", "labs if chronic (CBC, TSH)"],
        ["antihistamines", "omalizumab if chronic", "steroids short-term"],
    ),
    (
        "T78.3",
        "Angioedema",
        ["swelling lips/face/throat", "no itching", "abdominal pain if intestinal"],
        ["ACE inhibitors", "hereditary", "allergic", "idiopathic"],
        ["clinical history", "C4 level", "C1 esterase inhibitor"],
        ["epinephrine if allergic", "C1 inhibitor concentrate", "icatibant", "FFP"],
    ),
    (
        "T78.4",
        "Allergy Unspecified",
        ["variable presentation", "skin/respiratory/GI symptoms"],
        ["atopy", "family history", "prior allergic reactions"],
        ["clinical history", "allergy testing"],
        ["allergen avoidance", "symptomatic treatment", "immunotherapy"],
    ),
    (
        "K52.2",
        "Allergic Gastroenteritis",
        ["vomiting", "diarrhea", "abdominal pain", "failure to thrive"],
        ["food allergy", "eosinophilic GI disease", "infants"],
        ["clinical history", "elimination diet", "endoscopy if severe"],
        ["dietary elimination", "amino acid formula", "steroids if severe"],
    ),
    (
        "J45.20",
        "Mild Intermittent Asthma",
        ["wheezing", "cough", "dyspnea", "chest tightness"],
        ["atopy", "family history", "allergen exposure"],
        ["spirometry", "bronchodilator response"],
        ["SABA PRN", "allergen avoidance"],
    ),
    (
        "J45.30",
        "Mild Persistent Asthma",
        ["wheezing >2x/week", "night symptoms >2x/month"],
        ["atopy", "allergen exposure", "viral infections"],
        ["spirometry", "peak flow monitoring"],
        ["low-dose ICS", "SABA PRN", "consider LTRA"],
    ),
    (
        "J45.40",
        "Moderate Persistent Asthma",
        ["daily symptoms", "night symptoms weekly", "some activity limitation"],
        ["severe atopy", "poor control", "tobacco exposure"],
        ["spirometry", "FeNO", "allergy testing"],
        ["medium-dose ICS-LABA", "consider biologics"],
    ),
    (
        "J45.50",
        "Severe Persistent Asthma",
        ["continuous symptoms", "frequent exacerbations", "limited activity"],
        ["multiple triggers", "corticosteroid dependence"],
        ["spirometry", "FeNO", "sputum eosinophils"],
        ["high-dose ICS-LABA", "biologics", "oral steroids"],
    ),
    (
        "L20.9",
        "Atopic Dermatitis",
        ["pruritus", "eczematous lesions", "lichenification", "flexural distribution"],
        ["atopy", "family history", "filaggrin mutations"],
        ["clinical criteria", "IgE level"],
        ["moisturizers", "topical steroids", "calcineurin inhibitors", "dupilumab"],
    ),
    (
        "T63.4",
        "Insect Venom Allergy",
        ["local reaction", "systemic reaction", "anaphylaxis history"],
        ["prior reactions", "atopy", "beekeepers", "outdoor workers"],
        ["skin testing", "specific IgE", "tryptase"],
        ["epinephrine auto-injector", "venom immunotherapy", "avoidance measures"],
    ),
    (
        "Z88.0",
        "Drug Allergy Status",
        ["history of allergic reaction", "rash", "anaphylaxis", "angioedema"],
        ["previous drug reactions", "multiple drug allergies"],
        ["detailed history", "skin testing if available"],
        [
            "allergen avoidance",
            "alternative medications",
            "desensitization if no alternative",
        ],
    ),
    (
        "T80.5",
        "Serum Sickness",
        ["fever", "rash", "arthralgias", "lymphadenopathy"],
        ["antitoxin", "monoclonal antibodies", "medications"],
        ["clinical history", "complement levels", "urinalysis"],
        ["stop offending agent", "antihistamines", "NSAIDs", "steroids if severe"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _allergy_ext:
    ALLERGY_EXTENDED[code] = generate_condition(
        code,
        name,
        "Allergy/Immunology",
        symptoms,
        risks,
        criteria,
        treatment,
        ["anaphylaxis", "airway compromise", "severe systemic reaction", "death"],
    )


# Toxicology Extended - 15 conditions
TOXICOLOGY_EXTENDED: Dict[str, MedicalCondition] = {}
_tox_ext = [
    (
        "T39.1",
        "Aspirin Poisoning",
        ["tinnitus", "hyperpnea", "confusion", "metabolic acidosis", "hyperthermia"],
        ["intentional overdose", "accidental ingestion", "chronic toxicity"],
        ["salicylate level", "ABG", "BMP", "coags"],
        ["activated charcoal", "alkalinization", "hemodialysis if severe"],
    ),
    (
        "T42.4",
        "Benzodiazepine Overdose",
        ["sedation", "ataxia", "slurred speech", "respiratory depression"],
        ["intentional overdose", "recreational use", "elderly", "polysubstance"],
        ["clinical", "urine tox screen"],
        ["supportive care", "flumazenil if pure BZD and no seizure history"],
    ),
    (
        "T40.1",
        "Heroin Overdose",
        ["respiratory depression", "miosis", "decreased LOC", "cyanosis"],
        ["opioid use disorder", "relapse", "fentanyl contamination"],
        ["clinical", "naloxone response"],
        ["naloxone", "supportive care", "observation", "addiction referral"],
    ),
    (
        "T43.2",
        "Antidepressant Poisoning",
        ["seizures", "QRS prolongation", "hypotension", "anticholinergic symptoms"],
        ["TCA overdose", "intentional ingestion"],
        ["ECG", "BMP", "tox screen"],
        [
            "sodium bicarbonate for QRS >100ms",
            "benzodiazepines for seizures",
            "supportive",
        ],
    ),
    (
        "T51.0",
        "Ethanol Intoxication",
        ["altered mental status", "ataxia", "slurred speech", "nystagmus"],
        ["alcohol use disorder", "binge drinking"],
        ["BAL", "BMP", "glucose"],
        ["supportive care", "thiamine", "glucose", "observation"],
    ),
    (
        "T51.1",
        "Methanol Poisoning",
        ["visual disturbance", "abdominal pain", "metabolic acidosis", "blindness"],
        ["ingestion of contaminated alcohol", "suicide attempt"],
        ["methanol level", "ABG", "osmolar gap"],
        ["fomepizole/ethanol", "hemodialysis", "folate"],
    ),
    (
        "T51.2",
        "Ethylene Glycol Poisoning",
        [
            "CNS depression",
            "metabolic acidosis",
            "renal failure",
            "calcium oxalate crystals",
        ],
        ["antifreeze ingestion", "intentional poisoning"],
        ["EG level", "ABG", "osmolar gap", "urinalysis"],
        ["fomepizole/ethanol", "hemodialysis", "thiamine/pyridoxine"],
    ),
    (
        "T60.0",
        "Organophosphate Poisoning",
        [
            "SLUDGE syndrome",
            "miosis",
            "bradycardia",
            "fasciculations",
            "respiratory failure",
        ],
        ["occupational exposure", "suicide attempt"],
        ["clinical SLUDGE", "RBC cholinesterase"],
        ["atropine", "pralidoxime", "decontamination", "respiratory support"],
    ),
    (
        "T65.2",
        "Carbon Monoxide Poisoning",
        ["headache", "confusion", "nausea", "cherry-red skin", "seizures"],
        ["fire exposure", "faulty heating", "enclosed spaces with combustion"],
        ["CO-oximetry", "ABG", "ECG"],
        ["high-flow O2", "hyperbaric O2 for severe cases"],
    ),
    (
        "T57.0",
        "Arsenic Poisoning",
        ["GI symptoms", "peripheral neuropathy", "Mees lines", "pancytopenia"],
        ["occupational exposure", "contaminated water", "intentional poisoning"],
        ["24h urine arsenic", "hair/nail analysis"],
        ["chelation with BAL/DMSA", "supportive care"],
    ),
    (
        "T56.0",
        "Lead Poisoning",
        ["abdominal pain", "constipation", "encephalopathy", "anemia", "neuropathy"],
        ["occupational exposure", "old paint", "contaminated water"],
        ["blood lead level", "ZPP", "X-rays for lead lines"],
        ["remove from source", "chelation therapy if severe", "supportive"],
    ),
    (
        "T58",
        "Toxic Effect of Carbon Dioxide",
        ["headache", "dyspnea", "confusion", "loss of consciousness"],
        ["confined space", "industrial exposure"],
        ["ABG", "clinical"],
        ["fresh air/oxygen", "supportive care"],
    ),
    (
        "T40.5",
        "Cocaine Toxicity",
        ["chest pain", "hypertension", "hyperthermia", "agitation", "seizures"],
        ["recreational use", "body packing"],
        ["ECG", "cardiac enzymes", "head CT if seizure"],
        ["benzodiazepines", "avoid beta-blockers", "cooling", "supportive"],
    ),
    (
        "T43.6",
        "Amphetamine Toxicity",
        ["agitation", "hyperthermia", "tachycardia", "seizures", "rhabdomyolysis"],
        ["methamphetamine use", "MDMA", "prescription misuse"],
        ["clinical", "CK", "BMP", "ECG"],
        ["benzodiazepines", "cooling", "IV fluids", "supportive"],
    ),
    (
        "T50.9",
        "Poisoning by Drug Unspecified",
        ["variable presentation", "altered mental status", "hemodynamic instability"],
        ["unknown ingestion", "polysubstance"],
        ["tox screen", "BMP", "ABG", "ECG", "osmolar/anion gap"],
        ["supportive care", "decontamination if appropriate", "antidotes if available"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _tox_ext:
    TOXICOLOGY_EXTENDED[code] = generate_condition(
        code,
        name,
        "Toxicology",
        symptoms,
        risks,
        criteria,
        treatment,
        ["respiratory arrest", "cardiac arrest", "permanent organ damage", "death"],
    )


# =============================================================================
# ITERATION 15: GENERAL SURGERY, TRAUMA SURGERY, NEUROSURGERY, CARDIOTHORACIC
# =============================================================================

# General Surgery - 20 conditions
GENERAL_SURGERY: Dict[str, MedicalCondition] = {}
_gen_surg = [
    (
        "K35.80",
        "Acute Appendicitis",
        ["RLQ pain", "anorexia", "nausea", "fever", "rebound tenderness"],
        ["adolescents/young adults", "low-fiber diet"],
        ["clinical exam", "CT abdomen", "US if pediatric/pregnant"],
        ["appendectomy", "antibiotics", "IV fluids"],
    ),
    (
        "K80.00",
        "Cholelithiasis",
        ["RUQ pain", "postprandial", "nausea", "vomiting"],
        ["female", "obesity", "rapid weight loss", "pregnancy"],
        ["RUQ ultrasound", "LFTs", "lipase"],
        ["cholecystectomy", "dietary modification"],
    ),
    (
        "K80.10",
        "Cholecystitis Acute",
        ["RUQ pain", "fever", "Murphy sign", "leukocytosis"],
        ["gallstones", "fasting", "TPN"],
        ["RUQ ultrasound", "HIDA scan", "WBC"],
        ["cholecystectomy", "antibiotics", "cholecystostomy if unfit"],
    ),
    (
        "K85.9",
        "Acute Pancreatitis",
        ["epigastric pain radiating to back", "nausea", "vomiting"],
        ["gallstones", "alcohol", "medications", "hypertriglyceridemia"],
        ["lipase >3x ULN", "CT if uncertain", "MRCP"],
        ["NPO", "IV fluids", "pain control", "treat underlying cause"],
    ),
    (
        "K56.60",
        "Intestinal Obstruction",
        ["abdominal distension", "vomiting", "obstipation", "colicky pain"],
        ["prior surgery", "hernias", "malignancy", "Crohn's"],
        ["abdominal X-ray", "CT abdomen"],
        ["NGT decompression", "IV fluids", "surgery if complete/strangulated"],
    ),
    (
        "K40.90",
        "Inguinal Hernia",
        ["groin bulge", "discomfort", "worse with straining"],
        ["male", "heavy lifting", "chronic cough", "constipation"],
        ["clinical exam", "ultrasound if uncertain"],
        ["surgical repair", "observation if asymptomatic"],
    ),
    (
        "K42.9",
        "Umbilical Hernia",
        ["periumbilical bulge", "discomfort", "incarceration risk"],
        ["obesity", "pregnancy", "ascites"],
        ["clinical exam"],
        ["surgical repair if symptomatic or enlarging"],
    ),
    (
        "K43.9",
        "Incisional Hernia",
        ["bulge at incision site", "pain", "incarceration risk"],
        ["prior surgery", "wound infection", "obesity"],
        ["clinical exam", "CT abdomen"],
        ["surgical repair", "mesh reinforcement"],
    ),
    (
        "K57.32",
        "Diverticulitis",
        ["LLQ pain", "fever", "altered bowel habits", "leukocytosis"],
        ["low-fiber diet", "age >40", "obesity"],
        ["CT abdomen pelvis", "WBC"],
        ["antibiotics", "bowel rest", "surgery if complicated"],
    ),
    (
        "K60.0",
        "Anal Fissure",
        ["anal pain with defecation", "bright red blood", "sentinel pile"],
        ["constipation", "hard stools", "trauma"],
        ["clinical exam"],
        ["fiber supplementation", "topical nitrates/CCB", "sphincterotomy"],
    ),
    (
        "K61.0",
        "Perianal Abscess",
        ["perianal pain", "swelling", "fever", "fluctuant mass"],
        ["diabetes", "Crohn's", "immunosuppression"],
        ["clinical exam", "MRI if deep"],
        ["I&D", "antibiotics if cellulitis", "fistula management"],
    ),
    (
        "K64.9",
        "Hemorrhoids",
        ["rectal bleeding", "prolapse", "pruritus", "pain if thrombosed"],
        ["constipation", "pregnancy", "prolonged sitting"],
        ["clinical exam", "anoscopy"],
        ["fiber/hydration", "topical agents", "banding", "hemorrhoidectomy"],
    ),
    (
        "C18.9",
        "Colon Cancer",
        ["rectal bleeding", "change in bowel habits", "weight loss", "anemia"],
        ["age >50", "family history", "polyps", "IBD"],
        ["colonoscopy with biopsy", "CEA", "CT staging"],
        ["surgical resection", "chemotherapy", "radiation if rectal"],
    ),
    (
        "K25.9",
        "Gastric Ulcer",
        ["epigastric pain", "nausea", "vomiting", "weight loss", "GI bleeding"],
        ["H. pylori", "NSAIDs", "smoking", "stress"],
        ["EGD with biopsy", "H. pylori testing"],
        ["PPI", "H. pylori eradication", "stop NSAIDs", "surgery if refractory"],
    ),
    (
        "K26.9",
        "Duodenal Ulcer",
        ["epigastric pain relieved by food", "nocturnal pain", "melena"],
        ["H. pylori", "NSAIDs", "smoking"],
        ["EGD", "H. pylori testing"],
        ["PPI", "H. pylori eradication", "surgery rarely needed"],
    ),
    (
        "C16.9",
        "Gastric Cancer",
        ["weight loss", "anorexia", "early satiety", "GI bleeding", "dysphagia"],
        ["H. pylori", "diet", "smoking", "family history"],
        ["EGD with biopsy", "CT staging", "EUS"],
        ["surgical resection", "chemotherapy", "palliation"],
    ),
    (
        "K22.2",
        "Esophageal Stricture",
        ["dysphagia", "food impaction", "weight loss"],
        ["GERD", "caustic injury", "radiation", "prior surgery"],
        ["EGD", "barium swallow"],
        ["dilation", "PPI", "surgery if refractory"],
    ),
    (
        "C15.9",
        "Esophageal Cancer",
        ["progressive dysphagia", "weight loss", "odynophagia", "hoarseness"],
        ["smoking", "alcohol", "Barrett's", "obesity"],
        ["EGD with biopsy", "CT/PET staging", "EUS"],
        ["surgery", "chemoradiation", "palliation"],
    ),
    (
        "L05.01",
        "Pilonidal Cyst Abscess",
        ["sacrococcygeal pain", "swelling", "drainage", "fever"],
        ["male", "hirsute", "sedentary", "obesity"],
        ["clinical exam"],
        ["I&D", "definitive excision", "wound care"],
    ),
    (
        "K76.6",
        "Portal Hypertension",
        ["ascites", "varices", "splenomegaly", "hepatic encephalopathy"],
        ["cirrhosis", "portal vein thrombosis"],
        ["US with Doppler", "EGD for varices", "hepatic venous pressure gradient"],
        ["beta-blockers", "band ligation", "TIPS", "transplant evaluation"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _gen_surg:
    GENERAL_SURGERY[code] = generate_condition(
        code,
        name,
        "General Surgery",
        symptoms,
        risks,
        criteria,
        treatment,
        ["perforation", "hemorrhage", "sepsis", "death"],
    )


# Trauma Surgery - 15 conditions
TRAUMA_SURGERY: Dict[str, MedicalCondition] = {}
_trauma_surg = [
    (
        "S36.113",
        "Liver Laceration",
        ["RUQ pain", "hypotension", "peritoneal signs", "dropping Hgb"],
        ["blunt abdominal trauma", "penetrating injury"],
        ["FAST exam", "CT with contrast", "Hgb trend"],
        ["observation if stable", "angioembolization", "surgery if unstable"],
    ),
    (
        "S36.03",
        "Splenic Laceration",
        ["LUQ pain", "Kehr sign", "hypotension", "dropping Hgb"],
        ["blunt abdominal trauma", "splenomegaly"],
        ["FAST exam", "CT with contrast"],
        ["observation if stable", "angioembolization", "splenectomy if unstable"],
    ),
    (
        "S36.5",
        "Colon Injury",
        ["abdominal pain", "peritonitis", "free air", "sepsis"],
        ["penetrating trauma", "blunt trauma"],
        ["CT abdomen", "laparotomy"],
        ["primary repair", "resection", "diversion", "damage control"],
    ),
    (
        "S36.4",
        "Small Bowel Injury",
        ["abdominal pain", "peritonitis", "delayed presentation"],
        ["seatbelt injury", "penetrating trauma"],
        ["CT with oral contrast", "laparoscopy/laparotomy"],
        ["primary repair", "resection", "damage control"],
    ),
    (
        "S27.0",
        "Pneumothorax Traumatic",
        ["chest pain", "dyspnea", "decreased breath sounds", "tracheal deviation"],
        ["rib fractures", "penetrating injury", "barotrauma"],
        ["chest X-ray", "CT chest"],
        ["needle decompression if tension", "chest tube", "observation if small"],
    ),
    (
        "S27.1",
        "Hemothorax",
        ["chest pain", "dyspnea", "decreased breath sounds", "hypotension"],
        ["chest trauma", "rib fractures", "great vessel injury"],
        ["chest X-ray", "CT chest", "chest tube output"],
        ["chest tube drainage", "thoracotomy if >1500ml or ongoing bleeding"],
    ),
    (
        "S22.3",
        "Rib Fracture",
        ["pleuritic chest pain", "splinting", "crepitus"],
        ["blunt chest trauma", "osteoporosis"],
        ["chest X-ray", "CT if multiple"],
        [
            "pain control",
            "incentive spirometry",
            "epidural if multiple",
            "surgical fixation",
        ],
    ),
    (
        "S22.5",
        "Flail Chest",
        ["paradoxical chest movement", "respiratory failure", "severe pain"],
        ["high-energy trauma", "multiple rib fractures"],
        ["chest X-ray", "CT chest"],
        ["intubation if needed", "surgical fixation", "aggressive pain control"],
    ),
    (
        "S06.5",
        "Subdural Hematoma Traumatic",
        ["headache", "altered consciousness", "focal deficits", "pupil changes"],
        ["head trauma", "anticoagulation", "elderly"],
        ["CT head", "neuro exam"],
        ["observation if small", "surgical evacuation if large or symptomatic"],
    ),
    (
        "S06.4",
        "Epidural Hematoma",
        ["LOC followed by lucid interval", "headache", "pupil dilation", "hemiparesis"],
        ["temporal bone fracture", "head trauma"],
        ["CT head"],
        ["emergent surgical evacuation", "ICP monitoring"],
    ),
    (
        "S32.0",
        "Pelvic Fracture",
        ["pelvic pain", "inability to bear weight", "hemodynamic instability"],
        ["high-energy trauma", "MVA", "fall from height"],
        ["pelvic X-ray", "CT pelvis", "angiography"],
        [
            "pelvic binder",
            "massive transfusion",
            "angioembolization",
            "surgical fixation",
        ],
    ),
    (
        "T79.4",
        "Fat Embolism Syndrome",
        ["petechial rash", "hypoxia", "confusion", "24-72h after fracture"],
        ["long bone fractures", "orthopedic surgery"],
        ["clinical diagnosis", "ABG", "chest imaging"],
        ["supportive care", "oxygen", "early fracture fixation"],
    ),
    (
        "T79.0",
        "Air Embolism",
        [
            "sudden cardiovascular collapse",
            "altered mental status",
            "mill-wheel murmur",
        ],
        ["central line insertion", "penetrating trauma", "surgery"],
        ["clinical", "TEE"],
        ["position left lateral decubitus", "100% O2", "hyperbaric if available"],
    ),
    (
        "T79.1",
        "Fat Embolism",
        ["hypoxia", "neurologic changes", "petechiae"],
        ["long bone fractures", "liposuction"],
        ["clinical", "imaging"],
        ["supportive care", "early stabilization of fractures"],
    ),
    (
        "S31.83",
        "Open Wound of Abdomen",
        ["visible wound", "evisceration", "hemorrhage", "peritonitis"],
        ["penetrating trauma", "stab/gunshot"],
        ["clinical exam", "CT if stable", "laparotomy if unstable"],
        ["wound care", "tetanus", "laparotomy if violated peritoneum"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _trauma_surg:
    TRAUMA_SURGERY[code] = generate_condition(
        code,
        name,
        "Trauma Surgery",
        symptoms,
        risks,
        criteria,
        treatment,
        ["hemorrhagic shock", "DIC", "multi-organ failure", "death"],
    )


# Neurosurgery - 15 conditions
NEUROSURGERY: Dict[str, MedicalCondition] = {}
_neuro_surg = [
    (
        "G91.1",
        "Obstructive Hydrocephalus",
        ["headache", "vomiting", "papilledema", "gait disturbance"],
        ["tumor", "hemorrhage", "congenital", "infection"],
        ["CT/MRI brain", "LP contraindicated if obstructive"],
        ["EVD for acute", "VP shunt", "ETV", "treat underlying cause"],
    ),
    (
        "G91.2",
        "NPH Normal Pressure Hydrocephalus",
        ["gait apraxia", "dementia", "urinary incontinence"],
        ["elderly", "prior SAH", "prior meningitis"],
        ["MRI brain", "lumbar drain trial", "CSF tap test"],
        ["VP shunt if tap test positive"],
    ),
    (
        "G93.5",
        "Brain Herniation",
        ["decreased consciousness", "pupil changes", "posturing", "Cushing reflex"],
        ["mass lesion", "edema", "trauma"],
        ["CT head", "ICP monitoring"],
        ["emergent decompression", "mannitol/hypertonic saline", "hyperventilation"],
    ),
    (
        "C71.9",
        "Brain Tumor Malignant",
        ["headache", "seizures", "focal deficits", "personality change"],
        ["radiation", "genetics", "age"],
        ["MRI with contrast", "biopsy/resection"],
        ["surgical resection", "radiation", "chemotherapy", "steroids"],
    ),
    (
        "D32.0",
        "Meningioma",
        ["headache", "seizures", "focal deficits", "often incidental"],
        ["female", "radiation", "NF2"],
        ["MRI with contrast"],
        ["observation if small", "surgical resection", "radiation"],
    ),
    (
        "C72.2",
        "Spinal Cord Tumor",
        ["back pain", "weakness", "sensory level", "bowel/bladder dysfunction"],
        ["NF", "VHL", "prior radiation"],
        ["MRI spine with contrast"],
        ["surgical resection", "radiation", "steroids"],
    ),
    (
        "M48.06",
        "Lumbar Spinal Stenosis",
        ["neurogenic claudication", "back pain", "leg weakness", "relief with flexion"],
        ["age", "degenerative changes", "prior surgery"],
        ["MRI lumbar spine", "EMG"],
        ["physical therapy", "epidural injections", "laminectomy"],
    ),
    (
        "M51.16",
        "Lumbar Disc Herniation",
        ["radicular pain", "numbness", "weakness", "positive SLR"],
        ["heavy lifting", "obesity", "sedentary"],
        ["MRI lumbar spine", "clinical exam"],
        ["conservative management", "epidural injection", "discectomy"],
    ),
    (
        "G95.20",
        "Spinal Cord Compression",
        ["back pain", "weakness", "sensory level", "incontinence"],
        ["metastatic disease", "abscess", "hematoma", "disc herniation"],
        ["emergent MRI spine"],
        ["high-dose steroids", "emergent decompression", "radiation if tumor"],
    ),
    (
        "I60.9",
        "Subarachnoid Hemorrhage",
        [
            "thunderclap headache",
            "neck stiffness",
            "photophobia",
            "altered consciousness",
        ],
        ["aneurysm", "AVM", "hypertension"],
        ["CT head", "LP if CT negative", "CTA/DSA"],
        ["secure aneurysm (clip/coil)", "nimodipine", "EVD if hydrocephalus"],
    ),
    (
        "I61.9",
        "Intracerebral Hemorrhage",
        ["sudden headache", "focal deficits", "decreased consciousness"],
        ["hypertension", "anticoagulation", "AVM", "amyloid angiopathy"],
        ["CT head", "MRI", "angiography if uncertain"],
        ["BP control", "reverse anticoagulation", "surgery if eligible"],
    ),
    (
        "S14.1",
        "Cervical Spinal Cord Injury",
        [
            "quadriparesis/plegia",
            "sensory loss",
            "respiratory compromise",
            "neurogenic shock",
        ],
        ["trauma", "falls", "diving accidents"],
        ["CT C-spine", "MRI spine"],
        [
            "immobilization",
            "high-dose steroids controversial",
            "surgical stabilization",
        ],
    ),
    (
        "Q05.9",
        "Spina Bifida",
        ["visible defect", "neurologic deficits", "hydrocephalus", "Chiari II"],
        ["folate deficiency", "maternal diabetes", "medications"],
        ["prenatal ultrasound", "MRI"],
        ["prenatal or postnatal repair", "VP shunt", "multidisciplinary care"],
    ),
    (
        "G03.9",
        "Meningitis Bacterial",
        ["fever", "headache", "neck stiffness", "altered mental status"],
        ["immunosuppression", "CSF leak", "neurosurgery"],
        ["LP with CSF analysis", "blood cultures"],
        ["empiric antibiotics", "steroids", "supportive care"],
    ),
    (
        "Q07.0",
        "Arnold-Chiari Malformation",
        ["headache", "neck pain", "ataxia", "syrinx symptoms"],
        ["congenital", "associated with spina bifida"],
        ["MRI brain and spine"],
        ["observation if asymptomatic", "decompression surgery"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _neuro_surg:
    NEUROSURGERY[code] = generate_condition(
        code,
        name,
        "Neurosurgery",
        symptoms,
        risks,
        criteria,
        treatment,
        ["permanent neurologic deficit", "herniation", "death", "CSF leak"],
    )


# Cardiothoracic Surgery - 15 conditions
CARDIOTHORACIC_SURGERY: Dict[str, MedicalCondition] = {}
_ct_surg = [
    (
        "I25.10",
        "CAD for CABG",
        ["angina", "dyspnea", "positive stress test", "multivessel disease"],
        ["diabetes", "smoking", "hyperlipidemia", "hypertension"],
        ["coronary angiography", "stress testing", "echo"],
        ["CABG", "optimal medical therapy", "cardiac rehab"],
    ),
    (
        "I35.0",
        "Aortic Stenosis Severe",
        ["angina", "syncope", "heart failure", "systolic murmur"],
        ["bicuspid valve", "rheumatic", "degenerative"],
        ["echocardiography", "cardiac catheterization"],
        ["AVR surgical", "TAVR", "balloon valvuloplasty"],
    ),
    (
        "I34.0",
        "Mitral Regurgitation Severe",
        ["dyspnea", "fatigue", "atrial fibrillation", "LV dilation"],
        ["MVP", "rheumatic", "ischemic", "endocarditis"],
        ["echocardiography", "TEE"],
        ["mitral repair/replacement", "medical optimization"],
    ),
    (
        "I71.3",
        "Abdominal Aortic Aneurysm >5.5cm",
        ["often asymptomatic", "pulsatile mass", "back pain if expanding"],
        ["smoking", "hypertension", "male", "family history"],
        ["abdominal ultrasound", "CT angiography"],
        ["open repair", "EVAR", "surveillance if <5.5cm"],
    ),
    (
        "I71.1",
        "Thoracic Aortic Aneurysm",
        ["often asymptomatic", "chest pain", "dysphagia", "hoarseness"],
        ["hypertension", "Marfan", "bicuspid aortic valve"],
        ["CT angiography", "MRA", "echo"],
        ["surgical repair", "TEVAR", "BP control"],
    ),
    (
        "I71.00",
        "Aortic Dissection Type A",
        [
            "severe chest/back pain",
            "tearing quality",
            "BP differential",
            "aortic regurgitation",
        ],
        ["hypertension", "connective tissue disease", "bicuspid valve"],
        ["CT angiography", "TEE"],
        ["emergent surgical repair", "BP and HR control"],
    ),
    (
        "I71.02",
        "Aortic Dissection Type B",
        ["chest/back pain", "tearing quality", "BP differential"],
        ["hypertension", "cocaine use"],
        ["CT angiography", "TEE"],
        ["medical management", "TEVAR if complicated"],
    ),
    (
        "C34.90",
        "Lung Cancer for Surgery",
        ["cough", "hemoptysis", "weight loss", "chest pain"],
        ["smoking", "radon", "asbestos", "family history"],
        ["CT chest", "PET/CT", "biopsy", "pulmonary function tests"],
        ["lobectomy", "pneumonectomy", "VATS", "neoadjuvant therapy"],
    ),
    (
        "J93.11",
        "Primary Spontaneous Pneumothorax",
        ["sudden chest pain", "dyspnea", "decreased breath sounds"],
        ["tall thin male", "smoking", "Marfan"],
        ["chest X-ray", "CT chest"],
        ["observation if small", "chest tube", "VATS pleurodesis if recurrent"],
    ),
    (
        "Q21.0",
        "Ventricular Septal Defect",
        ["heart murmur", "failure to thrive", "heart failure if large"],
        ["congenital", "associated syndromes"],
        ["echocardiography"],
        ["observation if small", "surgical repair if large or symptomatic"],
    ),
    (
        "Q21.1",
        "Atrial Septal Defect",
        ["often asymptomatic", "arrhythmias", "RV enlargement", "paradoxical emboli"],
        ["congenital", "associated syndromes"],
        ["echocardiography with bubble study"],
        ["device closure", "surgical repair"],
    ),
    (
        "I33.0",
        "Infective Endocarditis",
        ["fever", "new murmur", "embolic phenomena", "Osler nodes"],
        ["prosthetic valve", "IVDU", "congenital heart disease"],
        ["blood cultures", "echocardiography (TEE)", "Duke criteria"],
        ["prolonged antibiotics", "surgery if refractory/complicated"],
    ),
    (
        "C38.0",
        "Mediastinal Tumor",
        ["chest discomfort", "SVC syndrome", "cough", "dysphagia"],
        ["thymoma", "lymphoma", "germ cell tumor"],
        ["CT chest", "biopsy", "tumor markers"],
        ["surgical resection", "chemotherapy", "radiation"],
    ),
    (
        "J86.9",
        "Empyema",
        ["fever", "pleuritic pain", "dyspnea", "productive cough"],
        ["parapneumonic effusion", "prior aspiration"],
        ["chest CT", "thoracentesis with fluid analysis"],
        ["chest tube drainage", "VATS decortication", "antibiotics"],
    ),
    (
        "I27.0",
        "Primary Pulmonary Hypertension",
        ["dyspnea", "fatigue", "syncope", "RV failure"],
        ["idiopathic", "hereditary", "drugs"],
        ["echocardiography", "right heart catheterization", "V/Q scan"],
        ["vasodilators", "prostanoids", "transplant evaluation"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _ct_surg:
    CARDIOTHORACIC_SURGERY[code] = generate_condition(
        code,
        name,
        "Cardiothoracic Surgery",
        symptoms,
        risks,
        criteria,
        treatment,
        ["cardiac arrest", "aortic rupture", "respiratory failure", "death"],
    )


# =============================================================================
# ITERATION 16: PSYCHIATRY EXPANDED, GERIATRICS EXT, REHAB MED, SPORTS MED EXT
# =============================================================================

# Psychiatry Expanded - 20 conditions
PSYCHIATRY_EXPANDED: Dict[str, MedicalCondition] = {}
_psych_exp = [
    (
        "F32.9",
        "Major Depressive Episode",
        [
            "depressed mood",
            "anhedonia",
            "sleep changes",
            "fatigue",
            "suicidal ideation",
        ],
        ["prior episodes", "family history", "trauma", "chronic illness"],
        ["PHQ-9", "clinical interview", "rule out medical causes"],
        ["antidepressants", "psychotherapy", "ECT if severe"],
    ),
    (
        "F33.1",
        "Recurrent Major Depression",
        ["multiple episodes", "functional impairment", "chronic course"],
        ["prior episodes", "inadequate treatment", "comorbidities"],
        ["clinical history", "PHQ-9"],
        ["maintenance antidepressants", "psychotherapy", "relapse prevention"],
    ),
    (
        "F31.9",
        "Bipolar Disorder Unspecified",
        ["mood swings", "manic episodes", "depressive episodes"],
        ["family history", "substance use", "trauma"],
        ["clinical interview", "mood charting", "MDQ"],
        ["mood stabilizers", "antipsychotics", "psychotherapy"],
    ),
    (
        "F31.81",
        "Bipolar II Disorder",
        ["hypomanic episodes", "major depressive episodes", "less severe mania"],
        ["family history", "depression", "antidepressant-induced hypomania"],
        ["clinical interview", "rule out substances"],
        ["mood stabilizers", "antidepressants with caution", "psychotherapy"],
    ),
    (
        "F40.10",
        "Social Anxiety Disorder",
        [
            "fear of social situations",
            "avoidance",
            "physical symptoms",
            "impaired function",
        ],
        ["family history", "childhood shyness", "trauma"],
        ["clinical interview", "SPIN", "Liebowitz scale"],
        ["CBT", "SSRIs", "exposure therapy"],
    ),
    (
        "F40.00",
        "Agoraphobia",
        ["fear of open/crowded spaces", "avoidance", "panic when exposed"],
        ["panic disorder", "trauma", "family history"],
        ["clinical interview", "panic history"],
        ["CBT", "exposure therapy", "SSRIs"],
    ),
    (
        "F42.9",
        "OCD Unspecified",
        ["obsessions", "compulsions", "time-consuming rituals", "distress"],
        ["family history", "childhood onset", "strep infection (PANDAS)"],
        ["Y-BOCS", "clinical interview"],
        ["SSRIs high-dose", "CBT with ERP", "clomipramine"],
    ),
    (
        "F43.10",
        "PTSD",
        ["flashbacks", "nightmares", "avoidance", "hyperarousal", "emotional numbing"],
        ["trauma exposure", "prior mental illness", "lack of support"],
        ["PCL-5", "clinical interview", "trauma history"],
        ["trauma-focused CBT", "EMDR", "SSRIs", "prazosin for nightmares"],
    ),
    (
        "F43.23",
        "Adjustment Disorder with Mixed Anxiety and Depressed Mood",
        ["anxiety", "depression", "in response to stressor"],
        ["life changes", "limited coping skills", "prior mental illness"],
        ["clinical history", "temporal relationship to stressor"],
        ["supportive therapy", "brief psychotherapy", "short-term medication"],
    ),
    (
        "F44.9",
        "Dissociative Disorder",
        ["amnesia", "identity confusion", "depersonalization", "derealization"],
        ["trauma", "abuse", "severe stress"],
        ["clinical interview", "DES scale"],
        [
            "trauma-focused therapy",
            "grounding techniques",
            "medication for comorbidities",
        ],
    ),
    (
        "F45.9",
        "Somatic Symptom Disorder",
        [
            "multiple physical symptoms",
            "excessive health anxiety",
            "high healthcare use",
        ],
        ["prior somatization", "depression", "anxiety", "childhood illness"],
        ["clinical interview", "rule out medical conditions"],
        ["regular appointments", "CBT", "antidepressants", "avoid unnecessary tests"],
    ),
    (
        "F50.00",
        "Anorexia Nervosa",
        [
            "restriction",
            "low weight",
            "body image distortion",
            "fear of gaining weight",
        ],
        ["female", "perfectionism", "family history", "athletics"],
        ["BMI", "clinical interview", "labs", "ECG"],
        ["nutritional rehabilitation", "FBT", "CBT-E", "medical stabilization"],
    ),
    (
        "F50.2",
        "Bulimia Nervosa",
        ["binge eating", "compensatory behaviors", "body image concerns"],
        ["female", "dieting history", "depression", "impulsivity"],
        ["clinical interview", "eating disorder questionnaire"],
        ["CBT-E", "SSRIs (fluoxetine)", "nutritional counseling"],
    ),
    (
        "F50.81",
        "Binge Eating Disorder",
        ["recurrent binge episodes", "loss of control", "distress", "no purging"],
        ["obesity", "depression", "trauma", "dieting history"],
        ["clinical interview", "binge eating scale"],
        ["CBT", "lisdexamfetamine", "SSRIs", "behavioral interventions"],
    ),
    (
        "F60.3",
        "Borderline Personality Disorder",
        ["unstable relationships", "impulsivity", "self-harm", "identity disturbance"],
        ["trauma", "abuse", "family history"],
        ["clinical interview", "PAI-BOR"],
        ["DBT", "mentalization-based therapy", "medication for symptoms"],
    ),
    (
        "F60.2",
        "Antisocial Personality Disorder",
        ["disregard for rights of others", "deceit", "impulsivity", "aggression"],
        ["conduct disorder", "family dysfunction", "substance use"],
        ["clinical interview", "criminal history"],
        ["limited treatment options", "CBT", "contingency management"],
    ),
    (
        "F10.20",
        "Alcohol Use Disorder Moderate",
        [
            "tolerance",
            "withdrawal",
            "craving",
            "loss of control",
            "continued use despite harm",
        ],
        ["family history", "trauma", "mental illness", "social factors"],
        ["AUDIT", "clinical interview", "labs"],
        ["naltrexone", "acamprosate", "CBT", "motivational interviewing", "AA"],
    ),
    (
        "F14.20",
        "Cocaine Use Disorder",
        ["craving", "tolerance", "binge use", "financial/social consequences"],
        ["prior substance use", "mental illness", "social environment"],
        ["urine drug screen", "clinical interview"],
        ["CBT", "contingency management", "no FDA-approved medications"],
    ),
    (
        "F11.20",
        "Opioid Use Disorder Moderate",
        ["tolerance", "withdrawal", "craving", "continued use despite harm"],
        ["prior opioid prescription", "family history", "mental illness"],
        ["clinical interview", "urine drug screen"],
        ["buprenorphine", "methadone", "naltrexone", "counseling"],
    ),
    (
        "F17.210",
        "Nicotine Dependence",
        ["craving", "tolerance", "withdrawal", "continued use despite harm"],
        ["early initiation", "mental illness", "social factors"],
        ["Fagerstrom test", "clinical interview"],
        ["varenicline", "bupropion", "NRT", "behavioral counseling"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _psych_exp:
    PSYCHIATRY_EXPANDED[code] = generate_condition(
        code,
        name,
        "Psychiatry",
        symptoms,
        risks,
        criteria,
        treatment,
        ["suicide", "self-harm", "psychotic break", "severe dysfunction"],
    )


# Geriatrics Extended - 15 conditions
GERIATRICS_EXTENDED: Dict[str, MedicalCondition] = {}
_geri_ext = [
    (
        "F03.90",
        "Dementia Unspecified",
        ["memory loss", "confusion", "functional decline", "behavioral changes"],
        ["age", "family history", "cardiovascular disease"],
        ["cognitive testing", "MRI brain", "labs to exclude reversible causes"],
        [
            "cholinesterase inhibitors",
            "memantine",
            "supportive care",
            "safety planning",
        ],
    ),
    (
        "G30.9",
        "Alzheimer Disease",
        ["progressive memory loss", "language difficulty", "apraxia", "agnosia"],
        ["age", "ApoE4", "family history", "Down syndrome"],
        ["clinical criteria", "MRI", "PET", "CSF biomarkers"],
        ["donepezil", "memantine", "behavioral interventions", "caregiver support"],
    ),
    (
        "G31.83",
        "Lewy Body Dementia",
        [
            "visual hallucinations",
            "parkinsonism",
            "fluctuating cognition",
            "REM sleep disorder",
        ],
        ["age", "Parkinson disease"],
        ["clinical criteria", "DaTscan", "polysomnography"],
        [
            "cholinesterase inhibitors",
            "avoid antipsychotics",
            "levodopa for motor symptoms",
        ],
    ),
    (
        "F01.50",
        "Vascular Dementia",
        ["stepwise decline", "focal deficits", "executive dysfunction"],
        ["stroke", "cardiovascular disease", "hypertension"],
        ["MRI showing infarcts", "cognitive testing"],
        ["vascular risk factor modification", "cholinesterase inhibitors", "rehab"],
    ),
    (
        "R26.81",
        "Gait Instability",
        ["unsteady gait", "falls", "fear of falling"],
        ["muscle weakness", "neuropathy", "vestibular dysfunction", "medications"],
        ["gait assessment", "Timed Up and Go", "neurologic exam"],
        [
            "physical therapy",
            "assistive devices",
            "medication review",
            "fall prevention",
        ],
    ),
    (
        "R41.0",
        "Cognitive Decline",
        ["forgetfulness", "word-finding difficulty", "impaired concentration"],
        ["age", "depression", "medications", "medical conditions"],
        ["cognitive screening", "depression screen", "labs"],
        ["treat reversible causes", "cognitive training", "lifestyle modification"],
    ),
    (
        "W19",
        "Fall in Elderly",
        ["fall event", "injury", "fear of falling", "functional decline"],
        ["gait disorder", "medications", "vision impairment", "environmental hazards"],
        ["fall assessment", "orthostatic BP", "medication review"],
        [
            "fall prevention program",
            "home safety assessment",
            "exercise",
            "medication review",
        ],
    ),
    (
        "R54",
        "Frailty",
        ["weakness", "fatigue", "weight loss", "slow gait", "low activity"],
        ["advanced age", "chronic disease", "poor nutrition"],
        ["Fried frailty criteria", "gait speed", "grip strength"],
        [
            "exercise program",
            "nutrition optimization",
            "medication review",
            "geriatric consultation",
        ],
    ),
    (
        "E46",
        "Malnutrition in Elderly",
        ["weight loss", "weakness", "poor wound healing", "immune dysfunction"],
        ["chronic disease", "depression", "poor dentition", "socioeconomic factors"],
        ["weight trend", "albumin", "MNA screening"],
        [
            "oral supplements",
            "dietary counseling",
            "treat underlying causes",
            "appetite stimulants",
        ],
    ),
    (
        "N39.0",
        "UTI in Elderly",
        ["confusion", "falls", "incontinence", "often afebrile"],
        ["catheter", "urinary retention", "diabetes", "cognitive impairment"],
        ["urinalysis", "urine culture", "clinical assessment"],
        ["antibiotics", "remove catheter if possible", "hydration"],
    ),
    (
        "R41.82",
        "Altered Mental Status in Elderly",
        ["acute confusion", "fluctuating consciousness", "inattention"],
        ["infection", "medications", "metabolic disturbance", "dehydration"],
        ["clinical history", "CAM", "labs", "imaging"],
        [
            "treat underlying cause",
            "reorientation",
            "avoid anticholinergics",
            "supportive care",
        ],
    ),
    (
        "I69.90",
        "Sequelae of Stroke",
        ["weakness", "spasticity", "aphasia", "cognitive impairment"],
        ["prior stroke", "cardiovascular risk factors"],
        ["neurologic exam", "functional assessment"],
        ["rehabilitation", "secondary prevention", "spasticity management"],
    ),
    (
        "M81.0",
        "Osteoporosis Age-Related",
        ["often asymptomatic", "fracture", "height loss", "kyphosis"],
        ["age", "female", "low body weight", "sedentary lifestyle"],
        ["DEXA scan", "FRAX score"],
        [
            "bisphosphonates",
            "calcium/vitamin D",
            "weight-bearing exercise",
            "fall prevention",
        ],
    ),
    (
        "F05",
        "Delirium",
        [
            "acute confusion",
            "fluctuating course",
            "inattention",
            "altered consciousness",
        ],
        ["hospitalization", "infection", "medications", "surgery"],
        ["CAM", "clinical assessment", "labs"],
        [
            "treat underlying cause",
            "reorientation",
            "avoid deliriogenic medications",
            "supportive",
        ],
    ),
    (
        "Z74.1",
        "Caregiver Burnout",
        ["exhaustion", "depression", "anxiety", "health decline"],
        ["prolonged caregiving", "inadequate support", "high care needs"],
        ["clinical interview", "caregiver burden scale"],
        ["respite care", "support groups", "counseling", "community resources"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _geri_ext:
    GERIATRICS_EXTENDED[code] = generate_condition(
        code,
        name,
        "Geriatrics",
        symptoms,
        risks,
        criteria,
        treatment,
        ["falls", "institutionalization", "death", "loss of independence"],
    )


# Rehabilitation Medicine - 15 conditions
REHAB_MEDICINE: Dict[str, MedicalCondition] = {}
_rehab = [
    (
        "S06.0X0A",
        "Concussion Initial",
        ["headache", "confusion", "dizziness", "memory problems"],
        ["sports", "falls", "MVA"],
        ["clinical exam", "SCAT5", "CT if red flags"],
        ["cognitive rest", "gradual return to activity", "symptom management"],
    ),
    (
        "F07.81",
        "Post-Concussion Syndrome",
        ["persistent headache", "cognitive difficulties", "mood changes", "fatigue"],
        ["prior concussions", "prolonged symptoms", "comorbidities"],
        ["clinical history", "neuropsych testing"],
        ["symptom-based treatment", "vestibular therapy", "cognitive rehab"],
    ),
    (
        "G82.20",
        "Paraplegia",
        ["lower extremity paralysis", "sensory loss", "bowel/bladder dysfunction"],
        ["spinal cord injury", "tumor", "vascular", "MS"],
        ["neurologic exam", "MRI spine"],
        ["inpatient rehab", "PT/OT", "bowel/bladder program", "skin care"],
    ),
    (
        "G82.50",
        "Quadriplegia",
        ["four-limb paralysis", "respiratory compromise", "autonomic dysfunction"],
        ["cervical spinal cord injury", "high-level lesion"],
        ["neurologic exam", "MRI spine", "respiratory assessment"],
        ["ICU care", "ventilator if needed", "rehab", "PT/OT/RT"],
    ),
    (
        "G81.90",
        "Hemiplegia",
        ["one-sided weakness", "spasticity", "gait difficulty", "ADL impairment"],
        ["stroke", "TBI", "tumor"],
        ["neurologic exam", "imaging"],
        ["inpatient rehab", "PT/OT/ST", "spasticity management"],
    ),
    (
        "I63.9",
        "Stroke for Rehab",
        ["weakness", "aphasia", "neglect", "dysphagia", "cognitive impairment"],
        ["cardiovascular risk factors", "prior stroke"],
        ["NIH stroke scale", "MRI", "functional assessment"],
        ["acute rehab", "PT/OT/ST", "secondary prevention"],
    ),
    (
        "S72.001A",
        "Hip Fracture for Rehab",
        ["pain", "inability to bear weight", "shortened/rotated leg"],
        ["osteoporosis", "falls", "elderly"],
        ["X-ray", "surgical fixation"],
        ["post-op rehab", "PT", "DVT prophylaxis", "osteoporosis treatment"],
    ),
    (
        "M62.81",
        "Generalized Weakness",
        ["fatigue", "decreased strength", "functional decline"],
        ["deconditioning", "critical illness", "malnutrition", "chronic disease"],
        ["physical exam", "functional assessment"],
        ["progressive mobilization", "PT", "nutrition optimization"],
    ),
    (
        "Z96.641",
        "Joint Replacement Rehab",
        ["post-operative status", "pain", "limited ROM", "gait training"],
        ["osteoarthritis", "fracture", "elective surgery"],
        ["surgical history", "functional assessment"],
        ["inpatient or outpatient rehab", "PT/OT", "precautions"],
    ),
    (
        "R53.83",
        "Post-ICU Weakness",
        ["profound weakness", "respiratory weakness", "cognitive impairment"],
        ["prolonged mechanical ventilation", "sepsis", "immobility"],
        ["MRC score", "functional assessment"],
        ["early mobilization", "PT/OT/RT", "nutrition", "cognitive support"],
    ),
    (
        "G93.1",
        "Anoxic Brain Injury",
        ["coma", "cognitive impairment", "motor deficits", "behavioral changes"],
        ["cardiac arrest", "drowning", "asphyxiation"],
        ["MRI brain", "EEG", "neurologic exam"],
        ["supportive care", "rehab when stable", "prognostication"],
    ),
    (
        "Z87.820",
        "Amputation Status",
        ["limb loss", "phantom pain", "mobility impairment", "prosthetic needs"],
        ["diabetes", "PVD", "trauma", "cancer"],
        ["residual limb assessment", "prosthetic evaluation"],
        ["prosthetic training", "PT/OT", "phantom pain management"],
    ),
    (
        "G35",
        "Multiple Sclerosis for Rehab",
        [
            "fatigue",
            "spasticity",
            "weakness",
            "cognitive impairment",
            "bladder dysfunction",
        ],
        ["relapsing-remitting course", "progressive forms"],
        ["functional assessment", "MRI"],
        ["DMTs", "PT/OT/ST", "spasticity management", "fatigue management"],
    ),
    (
        "G12.21",
        "ALS Rehab",
        ["progressive weakness", "spasticity", "dysphagia", "respiratory decline"],
        ["familial or sporadic"],
        ["EMG", "clinical criteria", "respiratory assessment"],
        ["multidisciplinary care", "PT/OT/RT/ST", "NIV", "palliative care"],
    ),
    (
        "R26.2",
        "Difficulty Walking",
        ["gait impairment", "unsteadiness", "fall risk"],
        ["neurologic disease", "musculoskeletal", "deconditioning"],
        ["gait analysis", "neurologic/MSK exam"],
        ["PT", "assistive devices", "treat underlying cause"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _rehab:
    REHAB_MEDICINE[code] = generate_condition(
        code,
        name,
        "Rehabilitation Medicine",
        symptoms,
        risks,
        criteria,
        treatment,
        ["permanent disability", "falls", "aspiration", "pressure injuries"],
    )


# Sports Medicine Extended - 15 conditions
SPORTS_MEDICINE_EXTENDED: Dict[str, MedicalCondition] = {}
_sports_ext = [
    (
        "S83.50",
        "ACL Tear",
        ["knee instability", "swelling", "pop heard", "giving way"],
        ["pivoting sports", "female athletes", "prior injury"],
        ["Lachman test", "pivot shift", "MRI"],
        ["RICE", "PT", "ACL reconstruction if athlete"],
    ),
    (
        "S83.20",
        "Meniscus Tear Athletic",
        ["knee pain", "swelling", "locking", "clicking"],
        ["twisting injury", "squatting", "degenerative"],
        ["McMurray test", "MRI"],
        ["conservative management", "arthroscopic repair/debridement"],
    ),
    (
        "M76.1",
        "Psoas Tendinitis",
        ["anterior hip pain", "snapping", "pain with hip flexion"],
        ["running", "kicking sports", "dancers"],
        ["clinical exam", "ultrasound"],
        ["rest", "stretching", "PT", "injection if refractory"],
    ),
    (
        "M76.5",
        "Patellar Tendinitis",
        ["anterior knee pain", "worse with jumping", "tenderness at patellar tendon"],
        ["jumping sports", "basketball", "volleyball"],
        ["clinical exam", "ultrasound"],
        ["eccentric exercises", "PT", "PRP injection"],
    ),
    (
        "M77.0",
        "Medial Epicondylitis",
        ["medial elbow pain", "pain with wrist flexion", "grip weakness"],
        ["golf", "throwing", "racquet sports"],
        ["clinical exam", "ultrasound"],
        ["rest", "PT", "counterforce brace", "injection"],
    ),
    (
        "M77.1",
        "Lateral Epicondylitis",
        ["lateral elbow pain", "pain with gripping", "weak grip"],
        ["tennis", "repetitive wrist extension"],
        ["clinical exam", "Cozen test"],
        ["counterforce brace", "PT", "eccentric exercises", "injection"],
    ),
    (
        "S46.0",
        "Rotator Cuff Strain",
        ["shoulder pain", "weakness", "night pain", "painful arc"],
        ["overhead sports", "swimming", "baseball"],
        ["clinical exam", "ultrasound/MRI"],
        ["rest", "PT", "NSAIDs", "surgery if complete tear"],
    ),
    (
        "M70.2",
        "Olecranon Bursitis",
        ["posterior elbow swelling", "fluctuant mass", "limited ROM if tense"],
        ["repetitive pressure", "trauma", "gout", "infection"],
        ["clinical exam", "aspiration if infected"],
        ["compression", "NSAIDs", "aspiration", "surgery if chronic"],
    ),
    (
        "S93.40",
        "Ankle Sprain Grade 2",
        ["lateral ankle pain", "swelling", "ecchymosis", "moderate instability"],
        ["inversion injury", "prior sprains", "poor proprioception"],
        ["Ottawa ankle rules", "X-ray if indicated"],
        ["RICE", "ankle brace", "PT", "proprioceptive training"],
    ),
    (
        "S86.0",
        "Achilles Tendon Rupture",
        [
            "sudden calf pain",
            "pop heard",
            "inability to plantar flex",
            "positive Thompson",
        ],
        ["weekend warriors", "fluoroquinolones", "steroid injection"],
        ["Thompson test", "ultrasound/MRI"],
        ["surgical repair", "non-operative with casting/boot"],
    ),
    (
        "M72.2",
        "Plantar Fasciitis",
        [
            "heel pain",
            "worse with first steps",
            "tenderness at medial calcaneal tubercle",
        ],
        ["running", "obesity", "flat feet", "tight calves"],
        ["clinical exam", "ultrasound if uncertain"],
        ["stretching", "orthotics", "night splint", "injection", "ESWT"],
    ),
    (
        "S76.1",
        "Hamstring Strain",
        ["posterior thigh pain", "pop felt", "bruising", "weakness"],
        ["sprinting", "kicking", "inadequate warm-up"],
        ["clinical exam", "MRI if severe"],
        ["RICE", "PT", "gradual return to sport"],
    ),
    (
        "M79.3",
        "Panniculitis Athletic",
        ["subcutaneous nodules", "pain", "skin changes"],
        ["cold exposure", "trauma", "running in cold"],
        ["clinical exam", "biopsy if uncertain"],
        ["avoid triggers", "NSAIDs", "supportive care"],
    ),
    (
        "T67.0",
        "Heat Stroke",
        ["hyperthermia >104F", "altered mental status", "hot dry skin", "tachycardia"],
        ["exertion in heat", "dehydration", "medications"],
        ["clinical", "core temperature"],
        ["rapid cooling", "IV fluids", "monitor for organ dysfunction"],
    ),
    (
        "T67.4",
        "Exercise-Associated Hyponatremia",
        ["confusion", "nausea", "seizures", "weight gain during exercise"],
        ["endurance events", "excessive water intake", "slow runners"],
        ["serum sodium", "clinical history"],
        ["fluid restriction", "hypertonic saline if severe", "monitoring"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _sports_ext:
    SPORTS_MEDICINE_EXTENDED[code] = generate_condition(
        code,
        name,
        "Sports Medicine",
        symptoms,
        risks,
        criteria,
        treatment,
        [
            "chronic instability",
            "re-rupture",
            "career-ending injury",
            "heat stroke death",
        ],
    )


# =============================================================================
# ITERATION 17: SYMPTOMS/SIGNS, PREVENTIVE MED, LAB FINDINGS, IMAGING FINDINGS
# =============================================================================

# Symptoms and Signs (R codes) - 25 conditions
SYMPTOMS_SIGNS: Dict[str, MedicalCondition] = {}
_symptoms = [
    (
        "R05.9",
        "Cough",
        ["dry or productive", "acute or chronic", "associated symptoms"],
        ["URI", "asthma", "GERD", "ACEi", "malignancy"],
        ["clinical history", "chest X-ray if chronic"],
        ["treat underlying cause", "antitussives", "bronchodilators"],
    ),
    (
        "R06.0",
        "Dyspnea",
        ["shortness of breath", "at rest or exertional", "orthopnea"],
        ["cardiac", "pulmonary", "anemia", "obesity", "deconditioning"],
        ["clinical exam", "pulse ox", "chest X-ray", "BNP", "spirometry"],
        ["treat underlying cause", "supplemental O2", "bronchodilators"],
    ),
    (
        "R00.0",
        "Tachycardia",
        ["rapid heart rate", "palpitations", "lightheadedness"],
        ["anxiety", "fever", "anemia", "hyperthyroidism", "arrhythmia"],
        ["ECG", "labs", "Holter if paroxysmal"],
        ["treat underlying cause", "rate control if indicated"],
    ),
    (
        "R00.1",
        "Bradycardia",
        ["slow heart rate", "fatigue", "syncope", "dizziness"],
        ["medications", "hypothyroidism", "sick sinus", "heart block"],
        ["ECG", "labs", "Holter"],
        ["treat underlying cause", "pacemaker if symptomatic"],
    ),
    (
        "R42",
        "Dizziness",
        ["lightheadedness", "vertigo", "unsteadiness", "presyncope"],
        ["BPPV", "vestibular", "cardiac", "orthostatic", "medications"],
        ["clinical exam", "Dix-Hallpike", "orthostatic BP", "audiometry"],
        ["treat underlying cause", "vestibular rehab", "repositioning maneuvers"],
    ),
    (
        "R55",
        "Syncope",
        ["loss of consciousness", "brief", "full recovery"],
        ["vasovagal", "cardiac", "orthostatic", "neurologic"],
        ["clinical history", "ECG", "orthostatic BP", "echo if cardiac concern"],
        ["treat underlying cause", "counterpressure maneuvers", "pacemaker if cardiac"],
    ),
    (
        "R51.9",
        "Headache",
        ["location", "quality", "duration", "associated symptoms"],
        ["tension", "migraine", "cluster", "secondary causes"],
        ["clinical history", "neurologic exam", "imaging if red flags"],
        ["analgesics", "triptans", "preventive therapy", "treat underlying cause"],
    ),
    (
        "R10.9",
        "Abdominal Pain",
        ["location", "quality", "timing", "associated symptoms"],
        ["GI", "gynecologic", "urologic", "vascular", "musculoskeletal"],
        ["clinical exam", "labs", "imaging as indicated"],
        ["treat underlying cause", "analgesia"],
    ),
    (
        "R11.0",
        "Nausea",
        ["queasy feeling", "with or without vomiting", "associated symptoms"],
        ["GI", "vestibular", "medications", "pregnancy", "CNS"],
        ["clinical history", "labs if dehydrated"],
        ["antiemetics", "treat underlying cause", "hydration"],
    ),
    (
        "R11.10",
        "Vomiting",
        ["emesis", "bilious or non-bilious", "bloody or non-bloody"],
        ["GI obstruction", "infection", "medications", "CNS", "pregnancy"],
        ["clinical exam", "labs", "imaging if obstruction suspected"],
        ["IV fluids", "antiemetics", "treat underlying cause"],
    ),
    (
        "R63.4",
        "Weight Loss Unintentional",
        [">5% body weight", "over 6-12 months", "no dieting"],
        ["malignancy", "GI disease", "hyperthyroidism", "depression", "infection"],
        ["clinical history", "comprehensive labs", "imaging"],
        ["treat underlying cause", "nutritional support"],
    ),
    (
        "R63.0",
        "Anorexia Symptom",
        ["loss of appetite", "early satiety", "food aversion"],
        ["malignancy", "depression", "medications", "chronic disease"],
        ["clinical history", "labs", "imaging"],
        ["treat underlying cause", "appetite stimulants"],
    ),
    (
        "R53.1",
        "Weakness",
        ["generalized or focal", "acute or chronic"],
        ["neuromuscular", "metabolic", "cardiac", "infection", "medications"],
        ["neurologic exam", "labs", "EMG if indicated"],
        ["treat underlying cause"],
    ),
    (
        "R53.83",
        "Fatigue",
        ["tiredness", "lack of energy", "decreased stamina"],
        ["anemia", "thyroid", "depression", "sleep disorder", "chronic disease"],
        ["clinical history", "labs (CBC, TSH, CMP)"],
        ["treat underlying cause", "sleep hygiene", "exercise"],
    ),
    (
        "R50.9",
        "Fever",
        ["elevated temperature", "chills", "sweats"],
        ["infection", "malignancy", "autoimmune", "medications"],
        ["clinical exam", "CBC", "cultures", "imaging as indicated"],
        ["antipyretics", "treat underlying cause"],
    ),
    (
        "R21",
        "Rash",
        ["skin eruption", "various morphologies", "distribution"],
        ["infection", "allergic", "drug", "autoimmune", "idiopathic"],
        ["clinical exam", "skin biopsy if uncertain"],
        ["treat underlying cause", "topical therapy"],
    ),
    (
        "R22.9",
        "Lymphadenopathy",
        ["enlarged lymph nodes", "localized or generalized"],
        ["infection", "malignancy", "autoimmune", "medications"],
        ["clinical exam", "labs", "biopsy if persistent"],
        ["treat underlying cause", "observation if benign features"],
    ),
    (
        "R13.10",
        "Dysphagia",
        ["difficulty swallowing", "solids and/or liquids", "location"],
        ["stricture", "malignancy", "motility disorder", "neurologic"],
        ["clinical history", "barium swallow", "EGD", "manometry"],
        ["treat underlying cause", "dilation", "dietary modification"],
    ),
    (
        "R07.9",
        "Chest Pain",
        ["location", "quality", "duration", "associated symptoms"],
        ["cardiac", "GI", "pulmonary", "musculoskeletal", "anxiety"],
        ["ECG", "troponin", "chest X-ray", "further testing as indicated"],
        ["treat underlying cause", "rule out ACS"],
    ),
    (
        "R09.1",
        "Pleurisy",
        ["pleuritic chest pain", "worse with breathing", "friction rub"],
        ["infection", "PE", "autoimmune", "malignancy"],
        ["clinical exam", "chest X-ray", "CT if PE concern"],
        ["NSAIDs", "treat underlying cause"],
    ),
    (
        "R04.2",
        "Hemoptysis",
        ["coughing blood", "streaky to massive"],
        ["bronchitis", "malignancy", "TB", "PE", "bronchiectasis"],
        ["chest X-ray", "CT chest", "bronchoscopy"],
        ["treat underlying cause", "airway protection if massive"],
    ),
    (
        "R31.9",
        "Hematuria",
        ["blood in urine", "gross or microscopic"],
        ["UTI", "stones", "malignancy", "glomerular disease", "trauma"],
        ["urinalysis", "urine cytology", "imaging", "cystoscopy"],
        ["treat underlying cause"],
    ),
    (
        "R60.0",
        "Edema Localized",
        ["swelling", "unilateral or bilateral", "pitting or non-pitting"],
        ["venous", "lymphatic", "trauma", "infection", "DVT"],
        ["clinical exam", "Doppler if DVT concern"],
        ["treat underlying cause", "elevation", "compression"],
    ),
    (
        "R60.1",
        "Edema Generalized",
        ["diffuse swelling", "bilateral", "anasarca"],
        ["heart failure", "renal failure", "liver disease", "hypoalbuminemia"],
        ["clinical exam", "labs", "echo"],
        ["treat underlying cause", "diuretics", "salt restriction"],
    ),
    (
        "R73.9",
        "Hyperglycemia",
        ["elevated blood glucose", "polyuria", "polydipsia"],
        ["diabetes", "stress", "medications", "pancreatitis"],
        ["blood glucose", "HbA1c", "clinical context"],
        ["insulin if severe", "oral agents", "treat underlying cause"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _symptoms:
    SYMPTOMS_SIGNS[code] = generate_condition(
        code,
        name,
        "Symptoms/Signs",
        symptoms,
        risks,
        criteria,
        treatment,
        ["underlying serious condition", "missed diagnosis", "delayed treatment"],
    )


# Preventive Medicine - 15 conditions
PREVENTIVE_MEDICINE: Dict[str, MedicalCondition] = {}
_prevent = [
    (
        "Z00.00",
        "General Exam Adult",
        ["health maintenance", "screening", "counseling"],
        ["age-appropriate screening needs"],
        ["comprehensive history", "physical exam", "labs", "immunizations"],
        ["health counseling", "screening tests", "vaccinations"],
    ),
    (
        "Z00.129",
        "Routine Child Exam",
        ["well-child visit", "developmental assessment", "immunizations"],
        ["age-appropriate milestones"],
        ["growth parameters", "developmental screening", "physical exam"],
        ["anticipatory guidance", "vaccinations", "developmental support"],
    ),
    (
        "Z12.11",
        "Colonoscopy Screening",
        ["colorectal cancer screening", "age 45+"],
        ["family history", "polyps", "IBD"],
        ["colonoscopy", "FIT if declined"],
        ["screening at recommended intervals", "polyp removal"],
    ),
    (
        "Z12.31",
        "Mammogram Screening",
        ["breast cancer screening", "age 40+"],
        ["family history", "BRCA", "prior breast disease"],
        ["mammography", "MRI if high-risk"],
        ["screening at recommended intervals", "biopsy if abnormal"],
    ),
    (
        "Z12.4",
        "Cervical Cancer Screening",
        ["Pap smear", "HPV testing", "age 21-65"],
        ["HPV infection", "smoking", "immunosuppression"],
        ["Pap smear", "HPV co-testing if 30+"],
        ["screening at recommended intervals", "colposcopy if abnormal"],
    ),
    (
        "Z12.5",
        "Prostate Cancer Screening",
        ["PSA testing", "shared decision-making"],
        ["age 50+", "African descent", "family history"],
        ["PSA", "DRE", "discussion of risks/benefits"],
        ["shared decision-making", "biopsy if elevated PSA"],
    ),
    (
        "Z23",
        "Immunization Encounter",
        ["vaccination", "primary series or booster"],
        ["age-appropriate schedule", "catch-up needs", "travel"],
        ["immunization history review"],
        ["administer appropriate vaccines", "document"],
    ),
    (
        "Z71.3",
        "Dietary Counseling",
        ["nutrition education", "weight management", "disease management"],
        ["obesity", "diabetes", "cardiovascular disease"],
        ["dietary assessment"],
        ["dietary recommendations", "referral to dietitian"],
    ),
    (
        "Z71.41",
        "Alcohol Use Counseling",
        ["AUDIT screening", "brief intervention"],
        ["unhealthy alcohol use", "AUD risk factors"],
        ["AUDIT-C screening"],
        ["brief intervention", "referral to treatment if severe"],
    ),
    (
        "Z71.42",
        "Tobacco Use Counseling",
        ["smoking cessation", "ask-advise-refer"],
        ["tobacco use", "nicotine dependence"],
        ["tobacco use assessment"],
        ["5 A's counseling", "pharmacotherapy", "quitline referral"],
    ),
    (
        "Z87.891",
        "Personal History of Nicotine Dependence",
        ["former smoker", "monitoring"],
        ["prior tobacco use", "relapse risk"],
        ["tobacco cessation history"],
        ["relapse prevention", "lung cancer screening if eligible"],
    ),
    (
        "Z77.22",
        "Lead Exposure Screening",
        ["blood lead testing", "children at risk"],
        ["old housing", "contaminated soil", "occupational"],
        ["blood lead level"],
        ["source identification", "chelation if high"],
    ),
    (
        "Z13.89",
        "Lipid Screening",
        ["cholesterol testing", "cardiovascular risk assessment"],
        ["age 40+", "diabetes", "family history"],
        ["lipid panel", "risk calculator"],
        ["lifestyle modification", "statins if indicated"],
    ),
    (
        "Z13.1",
        "Diabetes Screening",
        ["fasting glucose", "HbA1c", "OGTT"],
        ["obesity", "family history", "gestational diabetes", "age 45+"],
        ["fasting glucose or HbA1c"],
        ["lifestyle modification", "metformin if prediabetes"],
    ),
    (
        "Z79.899",
        "Long-Term Medication Use",
        ["chronic medication", "monitoring", "refills"],
        ["chronic conditions requiring medication"],
        ["medication review", "monitoring labs"],
        ["adherence counseling", "side effect monitoring", "refills"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _prevent:
    PREVENTIVE_MEDICINE[code] = generate_condition(
        code,
        name,
        "Preventive Medicine",
        symptoms,
        risks,
        criteria,
        treatment,
        ["missed screening opportunity", "late-stage diagnosis", "preventable disease"],
    )


# Lab Findings - 15 conditions
LAB_FINDINGS: Dict[str, MedicalCondition] = {}
_lab = [
    (
        "R74.8",
        "Elevated LFTs",
        ["elevated transaminases", "elevated bilirubin", "elevated alk phos"],
        ["hepatitis", "medications", "alcohol", "fatty liver", "obstruction"],
        ["liver panel", "hepatitis serologies", "ultrasound"],
        ["treat underlying cause", "stop offending agents"],
    ),
    (
        "R79.0",
        "Elevated Blood Glucose",
        ["hyperglycemia", "random or fasting"],
        ["diabetes", "stress", "medications"],
        ["glucose level", "HbA1c"],
        ["diabetes workup", "treatment if confirmed"],
    ),
    (
        "R79.1",
        "Abnormal Coagulation",
        ["prolonged PT/INR", "prolonged PTT"],
        ["anticoagulants", "liver disease", "DIC", "factor deficiency"],
        ["PT/INR", "PTT", "mixing studies"],
        ["treat underlying cause", "factor replacement"],
    ),
    (
        "R70.0",
        "Elevated ESR",
        ["elevated erythrocyte sedimentation rate", "nonspecific inflammation marker"],
        ["infection", "autoimmune", "malignancy"],
        ["ESR", "CRP", "clinical correlation"],
        ["workup for underlying cause"],
    ),
    (
        "R77.0",
        "Elevated CRP",
        ["elevated C-reactive protein", "acute phase reactant"],
        ["infection", "inflammation", "cardiovascular risk marker"],
        ["CRP level", "clinical correlation"],
        ["workup for underlying cause"],
    ),
    (
        "D64.9",
        "Anemia Unspecified",
        ["low hemoglobin", "low hematocrit"],
        ["iron deficiency", "B12/folate deficiency", "chronic disease", "blood loss"],
        ["CBC", "reticulocyte count", "iron studies", "B12/folate"],
        ["treat underlying cause", "transfusion if severe"],
    ),
    (
        "R76.11",
        "Elevated PSA",
        ["prostate-specific antigen elevation", "prostate cancer screening"],
        ["prostate cancer", "BPH", "prostatitis"],
        ["PSA level", "DRE", "repeat PSA", "MRI/biopsy"],
        ["urologic evaluation", "possible biopsy"],
    ),
    (
        "R89.7",
        "Abnormal Cytology",
        ["abnormal cellular findings", "Pap or other cytology"],
        ["dysplasia", "malignancy", "infection"],
        ["cytology report", "colposcopy/biopsy if Pap"],
        ["appropriate follow-up based on findings"],
    ),
    (
        "R83.4",
        "Abnormal CSF",
        ["elevated protein", "elevated WBC", "low glucose"],
        ["meningitis", "encephalitis", "subarachnoid hemorrhage"],
        ["CSF analysis", "culture", "PCR"],
        ["treat underlying cause"],
    ),
    (
        "R82.5",
        "Elevated Urine Cells",
        ["pyuria", "bacteriuria", "hematuria"],
        ["UTI", "stones", "malignancy", "glomerular disease"],
        ["urinalysis", "urine culture", "cystoscopy if hematuria"],
        ["antibiotics if UTI", "workup if hematuria"],
    ),
    (
        "E78.5",
        "Hyperlipidemia",
        ["elevated cholesterol", "elevated triglycerides", "elevated LDL"],
        ["diet", "genetics", "obesity", "hypothyroidism"],
        ["lipid panel", "cardiovascular risk assessment"],
        ["lifestyle modification", "statins", "fibrates if TG elevated"],
    ),
    (
        "E79.0",
        "Hyperuricemia",
        ["elevated uric acid", "asymptomatic or with gout"],
        ["diet", "obesity", "medications", "renal disease"],
        ["serum uric acid"],
        ["lifestyle modification", "allopurinol if recurrent gout"],
    ),
    (
        "R94.31",
        "Abnormal ECG",
        ["ECG abnormalities", "arrhythmia", "ischemia", "conduction abnormality"],
        ["cardiac disease", "electrolyte abnormality", "medications"],
        ["ECG interpretation", "clinical correlation", "further cardiac workup"],
        ["treat underlying cause", "cardiology referral if significant"],
    ),
    (
        "R93.1",
        "Abnormal Kidney Imaging",
        ["renal mass", "cyst", "hydronephrosis", "stones"],
        ["incidental finding", "symptomatic presentation"],
        ["CT", "ultrasound", "MRI"],
        ["urologic evaluation", "follow-up imaging"],
    ),
    (
        "R93.0",
        "Abnormal Brain Imaging",
        ["mass lesion", "stroke", "hemorrhage", "white matter changes"],
        ["symptoms prompting imaging", "incidental"],
        ["CT", "MRI"],
        ["neurology/neurosurgery consultation", "treatment based on findings"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _lab:
    LAB_FINDINGS[code] = generate_condition(
        code,
        name,
        "Laboratory Findings",
        symptoms,
        risks,
        criteria,
        treatment,
        ["underlying serious condition", "need for further workup"],
    )


# ============================================================================
# ITERATION 18: Congenital, Metabolic Extended, Autoimmune Extended
# ============================================================================

CONGENITAL_CONDITIONS: Dict[str, MedicalCondition] = {}
_congenital = [
    (
        "Q21.0",
        "Ventricular Septal Defect",
        ["heart murmur", "failure to thrive", "dyspnea"],
        ["genetic factors", "maternal infections"],
        ["echocardiography", "cardiac catheterization"],
        ["observation", "surgical repair", "catheter closure"],
    ),
    (
        "Q21.1",
        "Atrial Septal Defect",
        ["asymptomatic", "fatigue", "palpitations"],
        ["genetic syndromes"],
        ["echocardiography", "bubble study"],
        ["observation", "catheter closure", "surgical repair"],
    ),
    (
        "Q23.0",
        "Congenital Aortic Stenosis",
        ["syncope", "chest pain", "heart failure"],
        ["bicuspid aortic valve"],
        ["echocardiography", "cardiac catheterization"],
        ["balloon valvuloplasty", "valve replacement"],
    ),
    (
        "Q25.0",
        "Patent Ductus Arteriosus",
        ["heart murmur", "respiratory distress", "failure to thrive"],
        ["prematurity"],
        ["echocardiography"],
        ["indomethacin", "surgical ligation", "catheter closure"],
    ),
    (
        "Q35.1",
        "Cleft Palate",
        ["feeding difficulties", "speech problems", "ear infections"],
        ["genetic factors", "environmental factors"],
        ["physical examination"],
        ["surgical repair", "speech therapy", "orthodontic treatment"],
    ),
    (
        "Q36.9",
        "Cleft Lip",
        ["visible defect", "feeding difficulties"],
        ["genetic factors", "maternal smoking"],
        ["physical examination"],
        ["surgical repair"],
    ),
    (
        "Q65.0",
        "Congenital Hip Dysplasia",
        ["leg length discrepancy", "limited hip abduction"],
        ["breech presentation", "family history"],
        ["Barlow/Ortolani test", "ultrasound", "X-ray"],
        ["Pavlik harness", "closed reduction", "surgical repair"],
    ),
    (
        "Q66.0",
        "Talipes Equinovarus",
        ["foot deformity", "ankle stiffness"],
        ["genetic factors", "positional"],
        ["physical examination"],
        ["Ponseti method", "casting", "surgery"],
    ),
    (
        "Q79.0",
        "Congenital Diaphragmatic Hernia",
        ["respiratory distress at birth", "scaphoid abdomen"],
        ["unknown"],
        ["prenatal ultrasound", "chest X-ray"],
        ["surgical repair", "ECMO support"],
    ),
    (
        "Q79.2",
        "Omphalocele",
        ["abdominal wall defect", "herniation of organs"],
        ["chromosomal abnormalities"],
        ["prenatal ultrasound"],
        ["staged surgical repair"],
    ),
    (
        "Q79.3",
        "Gastroschisis",
        ["abdominal wall defect", "intestines outside body"],
        ["young maternal age"],
        ["prenatal ultrasound"],
        ["surgical repair"],
    ),
    (
        "Q90.9",
        "Down Syndrome",
        ["intellectual disability", "characteristic facies", "hypotonia"],
        ["maternal age", "trisomy 21"],
        ["karyotyping", "prenatal screening"],
        ["early intervention", "manage associated conditions"],
    ),
    (
        "Q91.3",
        "Edwards Syndrome",
        ["severe developmental delay", "cardiac defects", "organ malformations"],
        ["trisomy 18"],
        ["karyotyping"],
        ["supportive care", "palliative care"],
    ),
    (
        "Q96.9",
        "Turner Syndrome",
        ["short stature", "ovarian dysgenesis", "webbed neck"],
        ["45,X karyotype"],
        ["karyotyping", "hormone levels"],
        ["growth hormone", "estrogen replacement"],
    ),
    (
        "Q87.1",
        "Marfan Syndrome",
        ["tall stature", "arachnodactyly", "aortic root dilation"],
        ["FBN1 mutation", "autosomal dominant"],
        ["genetic testing", "echocardiography"],
        ["beta-blockers", "aortic surveillance", "surgery"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _congenital:
    CONGENITAL_CONDITIONS[code] = generate_condition(
        code,
        name,
        "Congenital Disorders",
        symptoms,
        risks,
        criteria,
        treatment,
        ["associated anomalies", "need for specialized care"],
    )


METABOLIC_EXTENDED: Dict[str, MedicalCondition] = {}
_metabolic = [
    (
        "E70.0",
        "Classical Phenylketonuria",
        ["intellectual disability", "seizures", "behavioral problems"],
        ["PAH gene mutation", "autosomal recessive"],
        ["newborn screening", "phenylalanine levels"],
        ["phenylalanine-restricted diet", "sapropterin"],
    ),
    (
        "E71.0",
        "Maple Syrup Urine Disease",
        ["poor feeding", "lethargy", "maple syrup odor"],
        ["BCKD complex deficiency"],
        ["newborn screening", "amino acid analysis"],
        ["BCAA-restricted diet", "thiamine supplementation"],
    ),
    (
        "E72.0",
        "Homocystinuria",
        ["lens dislocation", "thromboembolism", "intellectual disability"],
        ["CBS deficiency"],
        ["plasma homocysteine", "genetic testing"],
        ["pyridoxine", "methionine restriction", "betaine"],
    ),
    (
        "E74.0",
        "Glycogen Storage Disease Type I",
        ["hepatomegaly", "hypoglycemia", "lactic acidosis"],
        ["G6Pase deficiency"],
        ["liver biopsy", "genetic testing"],
        ["frequent feedings", "cornstarch therapy"],
    ),
    (
        "E75.0",
        "GM2 Gangliosidosis",
        ["developmental regression", "cherry red spot", "seizures"],
        ["hexosaminidase deficiency", "Ashkenazi Jewish"],
        ["enzyme assay", "genetic testing"],
        ["supportive care"],
    ),
    (
        "E76.0",
        "Mucopolysaccharidosis Type I",
        ["coarse facies", "hepatosplenomegaly", "developmental delay"],
        ["alpha-L-iduronidase deficiency"],
        ["urine GAGs", "enzyme assay"],
        ["enzyme replacement", "HSCT"],
    ),
    (
        "E80.0",
        "Hereditary Erythropoietic Porphyria",
        ["severe photosensitivity", "hemolytic anemia"],
        ["UROS deficiency"],
        ["porphyrin analysis"],
        ["sun avoidance", "transfusions", "HSCT"],
    ),
    (
        "E83.0",
        "Wilson Disease",
        ["hepatitis", "neuropsychiatric symptoms", "Kayser-Fleischer rings"],
        ["ATP7B mutation"],
        ["ceruloplasmin", "24h urine copper", "liver biopsy"],
        ["penicillamine", "zinc", "liver transplant"],
    ),
    (
        "E83.1",
        "Hemochromatosis",
        ["fatigue", "joint pain", "diabetes", "liver disease"],
        ["HFE mutation", "male sex"],
        ["iron studies", "HFE testing", "liver biopsy"],
        ["phlebotomy", "iron chelation"],
    ),
    (
        "E84.0",
        "Cystic Fibrosis Pulmonary",
        ["chronic cough", "recurrent infections", "bronchiectasis"],
        ["CFTR mutation"],
        ["sweat chloride", "genetic testing"],
        ["airway clearance", "antibiotics", "CFTR modulators"],
    ),
    (
        "E84.1",
        "Cystic Fibrosis GI",
        ["pancreatic insufficiency", "meconium ileus", "failure to thrive"],
        ["CFTR mutation"],
        ["sweat chloride", "fecal elastase"],
        ["pancreatic enzymes", "fat-soluble vitamins", "nutrition support"],
    ),
    (
        "E85.0",
        "Hereditary Amyloidosis",
        ["peripheral neuropathy", "cardiomyopathy", "renal failure"],
        ["transthyretin mutation"],
        ["tissue biopsy", "genetic testing"],
        ["tafamidis", "liver transplant", "gene silencing therapy"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _metabolic:
    METABOLIC_EXTENDED[code] = generate_condition(
        code,
        name,
        "Metabolic Disorders",
        symptoms,
        risks,
        criteria,
        treatment,
        ["metabolic crisis", "long-term organ damage"],
    )


AUTOIMMUNE_EXTENDED: Dict[str, MedicalCondition] = {}
_autoimmune = [
    (
        "M32.1",
        "SLE with Nephritis",
        ["proteinuria", "hematuria", "hypertension", "edema"],
        ["SLE diagnosis", "anti-dsDNA antibodies"],
        ["renal biopsy", "complement levels", "anti-dsDNA"],
        ["corticosteroids", "mycophenolate", "cyclophosphamide", "rituximab"],
    ),
    (
        "M33.0",
        "Juvenile Dermatomyositis",
        ["proximal weakness", "heliotrope rash", "Gottron papules"],
        ["pediatric onset", "genetic susceptibility"],
        ["muscle enzymes", "MRI", "biopsy"],
        ["corticosteroids", "methotrexate", "IVIG"],
    ),
    (
        "M33.1",
        "Polymyositis",
        ["symmetric proximal weakness", "dysphagia"],
        ["adult onset", "malignancy association"],
        ["CK", "EMG", "muscle biopsy"],
        ["corticosteroids", "azathioprine", "methotrexate"],
    ),
    (
        "M34.0",
        "Progressive Systemic Sclerosis",
        ["skin thickening", "Raynaud", "GI dysmotility", "ILD"],
        ["female sex", "silica exposure"],
        ["ANA", "anti-Scl-70", "anti-centromere", "PFTs"],
        ["organ-specific treatment", "immunosuppression"],
    ),
    (
        "M35.0",
        "Sicca Syndrome",
        ["dry eyes", "dry mouth", "fatigue", "arthralgia"],
        ["female sex", "other autoimmune conditions"],
        ["Schirmer test", "lip biopsy", "anti-SSA/SSB"],
        ["artificial tears", "pilocarpine", "immunosuppression"],
    ),
    (
        "M35.3",
        "Polymyalgia Rheumatica",
        ["shoulder/hip stiffness", "morning stiffness", "weight loss"],
        ["age >50", "Northern European ancestry"],
        ["elevated ESR/CRP", "clinical criteria"],
        ["low-dose prednisone"],
    ),
    (
        "K90.0",
        "Celiac Disease",
        ["diarrhea", "weight loss", "anemia", "dermatitis herpetiformis"],
        ["HLA-DQ2/DQ8", "family history"],
        ["tissue transglutaminase IgA", "duodenal biopsy"],
        ["gluten-free diet"],
    ),
    (
        "K50.0",
        "Crohn Disease Small Intestine",
        ["abdominal pain", "diarrhea", "weight loss", "fistulas"],
        ["genetic factors", "smoking"],
        ["colonoscopy with biopsy", "imaging"],
        ["corticosteroids", "immunomodulators", "biologics", "surgery"],
    ),
    (
        "K51.0",
        "Ulcerative Pancolitis",
        ["bloody diarrhea", "urgency", "tenesmus", "abdominal pain"],
        ["genetic factors", "non-smoking"],
        ["colonoscopy with biopsy"],
        ["5-ASA", "corticosteroids", "biologics", "colectomy"],
    ),
    (
        "G35",
        "Multiple Sclerosis",
        ["optic neuritis", "sensory symptoms", "weakness", "ataxia"],
        ["female sex", "vitamin D deficiency", "EBV"],
        ["MRI", "CSF analysis", "evoked potentials"],
        ["disease-modifying therapies", "relapse treatment"],
    ),
    (
        "G70.0",
        "Myasthenia Gravis",
        ["ptosis", "diplopia", "fatigable weakness", "dysphagia"],
        ["thymic abnormalities", "other autoimmune diseases"],
        ["anti-AChR antibodies", "anti-MuSK", "EMG", "CT chest"],
        ["pyridostigmine", "immunosuppression", "thymectomy", "IVIG"],
    ),
    (
        "L40.5",
        "Psoriatic Arthritis",
        ["asymmetric oligoarthritis", "dactylitis", "enthesitis", "psoriasis"],
        ["psoriasis", "family history"],
        ["clinical criteria", "imaging"],
        ["NSAIDs", "DMARDs", "biologics"],
    ),
    (
        "M45.9",
        "Ankylosing Spondylitis",
        ["inflammatory back pain", "morning stiffness", "sacroiliitis"],
        ["HLA-B27", "male sex"],
        ["MRI sacroiliac joints", "HLA-B27"],
        ["NSAIDs", "TNF inhibitors", "physical therapy"],
    ),
    (
        "D69.3",
        "Immune Thrombocytopenia",
        ["petechiae", "purpura", "bleeding"],
        ["viral infection", "autoimmune conditions"],
        ["platelet count", "exclude other causes"],
        ["observation", "corticosteroids", "IVIG", "splenectomy", "TPO agonists"],
    ),
    (
        "D59.1",
        "Autoimmune Hemolytic Anemia",
        ["fatigue", "jaundice", "splenomegaly"],
        ["lymphoproliferative disorders", "autoimmune diseases"],
        ["Coombs test", "reticulocyte count", "LDH"],
        ["corticosteroids", "rituximab", "splenectomy"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _autoimmune:
    AUTOIMMUNE_EXTENDED[code] = generate_condition(
        code,
        name,
        "Autoimmune Disorders",
        symptoms,
        risks,
        criteria,
        treatment,
        ["disease flares", "organ damage"],
    )


RARE_DISEASES: Dict[str, MedicalCondition] = {}
_rare = [
    (
        "E22.0",
        "Acromegaly",
        ["enlarged hands/feet", "coarse facies", "headache", "visual field defects"],
        ["pituitary adenoma"],
        ["IGF-1", "GH suppression test", "MRI pituitary"],
        ["transsphenoidal surgery", "somatostatin analogs", "GH receptor antagonist"],
    ),
    (
        "E23.0",
        "Hypopituitarism",
        ["fatigue", "hypotension", "amenorrhea", "growth failure"],
        ["pituitary tumors", "surgery", "radiation"],
        ["hormone levels", "MRI pituitary"],
        ["hormone replacement"],
    ),
    (
        "E24.0",
        "Pituitary Cushing",
        ["weight gain", "moon facies", "striae", "hypertension"],
        ["pituitary adenoma"],
        ["24h urine cortisol", "dexamethasone suppression", "MRI"],
        ["transsphenoidal surgery", "radiation", "medication"],
    ),
    (
        "G12.2",
        "Motor Neuron Disease",
        ["progressive weakness", "fasciculations", "dysarthria", "dysphagia"],
        ["age", "possible genetic factors"],
        ["EMG", "MRI", "clinical criteria"],
        ["riluzole", "supportive care", "respiratory support"],
    ),
    (
        "G71.0",
        "Muscular Dystrophy",
        ["progressive weakness", "pseudohypertrophy", "cardiomyopathy"],
        ["dystrophin mutations", "X-linked"],
        ["CK", "genetic testing", "muscle biopsy"],
        ["corticosteroids", "physical therapy", "cardiac monitoring"],
    ),
    (
        "G60.0",
        "Charcot-Marie-Tooth Disease",
        ["distal weakness", "foot deformities", "sensory loss"],
        ["genetic mutations", "autosomal dominant"],
        ["nerve conduction", "genetic testing"],
        ["physical therapy", "orthotics", "surgery"],
    ),
    (
        "Q85.0",
        "Neurofibromatosis Type 1",
        ["cafe-au-lait spots", "neurofibromas", "Lisch nodules"],
        ["NF1 mutation", "autosomal dominant"],
        ["clinical criteria", "genetic testing"],
        ["surveillance", "surgical excision of symptomatic tumors"],
    ),
    (
        "Q85.1",
        "Tuberous Sclerosis",
        ["seizures", "intellectual disability", "skin lesions", "renal cysts"],
        ["TSC1/TSC2 mutations"],
        ["clinical criteria", "genetic testing", "imaging"],
        ["mTOR inhibitors", "seizure control", "surgery"],
    ),
    (
        "D47.4",
        "Mastocytosis",
        ["urticaria pigmentosa", "flushing", "anaphylaxis"],
        ["KIT mutation"],
        ["skin biopsy", "tryptase", "bone marrow"],
        ["H1/H2 blockers", "epinephrine", "cytoreductive therapy"],
    ),
    (
        "D89.8",
        "Autoinflammatory Syndromes",
        ["recurrent fevers", "serositis", "rash"],
        ["genetic mutations"],
        ["genetic testing", "acute phase reactants"],
        ["colchicine", "IL-1 inhibitors"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _rare:
    RARE_DISEASES[code] = generate_condition(
        code,
        name,
        "Rare Diseases",
        symptoms,
        risks,
        criteria,
        treatment,
        ["progressive disease", "multisystem involvement"],
    )


# ============================================================================
# ITERATION 19: Z-codes (Social/Environmental Factors), Chronic Disease Management
# ============================================================================

SOCIAL_ENVIRONMENTAL: Dict[str, MedicalCondition] = {}
_social = [
    (
        "Z59.0",
        "Homelessness",
        ["lack of shelter", "unstable living", "social vulnerability"],
        ["poverty", "mental illness", "substance abuse"],
        ["social assessment"],
        ["social services referral", "housing assistance", "case management"],
    ),
    (
        "Z59.4",
        "Food Insecurity",
        ["inadequate nutrition", "hunger"],
        ["poverty", "unemployment"],
        ["screening questionnaire"],
        ["food assistance programs", "nutritional counseling"],
    ),
    (
        "Z56.0",
        "Unemployment",
        ["job loss stress", "financial strain"],
        ["economic conditions", "skill mismatch"],
        ["social history"],
        ["job training", "mental health support"],
    ),
    (
        "Z62.8",
        "Adverse Childhood Experiences",
        ["trauma history", "developmental impact"],
        ["abuse", "neglect", "household dysfunction"],
        ["ACEs screening"],
        ["trauma-informed care", "mental health services"],
    ),
    (
        "Z63.0",
        "Relationship Problems",
        ["partner conflict", "stress"],
        ["communication issues", "life stressors"],
        ["clinical interview"],
        ["couples counseling", "individual therapy"],
    ),
    (
        "Z63.4",
        "Death of Family Member",
        ["grief", "bereavement"],
        ["loss of loved one"],
        ["clinical assessment"],
        ["grief counseling", "support groups"],
    ),
    (
        "Z65.4",
        "Victim of Crime",
        ["trauma symptoms", "fear", "anxiety"],
        ["exposure to violence"],
        ["trauma assessment"],
        ["trauma therapy", "victim support services"],
    ),
    (
        "Z72.0",
        "Tobacco Use",
        ["smoking history", "nicotine dependence"],
        ["social environment", "stress"],
        ["smoking history"],
        ["cessation counseling", "nicotine replacement", "medications"],
    ),
    (
        "Z72.1",
        "Alcohol Use",
        ["excessive drinking", "social problems"],
        ["family history", "stress", "mental health"],
        ["AUDIT screening"],
        ["brief intervention", "counseling", "medication-assisted treatment"],
    ),
    (
        "Z72.5",
        "High Risk Sexual Behavior",
        ["STI risk", "unplanned pregnancy risk"],
        ["multiple partners", "inconsistent contraception"],
        ["sexual history"],
        ["risk reduction counseling", "STI screening", "contraception"],
    ),
    (
        "Z76.0",
        "Encounter for Issue of Repeat Prescription",
        ["medication refill", "chronic management"],
        ["chronic conditions"],
        ["medication review"],
        ["prescription renewal", "adherence assessment"],
    ),
    (
        "Z86.7",
        "Personal History of Diseases of Circulatory System",
        ["prior CVD", "risk stratification"],
        ["cardiovascular events"],
        ["medical records review"],
        ["secondary prevention", "risk factor modification"],
    ),
    (
        "Z87.8",
        "Personal History of Other Diseases",
        ["prior conditions", "follow-up needs"],
        ["various conditions"],
        ["medical history"],
        ["appropriate surveillance"],
    ),
    (
        "Z91.1",
        "Noncompliance with Medical Treatment",
        ["missed appointments", "not taking medications"],
        ["health literacy", "side effects", "cost"],
        ["adherence assessment"],
        ["patient education", "barrier reduction", "motivational interviewing"],
    ),
    (
        "Z91.8",
        "Other Personal Risk Factors",
        ["lifestyle factors", "occupational exposures"],
        ["various exposures"],
        ["risk assessment"],
        ["risk reduction counseling"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _social:
    SOCIAL_ENVIRONMENTAL[code] = generate_condition(
        code,
        name,
        "Social/Environmental Factors",
        symptoms,
        risks,
        criteria,
        treatment,
        ["social determinants impacting health"],
    )


CHRONIC_MANAGEMENT: Dict[str, MedicalCondition] = {}
_chronic = [
    (
        "E11.65",
        "DM2 with Hyperglycemia",
        ["elevated glucose", "polyuria", "polydipsia"],
        ["medication nonadherence", "illness", "steroids"],
        ["blood glucose monitoring"],
        ["insulin adjustment", "hydration", "identify precipitant"],
    ),
    (
        "I25.10",
        "Chronic Ischemic Heart Disease",
        ["stable angina", "reduced exercise tolerance"],
        ["CAD", "prior MI"],
        ["stress testing", "coronary imaging"],
        ["optimal medical therapy", "revascularization if needed"],
    ),
    (
        "I50.2",
        "Systolic Heart Failure",
        ["dyspnea", "fatigue", "edema"],
        ["CAD", "hypertension", "cardiomyopathy"],
        ["echocardiogram", "BNP"],
        ["GDMT", "device therapy", "transplant evaluation"],
    ),
    (
        "I50.3",
        "Diastolic Heart Failure",
        ["dyspnea", "exercise intolerance"],
        ["hypertension", "age", "obesity"],
        ["echocardiogram", "BNP"],
        ["diuretics", "blood pressure control", "sodium restriction"],
    ),
    (
        "J44.0",
        "COPD with Acute Exacerbation",
        ["increased dyspnea", "increased sputum", "purulent sputum"],
        ["infection", "pollution", "nonadherence"],
        ["clinical assessment", "spirometry"],
        ["bronchodilators", "steroids", "antibiotics if indicated"],
    ),
    (
        "N18.3",
        "CKD Stage 3",
        ["often asymptomatic", "mild symptoms possible"],
        ["diabetes", "hypertension", "AKI"],
        ["eGFR 30-59"],
        ["BP control", "glucose control", "avoid nephrotoxins", "SGLT2i"],
    ),
    (
        "N18.4",
        "CKD Stage 4",
        ["fatigue", "nausea", "pruritus", "fluid retention"],
        ["progressive CKD"],
        ["eGFR 15-29"],
        ["nephrology co-management", "RRT planning", "dietary modification"],
    ),
    (
        "N18.5",
        "CKD Stage 5",
        ["uremic symptoms", "volume overload", "anemia"],
        ["ESRD"],
        ["eGFR <15"],
        ["dialysis initiation", "transplant evaluation"],
    ),
    (
        "M81.0",
        "Osteoporosis without Fracture",
        ["asymptomatic bone loss"],
        ["age", "female sex", "low body weight", "medications"],
        ["DXA scan T-score -2.5"],
        ["calcium/vitamin D", "bisphosphonates", "denosumab", "fall prevention"],
    ),
    (
        "M80.0",
        "Osteoporosis with Fracture",
        ["fragility fracture", "pain", "disability"],
        ["osteoporosis"],
        ["DXA", "fracture history"],
        ["aggressive osteoporosis treatment", "fracture rehabilitation"],
    ),
    (
        "K21.0",
        "GERD with Esophagitis",
        ["heartburn", "regurgitation", "dysphagia"],
        ["obesity", "hiatal hernia", "diet"],
        ["endoscopy", "clinical response to PPI"],
        ["lifestyle modification", "PPI therapy", "surgical options"],
    ),
    (
        "G43.9",
        "Chronic Migraine",
        ["frequent headaches", ">15 days/month", "disability"],
        ["medication overuse", "stress", "sleep disorders"],
        ["headache diary", "clinical criteria"],
        ["preventive medications", "CGRP inhibitors", "botulinum toxin"],
    ),
    (
        "M54.5",
        "Chronic Low Back Pain",
        ["persistent back pain", ">12 weeks", "functional limitation"],
        ["deconditioning", "psychosocial factors", "work-related"],
        ["clinical assessment", "imaging if red flags"],
        ["physical therapy", "exercise", "multimodal therapy", "pain psychology"],
    ),
    (
        "F32.1",
        "Major Depression Moderate",
        ["depressed mood", "anhedonia", "sleep/appetite changes"],
        ["genetic", "life events", "chronic illness"],
        ["PHQ-9", "clinical interview"],
        ["psychotherapy", "antidepressants", "lifestyle interventions"],
    ),
    (
        "F41.1",
        "Generalized Anxiety Disorder",
        ["excessive worry", "restlessness", "muscle tension"],
        ["genetic", "stress", "trauma"],
        ["GAD-7", "clinical interview"],
        ["CBT", "SSRIs/SNRIs", "relaxation techniques"],
    ),
    (
        "R53.83",
        "Chronic Fatigue Syndrome",
        ["persistent fatigue", "post-exertional malaise", "cognitive dysfunction"],
        ["viral triggers", "immune dysfunction"],
        ["clinical criteria", "exclusion of other causes"],
        ["pacing", "symptom management", "graded exercise if tolerated"],
    ),
    (
        "G93.32",
        "Chronic Post-Viral Fatigue",
        ["prolonged fatigue after infection", "cognitive issues"],
        ["viral infections", "COVID-19"],
        ["clinical history", "exclusion diagnosis"],
        ["supportive care", "rehabilitation"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _chronic:
    CHRONIC_MANAGEMENT[code] = generate_condition(
        code,
        name,
        "Chronic Disease Management",
        symptoms,
        risks,
        criteria,
        treatment,
        ["disease progression", "complications"],
    )


COMMON_PRESENTATIONS: Dict[str, MedicalCondition] = {}
_common = [
    (
        "R51.9",
        "Headache Unspecified",
        ["head pain", "various locations", "variable severity"],
        ["stress", "dehydration", "eye strain"],
        ["clinical assessment", "exclude red flags"],
        ["analgesics", "hydration", "treat underlying cause"],
    ),
    (
        "R10.9",
        "Abdominal Pain Unspecified",
        ["abdominal discomfort", "variable location"],
        ["dietary factors", "stress", "infection"],
        ["clinical assessment", "labs", "imaging if indicated"],
        ["symptomatic treatment", "address underlying cause"],
    ),
    (
        "R05.9",
        "Cough Unspecified",
        ["coughing", "with or without sputum"],
        ["infection", "allergy", "irritants"],
        ["clinical assessment", "chest X-ray if indicated"],
        ["symptomatic treatment", "treat underlying cause"],
    ),
    (
        "R50.9",
        "Fever Unspecified",
        ["elevated temperature", "chills"],
        ["infection", "inflammation"],
        ["clinical assessment", "labs"],
        ["antipyretics", "identify and treat source"],
    ),
    (
        "R53.1",
        "General Weakness",
        ["reduced strength", "fatigue"],
        ["various medical conditions"],
        ["comprehensive evaluation"],
        ["treat underlying cause"],
    ),
    (
        "R42",
        "Dizziness and Giddiness",
        ["lightheadedness", "vertigo", "unsteadiness"],
        ["various causes"],
        ["clinical assessment", "Dix-Hallpike", "audiometry"],
        ["based on underlying cause"],
    ),
    (
        "R00.0",
        "Tachycardia Unspecified",
        ["rapid heart rate", "palpitations"],
        ["anxiety", "fever", "dehydration", "cardiac"],
        ["ECG", "labs"],
        ["treat underlying cause", "rate control if needed"],
    ),
    (
        "R00.1",
        "Bradycardia Unspecified",
        ["slow heart rate", "possible fatigue"],
        ["medications", "cardiac conduction disease"],
        ["ECG", "Holter"],
        ["medication adjustment", "pacemaker if symptomatic"],
    ),
    (
        "R06.0",
        "Dyspnea",
        ["shortness of breath", "difficulty breathing"],
        ["cardiac", "pulmonary", "anemia"],
        ["clinical assessment", "CXR", "PFTs", "echo"],
        ["oxygen if hypoxic", "treat underlying cause"],
    ),
    (
        "R07.9",
        "Chest Pain Unspecified",
        ["chest discomfort", "various qualities"],
        ["cardiac", "musculoskeletal", "GI", "pulmonary"],
        ["ECG", "troponin", "chest X-ray", "clinical assessment"],
        ["based on diagnosis", "rule out acute coronary syndrome"],
    ),
    (
        "R11.0",
        "Nausea",
        ["feeling sick", "stomach upset"],
        ["GI", "medications", "vestibular", "pregnancy"],
        ["clinical assessment"],
        ["antiemetics", "treat underlying cause"],
    ),
    (
        "R11.10",
        "Vomiting Without Nausea",
        ["emesis without nausea", "projectile possible"],
        ["increased ICP", "pyloric obstruction"],
        ["neuroimaging if indicated", "GI evaluation"],
        ["treat underlying cause urgently"],
    ),
    (
        "R19.7",
        "Diarrhea Unspecified",
        ["loose stools", "increased frequency"],
        ["infection", "medications", "dietary"],
        ["stool studies", "clinical assessment"],
        ["hydration", "treat underlying cause"],
    ),
    (
        "K59.0",
        "Constipation",
        ["infrequent bowel movements", "hard stools", "straining"],
        ["diet", "medications", "inactivity"],
        ["clinical assessment", "exclude obstruction"],
        ["fiber", "fluids", "laxatives", "lifestyle modification"],
    ),
    (
        "R63.4",
        "Abnormal Weight Loss",
        ["unintentional weight loss", ">5% in 6-12 months"],
        ["malignancy", "GI disease", "endocrine", "psychiatric"],
        ["comprehensive evaluation", "labs", "imaging"],
        ["nutritional support", "treat underlying cause"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _common:
    COMMON_PRESENTATIONS[code] = generate_condition(
        code,
        name,
        "Common Presentations",
        symptoms,
        risks,
        criteria,
        treatment,
        ["underlying serious condition requiring evaluation"],
    )


WOUND_CARE: Dict[str, MedicalCondition] = {}
_wounds = [
    (
        "L89.1",
        "Pressure Ulcer Stage 2",
        ["partial thickness skin loss", "superficial ulcer"],
        ["immobility", "malnutrition", "moisture"],
        ["wound assessment", "staging"],
        ["pressure relief", "wound care", "nutrition optimization"],
    ),
    (
        "L89.2",
        "Pressure Ulcer Stage 3",
        ["full thickness skin loss", "subcutaneous tissue visible"],
        ["pressure", "shear", "friction"],
        ["wound assessment"],
        ["debridement", "advanced wound care", "pressure relief"],
    ),
    (
        "L89.3",
        "Pressure Ulcer Stage 4",
        ["full thickness tissue loss", "exposed bone/tendon"],
        ["severe immobility", "malnutrition"],
        ["wound assessment", "imaging for osteomyelitis"],
        ["surgical debridement", "wound VAC", "flap coverage"],
    ),
    (
        "L97.1",
        "Venous Leg Ulcer",
        ["leg ulcer", "typically medial malleolus", "edema"],
        ["venous insufficiency", "prior DVT"],
        ["wound assessment", "venous duplex"],
        ["compression therapy", "wound care", "treat venous disease"],
    ),
    (
        "E11.621",
        "DM2 with Foot Ulcer",
        ["foot ulcer", "neuropathy", "infection risk"],
        ["diabetes", "neuropathy", "PVD"],
        ["wound assessment", "vascular assessment", "infection workup"],
        ["offloading", "debridement", "antibiotics if infected", "revascularization"],
    ),
    (
        "L02.4",
        "Cutaneous Abscess Trunk",
        ["fluctuant swelling", "pain", "erythema"],
        ["skin trauma", "folliculitis"],
        ["clinical examination"],
        ["incision and drainage", "wound packing", "antibiotics if cellulitis"],
    ),
    (
        "T14.1",
        "Open Wound",
        ["skin disruption", "bleeding"],
        ["trauma"],
        ["wound assessment"],
        ["cleaning", "closure", "tetanus prophylaxis"],
    ),
    (
        "T79.3",
        "Post-Traumatic Wound Infection",
        ["wound erythema", "drainage", "fever"],
        ["contaminated wound", "delayed care"],
        ["wound culture", "clinical assessment"],
        ["antibiotics", "debridement", "wound care"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _wounds:
    WOUND_CARE[code] = generate_condition(
        code,
        name,
        "Wound Care",
        symptoms,
        risks,
        criteria,
        treatment,
        ["wound progression", "infection", "sepsis"],
    )


# ============================================================================
# ITERATION 20: Dental/Oral, Nutritional Disorders, Substance Use Extended
# ============================================================================

DENTAL_ORAL: Dict[str, MedicalCondition] = {}
_dental = [
    (
        "K02.9",
        "Dental Caries",
        ["tooth pain", "sensitivity", "visible cavities"],
        ["poor hygiene", "sugar consumption"],
        ["dental examination", "X-rays"],
        ["fillings", "crowns", "root canal", "extraction"],
    ),
    (
        "K04.0",
        "Pulpitis",
        ["severe tooth pain", "sensitivity to temperature"],
        ["dental caries", "trauma"],
        ["dental examination", "percussion test"],
        ["root canal", "extraction"],
    ),
    (
        "K04.7",
        "Periapical Abscess",
        ["severe pain", "swelling", "fever"],
        ["untreated caries", "failed root canal"],
        ["dental examination", "X-rays"],
        ["drainage", "antibiotics", "root canal or extraction"],
    ),
    (
        "K05.1",
        "Chronic Gingivitis",
        ["bleeding gums", "red swollen gingiva"],
        ["poor hygiene", "smoking"],
        ["periodontal examination"],
        ["professional cleaning", "improved hygiene"],
    ),
    (
        "K05.3",
        "Chronic Periodontitis",
        ["gum recession", "tooth mobility", "bone loss"],
        ["gingivitis", "smoking", "diabetes"],
        ["periodontal probing", "X-rays"],
        ["scaling and root planing", "surgery", "antibiotics"],
    ),
    (
        "K08.1",
        "Loss of Teeth Due to Disease",
        ["missing teeth", "functional impairment"],
        ["caries", "periodontal disease"],
        ["dental examination"],
        ["dentures", "implants", "bridges"],
    ),
    (
        "K12.0",
        "Recurrent Oral Aphthae",
        ["painful mouth ulcers", "recurrent episodes"],
        ["stress", "nutritional deficiency", "autoimmune"],
        ["clinical examination"],
        ["topical steroids", "mouth rinses", "treat underlying cause"],
    ),
    (
        "K12.1",
        "Other Forms of Stomatitis",
        ["mouth inflammation", "ulceration"],
        ["infection", "medications", "systemic disease"],
        ["clinical examination", "culture"],
        ["treat underlying cause", "symptomatic care"],
    ),
    (
        "K13.0",
        "Diseases of Lips",
        ["cheilitis", "cracking", "inflammation"],
        ["sun exposure", "licking", "deficiencies"],
        ["clinical examination"],
        ["emollients", "treat underlying cause"],
    ),
    (
        "K14.0",
        "Glossitis",
        ["tongue inflammation", "smooth tongue", "pain"],
        ["nutritional deficiency", "anemia"],
        ["clinical examination", "labs"],
        ["treat underlying cause", "B vitamins"],
    ),
    (
        "B37.0",
        "Oral Candidiasis",
        ["white patches", "pain", "difficulty eating"],
        ["immunosuppression", "diabetes", "antibiotics"],
        ["clinical examination", "KOH prep"],
        ["nystatin", "fluconazole"],
    ),
    (
        "K11.2",
        "Sialadenitis",
        ["salivary gland swelling", "pain with eating"],
        ["dehydration", "stones", "Sjogren's"],
        ["clinical examination", "imaging"],
        ["hydration", "massage", "antibiotics", "surgery"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _dental:
    DENTAL_ORAL[code] = generate_condition(
        code,
        name,
        "Dental/Oral Conditions",
        symptoms,
        risks,
        criteria,
        treatment,
        ["spread of infection", "systemic involvement"],
    )


NUTRITIONAL_DISORDERS: Dict[str, MedicalCondition] = {}
_nutritional = [
    (
        "E40",
        "Kwashiorkor",
        ["edema", "dermatosis", "hepatomegaly", "hair changes"],
        ["protein deficiency", "infection"],
        ["clinical assessment", "albumin"],
        ["nutritional rehabilitation", "treat infections"],
    ),
    (
        "E41",
        "Marasmus",
        ["severe wasting", "loss of subcutaneous fat"],
        ["caloric deficiency"],
        ["clinical assessment", "weight-for-height"],
        ["nutritional rehabilitation"],
    ),
    (
        "E43",
        "Severe Protein-Energy Malnutrition",
        ["severe wasting or edema"],
        ["food insecurity", "disease"],
        ["clinical assessment"],
        ["therapeutic feeding", "treat complications"],
    ),
    (
        "E44.0",
        "Moderate Protein-Energy Malnutrition",
        ["moderate wasting"],
        ["inadequate intake"],
        ["anthropometry"],
        ["nutritional supplementation"],
    ),
    (
        "E50.0",
        "Vitamin A Deficiency with Night Blindness",
        ["night blindness", "dry eyes"],
        ["dietary deficiency", "malabsorption"],
        ["serum retinol", "clinical"],
        ["vitamin A supplementation"],
    ),
    (
        "E51.1",
        "Beriberi",
        ["peripheral neuropathy", "heart failure"],
        ["thiamine deficiency", "alcoholism"],
        ["thiamine levels", "clinical"],
        ["thiamine replacement"],
    ),
    (
        "E52",
        "Niacin Deficiency",
        ["dermatitis", "diarrhea", "dementia"],
        ["dietary deficiency", "alcoholism"],
        ["clinical assessment"],
        ["niacin supplementation"],
    ),
    (
        "E53.0",
        "Riboflavin Deficiency",
        ["angular stomatitis", "glossitis", "seborrheic dermatitis"],
        ["dietary deficiency"],
        ["clinical assessment"],
        ["riboflavin supplementation"],
    ),
    (
        "E53.1",
        "Pyridoxine Deficiency",
        ["peripheral neuropathy", "glossitis", "seborrheic dermatitis"],
        ["medications", "dietary deficiency"],
        ["pyridoxal phosphate levels"],
        ["pyridoxine supplementation"],
    ),
    (
        "E54",
        "Ascorbic Acid Deficiency",
        ["easy bruising", "gingival bleeding", "poor wound healing"],
        ["dietary deficiency"],
        ["ascorbic acid levels", "clinical"],
        ["vitamin C supplementation"],
    ),
    (
        "E55.0",
        "Vitamin D Deficiency with Rickets",
        ["bone deformities", "growth retardation"],
        ["low sun exposure", "dietary deficiency"],
        ["25-OH vitamin D", "X-rays"],
        ["vitamin D supplementation", "calcium"],
    ),
    (
        "E55.9",
        "Vitamin D Deficiency",
        ["fatigue", "bone pain", "muscle weakness"],
        ["low sun exposure", "dark skin", "obesity"],
        ["25-OH vitamin D"],
        ["vitamin D supplementation"],
    ),
    (
        "E56.0",
        "Vitamin E Deficiency",
        ["ataxia", "peripheral neuropathy"],
        ["malabsorption"],
        ["vitamin E levels"],
        ["vitamin E supplementation"],
    ),
    (
        "E61.1",
        "Iron Deficiency",
        ["fatigue", "pallor", "pica"],
        ["blood loss", "dietary deficiency", "malabsorption"],
        ["iron studies", "CBC"],
        ["iron supplementation", "treat underlying cause"],
    ),
    (
        "E61.0",
        "Copper Deficiency",
        ["anemia", "neutropenia", "neuropathy"],
        ["zinc excess", "malabsorption", "bariatric surgery"],
        ["serum copper", "ceruloplasmin"],
        ["copper supplementation"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _nutritional:
    NUTRITIONAL_DISORDERS[code] = generate_condition(
        code,
        name,
        "Nutritional Disorders",
        symptoms,
        risks,
        criteria,
        treatment,
        ["severe deficiency states", "organ damage"],
    )


SUBSTANCE_USE_EXTENDED: Dict[str, MedicalCondition] = {}
_substance = [
    (
        "F10.2",
        "Alcohol Dependence",
        ["craving", "tolerance", "withdrawal", "continued use despite harm"],
        ["genetic", "stress", "early exposure"],
        ["DSM-5 criteria", "AUDIT"],
        ["detoxification", "counseling", "medications", "AA"],
    ),
    (
        "F10.3",
        "Alcohol Withdrawal",
        ["tremor", "anxiety", "sweating", "seizures", "DTs"],
        ["heavy alcohol use", "sudden cessation"],
        ["CIWA-Ar scale"],
        ["benzodiazepines", "supportive care", "thiamine"],
    ),
    (
        "F11.2",
        "Opioid Dependence",
        ["craving", "tolerance", "withdrawal"],
        ["chronic pain treatment", "recreational use"],
        ["DSM-5 criteria", "urine drug screen"],
        ["MAT (buprenorphine, methadone)", "counseling"],
    ),
    (
        "F11.3",
        "Opioid Withdrawal",
        ["anxiety", "rhinorrhea", "diarrhea", "muscle aches"],
        ["opioid cessation"],
        ["COWS scale"],
        ["buprenorphine", "clonidine", "supportive care"],
    ),
    (
        "F12.2",
        "Cannabis Dependence",
        ["craving", "tolerance", "withdrawal"],
        ["early use", "genetic"],
        ["DSM-5 criteria"],
        ["counseling", "CBT"],
    ),
    (
        "F13.2",
        "Sedative Dependence",
        ["craving", "tolerance", "withdrawal"],
        ["chronic prescription use"],
        ["DSM-5 criteria"],
        ["slow taper", "substitution", "counseling"],
    ),
    (
        "F14.2",
        "Cocaine Dependence",
        ["craving", "binge use", "crash"],
        ["recreational use"],
        ["DSM-5 criteria", "urine drug screen"],
        ["counseling", "contingency management"],
    ),
    (
        "F15.2",
        "Stimulant Dependence",
        ["craving", "tolerance", "psychosis"],
        ["recreational use", "ADHD treatment"],
        ["DSM-5 criteria"],
        ["counseling", "behavioral therapy"],
    ),
    (
        "F17.21",
        "Nicotine Dependence Cigarettes",
        ["craving", "withdrawal", "continued use"],
        ["early exposure", "social factors"],
        ["Fagerstrom scale"],
        ["NRT", "varenicline", "bupropion", "counseling"],
    ),
    (
        "F19.2",
        "Polysubstance Dependence",
        ["use of multiple substances", "complex withdrawal"],
        ["multiple substance exposure"],
        ["comprehensive assessment"],
        ["integrated treatment approach"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _substance:
    SUBSTANCE_USE_EXTENDED[code] = generate_condition(
        code,
        name,
        "Substance Use Disorders",
        symptoms,
        risks,
        criteria,
        treatment,
        ["overdose", "severe withdrawal", "organ damage"],
    )


IMMUNODEFICIENCY: Dict[str, MedicalCondition] = {}
_immuno = [
    (
        "D80.0",
        "Congenital Hypogammaglobulinemia",
        ["recurrent bacterial infections"],
        ["genetic", "X-linked"],
        ["immunoglobulin levels", "genetic testing"],
        ["IVIG replacement", "infection prophylaxis"],
    ),
    (
        "D80.1",
        "Nonfamilial Hypogammaglobulinemia",
        ["recurrent infections", "adult onset"],
        ["unknown"],
        ["immunoglobulin levels"],
        ["IVIG", "treat infections"],
    ),
    (
        "D81.0",
        "SCID with Reticular Dysgenesis",
        ["severe infections from birth", "failure to thrive"],
        ["genetic"],
        ["lymphocyte counts", "genetic testing"],
        ["HSCT", "isolation", "infection prophylaxis"],
    ),
    (
        "D82.0",
        "Wiskott-Aldrich Syndrome",
        ["eczema", "thrombocytopenia", "recurrent infections"],
        ["WAS gene mutation", "X-linked"],
        ["platelet count", "genetic testing"],
        ["HSCT", "splenectomy", "IVIG"],
    ),
    (
        "D82.1",
        "DiGeorge Syndrome",
        ["cardiac defects", "hypocalcemia", "T-cell deficiency"],
        ["22q11.2 deletion"],
        ["FISH", "T-cell counts", "calcium"],
        ["calcium replacement", "cardiac surgery", "thymus transplant"],
    ),
    (
        "D83.0",
        "Common Variable Immunodeficiency",
        ["recurrent sinopulmonary infections", "autoimmunity"],
        ["genetic factors"],
        ["immunoglobulin levels", "vaccine responses"],
        ["IVIG", "treat infections and complications"],
    ),
    (
        "D84.0",
        "Lymphocyte Function Antigen-1 Deficiency",
        ["recurrent bacterial infections", "poor wound healing"],
        ["genetic"],
        ["flow cytometry", "genetic testing"],
        ["HSCT", "infection treatment"],
    ),
    (
        "B20",
        "HIV Disease",
        ["opportunistic infections", "weight loss", "fever"],
        ["unprotected sex", "IV drug use", "blood products"],
        ["HIV antibody/antigen", "viral load", "CD4 count"],
        ["ART", "OI prophylaxis", "monitoring"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _immuno:
    IMMUNODEFICIENCY[code] = generate_condition(
        code,
        name,
        "Immunodeficiency Disorders",
        symptoms,
        risks,
        criteria,
        treatment,
        ["severe infections", "malignancy"],
    )


# ============================================================================
# ITERATION 21: Burns/Trauma Extended, Poisoning, Complications of Care
# ============================================================================

BURNS_EXTENDED: Dict[str, MedicalCondition] = {}
_burns = [
    (
        "T30.0",
        "Burn Unspecified Degree",
        ["burn injury", "pain", "erythema"],
        ["thermal exposure", "chemical", "electrical"],
        ["burn assessment", "TBSA calculation"],
        ["wound care", "pain management", "fluid resuscitation if severe"],
    ),
    (
        "T31.0",
        "Burns <10% TBSA",
        ["localized burn", "pain"],
        ["thermal exposure"],
        ["TBSA assessment"],
        ["outpatient wound care", "pain management"],
    ),
    (
        "T31.1",
        "Burns 10-19% TBSA",
        ["significant burn", "fluid loss risk"],
        ["thermal exposure"],
        ["TBSA assessment", "vitals"],
        ["IV fluids", "wound care", "burn center referral"],
    ),
    (
        "T31.2",
        "Burns 20-29% TBSA",
        ["major burn", "shock risk"],
        ["thermal exposure"],
        ["TBSA", "hemodynamics"],
        ["burn center", "Parkland formula", "intensive care"],
    ),
    (
        "T20.0",
        "Burn Head and Neck",
        ["facial burns", "airway concern"],
        ["flame", "flash"],
        ["airway assessment", "burn assessment"],
        ["early intubation if needed", "wound care"],
    ),
    (
        "T22.0",
        "Burn Upper Limb",
        ["arm/hand burns", "functional concern"],
        ["thermal exposure"],
        ["burn depth and extent"],
        ["splinting", "wound care", "therapy"],
    ),
    (
        "T24.0",
        "Burn Lower Limb",
        ["leg burns", "mobility concern"],
        ["thermal exposure"],
        ["burn assessment"],
        ["wound care", "elevation", "compression"],
    ),
    (
        "T23.0",
        "Burn Wrist and Hand",
        ["hand burn", "high functional impact"],
        ["thermal exposure"],
        ["burn assessment"],
        ["hand surgery consultation", "splinting", "therapy"],
    ),
    (
        "T32.0",
        "Corrosion <10% TBSA",
        ["chemical burn", "tissue damage"],
        ["chemical exposure"],
        ["extent assessment"],
        ["copious irrigation", "wound care"],
    ),
    (
        "T26.0",
        "Burn Eyelid and Periocular",
        ["periorbital burn", "vision risk"],
        ["flash burn", "chemical"],
        ["ophthalmology exam"],
        ["eye protection", "ophthalmology consultation"],
    ),
    (
        "T28.0",
        "Burn Mouth and Pharynx",
        ["oral burns", "airway edema risk"],
        ["ingestion of hot/caustic substances"],
        ["airway assessment", "endoscopy"],
        ["airway management", "supportive care"],
    ),
    (
        "T27.0",
        "Burn Respiratory Tract",
        ["inhalation injury", "respiratory failure"],
        ["smoke inhalation", "steam"],
        ["bronchoscopy", "ABG"],
        ["oxygen", "intubation", "ventilatory support"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _burns:
    BURNS_EXTENDED[code] = generate_condition(
        code,
        name,
        "Burns and Thermal Injuries",
        symptoms,
        risks,
        criteria,
        treatment,
        ["wound infection", "scarring", "systemic complications"],
    )


POISONING_EXTENDED: Dict[str, MedicalCondition] = {}
_poison = [
    (
        "T39.1",
        "Salicylate Poisoning",
        ["tinnitus", "hyperventilation", "metabolic acidosis"],
        ["accidental", "intentional overdose"],
        ["serum salicylate", "ABG"],
        ["GI decontamination", "alkalization", "hemodialysis"],
    ),
    (
        "T40.1",
        "Heroin Poisoning",
        ["respiratory depression", "miosis", "coma"],
        ["opioid use"],
        ["clinical", "urine drug screen"],
        ["naloxone", "airway support"],
    ),
    (
        "T40.2",
        "Other Opioid Poisoning",
        ["respiratory depression", "altered mental status"],
        ["prescription opioid misuse"],
        ["clinical assessment"],
        ["naloxone", "supportive care"],
    ),
    (
        "T42.4",
        "Benzodiazepine Poisoning",
        ["sedation", "confusion", "respiratory depression"],
        ["accidental", "intentional overdose"],
        ["clinical", "urine drug screen"],
        ["flumazenil (caution)", "supportive care"],
    ),
    (
        "T43.0",
        "TCA Poisoning",
        ["anticholinergic symptoms", "seizures", "arrhythmias"],
        ["overdose"],
        ["ECG", "serum levels"],
        ["sodium bicarbonate", "seizure control", "supportive"],
    ),
    (
        "T44.7",
        "Beta Blocker Poisoning",
        ["bradycardia", "hypotension", "hypoglycemia"],
        ["accidental", "intentional overdose"],
        ["clinical", "blood glucose"],
        ["glucagon", "high-dose insulin euglycemia", "pacing"],
    ),
    (
        "T46.0",
        "Calcium Channel Blocker Poisoning",
        ["bradycardia", "hypotension"],
        ["overdose"],
        ["clinical assessment"],
        ["calcium", "glucagon", "high-dose insulin", "lipid emulsion"],
    ),
    (
        "T51.0",
        "Ethanol Poisoning",
        ["altered mental status", "respiratory depression"],
        ["acute intoxication"],
        ["blood alcohol", "clinical"],
        ["supportive care", "airway protection", "thiamine"],
    ),
    (
        "T51.1",
        "Methanol Poisoning",
        ["visual disturbances", "metabolic acidosis"],
        ["ingestion of contaminated alcohol"],
        ["osmolal gap", "methanol level"],
        ["fomepizole", "hemodialysis", "folate"],
    ),
    (
        "T51.2",
        "Isopropanol Poisoning",
        ["CNS depression", "ketosis without acidosis"],
        ["ingestion"],
        ["osmolal gap", "ketones"],
        ["supportive care", "hemodialysis if severe"],
    ),
    (
        "T52.0",
        "Petroleum Product Poisoning",
        ["aspiration pneumonitis", "CNS depression"],
        ["ingestion of gasoline/kerosene"],
        ["chest X-ray"],
        ["supportive care", "do not induce vomiting"],
    ),
    (
        "T60.0",
        "Organophosphate Poisoning",
        ["SLUDGE symptoms", "respiratory failure", "fasciculations"],
        ["pesticide exposure"],
        ["cholinesterase levels"],
        ["atropine", "pralidoxime", "airway support"],
    ),
    (
        "T65.0",
        "Cyanide Poisoning",
        ["altered mental status", "seizures", "cardiovascular collapse"],
        ["smoke inhalation", "industrial exposure"],
        ["lactate", "venous O2"],
        ["hydroxocobalamin", "supportive care"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _poison:
    POISONING_EXTENDED[code] = generate_condition(
        code,
        name,
        "Poisoning",
        symptoms,
        risks,
        criteria,
        treatment,
        ["organ failure", "death"],
    )


COMPLICATIONS_OF_CARE: Dict[str, MedicalCondition] = {}
_complications = [
    (
        "T80.0",
        "Air Embolism",
        ["sudden dyspnea", "cardiovascular collapse"],
        ["IV access procedures", "surgery"],
        ["clinical", "echocardiography"],
        ["Trendelenburg", "100% oxygen", "hyperbaric if available"],
    ),
    (
        "T80.2",
        "Post-Transfusion Infection",
        ["fever", "symptoms of infection post-transfusion"],
        ["blood transfusion"],
        ["blood cultures", "donor testing"],
        ["antibiotics", "supportive care"],
    ),
    (
        "T81.1",
        "Post-Procedural Shock",
        ["hypotension", "tachycardia", "altered mental status"],
        ["surgery", "invasive procedures"],
        ["clinical", "hemodynamics"],
        ["fluid resuscitation", "vasopressors", "identify cause"],
    ),
    (
        "T81.3",
        "Disruption of Wound",
        ["wound dehiscence", "evisceration"],
        ["surgery", "infection", "malnutrition"],
        ["clinical examination"],
        ["wound coverage", "surgical repair"],
    ),
    (
        "T81.4",
        "Infection Following Procedure",
        ["wound erythema", "drainage", "fever"],
        ["surgery", "contamination"],
        ["wound culture", "clinical"],
        ["antibiotics", "wound care", "debridement"],
    ),
    (
        "T82.5",
        "Cardiac Device Complications",
        ["device malfunction", "infection"],
        ["pacemaker/ICD implant"],
        ["device interrogation", "imaging"],
        ["device revision", "antibiotics if infected"],
    ),
    (
        "T83.5",
        "Urinary Catheter Infection",
        ["dysuria", "fever", "pyuria"],
        ["indwelling catheter"],
        ["urinalysis", "urine culture"],
        ["catheter removal/replacement", "antibiotics"],
    ),
    (
        "T84.0",
        "Mechanical Complication Prosthetic Joint",
        ["pain", "loosening", "instability"],
        ["joint replacement"],
        ["X-ray", "aspiration"],
        ["revision surgery"],
    ),
    (
        "T84.5",
        "Prosthetic Joint Infection",
        ["joint pain", "swelling", "fever"],
        ["joint replacement"],
        ["joint aspiration", "inflammatory markers"],
        ["surgical debridement", "antibiotics", "exchange"],
    ),
    (
        "T85.7",
        "Infection of CNS Device",
        ["fever", "meningeal signs"],
        ["VP shunt", "other CNS devices"],
        ["CSF analysis", "imaging"],
        ["antibiotics", "device removal/revision"],
    ),
    (
        "Y84.8",
        "Other Medical Procedures Causing Abnormal Reaction",
        ["unexpected reaction to care"],
        ["medical procedures"],
        ["clinical assessment"],
        ["supportive care", "address complication"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _complications:
    COMPLICATIONS_OF_CARE[code] = generate_condition(
        code,
        name,
        "Complications of Medical Care",
        symptoms,
        risks,
        criteria,
        treatment,
        ["severe morbidity", "mortality"],
    )


ELECTROLYTE_DISORDERS: Dict[str, MedicalCondition] = {}
_electrolyte = [
    (
        "E87.0",
        "Hyperosmolality and Hypernatremia",
        ["altered mental status", "thirst"],
        ["dehydration", "diabetes insipidus"],
        ["serum sodium >145", "serum osmolality"],
        ["free water replacement", "treat underlying cause"],
    ),
    (
        "E87.1",
        "Hypo-osmolality and Hyponatremia",
        ["confusion", "seizures", "nausea"],
        ["SIADH", "diuretics", "heart failure"],
        ["serum sodium <135", "serum/urine osmolality"],
        ["fluid restriction", "hypertonic saline if severe", "treat cause"],
    ),
    (
        "E87.2",
        "Acidosis",
        ["Kussmaul breathing", "confusion"],
        ["DKA", "renal failure", "sepsis"],
        ["ABG", "anion gap"],
        ["treat underlying cause", "bicarbonate if severe"],
    ),
    (
        "E87.3",
        "Alkalosis",
        ["muscle cramps", "arrhythmias"],
        ["vomiting", "diuretics", "hyperventilation"],
        ["ABG"],
        ["treat underlying cause"],
    ),
    (
        "E87.5",
        "Hyperkalemia",
        ["weakness", "arrhythmias", "cardiac arrest risk"],
        ["renal failure", "medications", "acidosis"],
        ["serum potassium >5.5", "ECG"],
        ["calcium gluconate", "insulin/glucose", "kayexalate", "dialysis"],
    ),
    (
        "E87.6",
        "Hypokalemia",
        ["weakness", "arrhythmias", "paralysis"],
        ["diuretics", "GI losses", "hyperaldosteronism"],
        ["serum potassium <3.5"],
        ["potassium replacement", "treat underlying cause"],
    ),
    (
        "E83.42",
        "Hypercalcemia",
        ["polyuria", "constipation", "confusion", "bone pain"],
        ["malignancy", "hyperparathyroidism"],
        ["serum calcium", "PTH", "PTHrP"],
        ["IV fluids", "bisphosphonates", "treat underlying cause"],
    ),
    (
        "E83.51",
        "Hypocalcemia",
        ["tetany", "perioral numbness", "seizures"],
        ["hypoparathyroidism", "vitamin D deficiency"],
        ["serum calcium", "PTH", "vitamin D"],
        ["IV calcium if severe", "oral calcium/vitamin D"],
    ),
    (
        "E83.40",
        "Disorders of Magnesium Metabolism",
        ["arrhythmias", "weakness", "tremor"],
        ["alcoholism", "diuretics", "malabsorption"],
        ["serum magnesium"],
        ["magnesium replacement"],
    ),
    (
        "E87.7",
        "Fluid Overload",
        ["edema", "dyspnea", "elevated JVP"],
        ["heart failure", "renal failure", "iatrogenic"],
        ["clinical assessment", "BNP"],
        ["diuretics", "fluid restriction", "dialysis if refractory"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _electrolyte:
    ELECTROLYTE_DISORDERS[code] = generate_condition(
        code,
        name,
        "Electrolyte Disorders",
        symptoms,
        risks,
        criteria,
        treatment,
        ["cardiac arrhythmias", "neurological complications"],
    )


# ============================================================================
# ITERATION 22: Fractures Extended, Infections Extended, Pregnancy Extended
# ============================================================================

FRACTURES_EXTENDED: Dict[str, MedicalCondition] = {}
_fractures = [
    (
        "S72.00",
        "Femoral Neck Fracture",
        ["hip pain", "shortened leg", "external rotation"],
        ["osteoporosis", "fall", "elderly"],
        ["X-ray", "MRI if occult"],
        ["surgical fixation", "arthroplasty", "DVT prophylaxis"],
    ),
    (
        "S72.10",
        "Intertrochanteric Fracture",
        ["hip pain", "inability to bear weight"],
        ["osteoporosis", "fall"],
        ["X-ray"],
        ["surgical fixation (IM nail or sliding hip screw)"],
    ),
    (
        "S72.30",
        "Femoral Shaft Fracture",
        ["thigh pain", "deformity", "blood loss"],
        ["high energy trauma"],
        ["X-ray"],
        ["intramedullary nailing", "blood transfusion if needed"],
    ),
    (
        "S82.0",
        "Tibial Plateau Fracture",
        ["knee pain", "hemarthrosis", "inability to bear weight"],
        ["axial loading injury"],
        ["X-ray", "CT"],
        ["ORIF", "external fixation"],
    ),
    (
        "S82.1",
        "Tibial Shaft Fracture",
        ["leg pain", "deformity", "open wound possible"],
        ["trauma"],
        ["X-ray"],
        ["IM nailing", "external fixation"],
    ),
    (
        "S82.5",
        "Distal Fibula Fracture",
        ["ankle pain", "swelling"],
        ["inversion injury"],
        ["X-ray"],
        ["immobilization", "ORIF if displaced/unstable"],
    ),
    (
        "S82.8",
        "Bimalleolar Fracture",
        ["ankle pain", "instability", "deformity"],
        ["rotational ankle injury"],
        ["X-ray", "stress views"],
        ["ORIF"],
    ),
    (
        "S52.5",
        "Distal Radius Fracture",
        ["wrist pain", "deformity", "swelling"],
        ["fall on outstretched hand", "osteoporosis"],
        ["X-ray"],
        ["closed reduction and casting", "ORIF if unstable"],
    ),
    (
        "S52.0",
        "Proximal Ulna Fracture",
        ["elbow pain", "swelling"],
        ["direct trauma", "fall"],
        ["X-ray"],
        ["ORIF", "immobilization"],
    ),
    (
        "S42.2",
        "Proximal Humerus Fracture",
        ["shoulder pain", "inability to move arm"],
        ["fall", "osteoporosis"],
        ["X-ray"],
        ["sling immobilization", "ORIF if displaced"],
    ),
    (
        "S42.3",
        "Humeral Shaft Fracture",
        ["arm pain", "deformity", "radial nerve injury risk"],
        ["trauma"],
        ["X-ray"],
        ["functional bracing", "ORIF"],
    ),
    (
        "S22.3",
        "Rib Fracture",
        ["chest wall pain", "pain with breathing"],
        ["trauma", "coughing"],
        ["X-ray", "CT if multiple"],
        ["analgesia", "incentive spirometry", "rib fixation if flail"],
    ),
    (
        "S32.0",
        "Lumbar Vertebral Fracture",
        ["back pain", "possible neurological deficits"],
        ["trauma", "osteoporosis"],
        ["X-ray", "CT", "MRI"],
        ["bracing", "vertebroplasty", "surgical stabilization"],
    ),
    (
        "S12.0",
        "Cervical Vertebral Fracture",
        ["neck pain", "possible quadriplegia"],
        ["trauma"],
        ["X-ray", "CT"],
        ["immobilization", "surgical stabilization if unstable"],
    ),
    (
        "S92.0",
        "Calcaneal Fracture",
        ["heel pain", "unable to bear weight", "swelling"],
        ["fall from height"],
        ["X-ray", "CT"],
        ["ORIF", "cast immobilization"],
    ),
    (
        "S62.3",
        "Metacarpal Fracture",
        ["hand pain", "swelling", "deformity"],
        ["punch", "crush injury"],
        ["X-ray"],
        ["buddy taping", "casting", "ORIF"],
    ),
    (
        "S62.5",
        "Thumb Fracture",
        ["thumb pain", "swelling", "functional impairment"],
        ["fall", "sports"],
        ["X-ray"],
        ["casting", "ORIF if unstable"],
    ),
    (
        "S02.0",
        "Skull Fracture",
        ["head trauma", "scalp laceration", "CSF leak possible"],
        ["head injury"],
        ["CT head"],
        ["observation", "surgical repair if depressed/compound"],
    ),
    (
        "S02.4",
        "Orbital Floor Fracture",
        ["periorbital ecchymosis", "diplopia", "enophthalmos"],
        ["blunt facial trauma"],
        ["CT orbits"],
        ["observation", "surgical repair if muscle entrapment"],
    ),
    (
        "S02.2",
        "Nasal Bone Fracture",
        ["nasal pain", "deformity", "epistaxis"],
        ["facial trauma"],
        ["clinical", "X-ray"],
        ["closed reduction", "septoplasty if septal hematoma"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _fractures:
    FRACTURES_EXTENDED[code] = generate_condition(
        code,
        name,
        "Fractures",
        symptoms,
        risks,
        criteria,
        treatment,
        ["neurovascular compromise", "compartment syndrome", "nonunion"],
    )


INFECTIONS_SUPPLEMENTAL: Dict[str, MedicalCondition] = {}
_infections_supp = [
    (
        "A04.7",
        "Clostridioides difficile Colitis",
        ["watery diarrhea", "abdominal pain", "fever"],
        ["antibiotics", "hospitalization", "PPI use"],
        ["stool C. diff toxin/PCR"],
        ["vancomycin PO", "fidaxomicin", "FMT if recurrent"],
    ),
    (
        "A49.0",
        "Staphylococcal Infection",
        ["localized infection", "systemic symptoms possible"],
        ["skin breaks", "IV drug use", "healthcare exposure"],
        ["culture"],
        ["antibiotics based on sensitivity"],
    ),
    (
        "A49.1",
        "Streptococcal Infection",
        ["pharyngitis", "cellulitis", "toxic shock"],
        ["crowding", "skin trauma"],
        ["rapid strep", "culture"],
        ["penicillin", "cephalosporins"],
    ),
    (
        "B00.1",
        "Herpes Labialis",
        ["cold sores", "prodromal tingling"],
        ["stress", "sun exposure", "immunosuppression"],
        ["clinical"],
        ["topical/oral antivirals"],
    ),
    (
        "B00.2",
        "Herpes Gingivostomatitis",
        ["oral ulcers", "fever", "lymphadenopathy"],
        ["primary HSV infection"],
        ["clinical", "viral culture/PCR"],
        ["oral antivirals", "supportive care"],
    ),
    (
        "B02.9",
        "Herpes Zoster",
        ["vesicular rash in dermatomal pattern", "pain"],
        ["prior varicella", "age", "immunosuppression"],
        ["clinical"],
        ["antivirals within 72h", "pain management"],
    ),
    (
        "B02.2",
        "Zoster with Neurological Complications",
        ["rash with myelitis", "encephalitis", "cranial nerve involvement"],
        ["immunosuppression"],
        ["clinical", "CSF analysis"],
        ["IV acyclovir", "supportive care"],
    ),
    (
        "B34.9",
        "Viral Infection Unspecified",
        ["fever", "malaise", "upper respiratory symptoms"],
        ["exposure"],
        ["clinical"],
        ["supportive care"],
    ),
    (
        "B95.0",
        "Streptococcus Group A as Cause",
        ["identifies pathogen in other conditions"],
        ["invasive GAS infection"],
        ["culture"],
        ["appropriate antibiotic therapy"],
    ),
    (
        "J02.0",
        "Streptococcal Pharyngitis",
        ["sore throat", "fever", "tonsillar exudates"],
        ["exposure", "school-age children"],
        ["rapid strep", "throat culture"],
        ["penicillin", "amoxicillin"],
    ),
    (
        "J03.0",
        "Streptococcal Tonsillitis",
        ["severe sore throat", "dysphagia", "fever"],
        ["bacterial infection"],
        ["clinical", "rapid strep"],
        ["antibiotics", "tonsillectomy if recurrent"],
    ),
    (
        "L03.1",
        "Cellulitis of Upper Limb",
        ["erythema", "warmth", "swelling", "pain"],
        ["skin break", "lymphedema"],
        ["clinical"],
        ["antibiotics", "elevation", "treat entry site"],
    ),
    (
        "L03.11",
        "Cellulitis of Lower Limb",
        ["leg erythema", "warmth", "swelling"],
        ["edema", "skin breaks", "venous insufficiency"],
        ["clinical"],
        ["antibiotics", "compression", "elevation"],
    ),
    (
        "N10",
        "Acute Pyelonephritis",
        ["flank pain", "fever", "dysuria"],
        ["urinary obstruction", "diabetes", "female sex"],
        ["urinalysis", "urine culture", "imaging"],
        ["antibiotics", "hydration", "urology referral if complicated"],
    ),
    (
        "N30.0",
        "Acute Cystitis",
        ["dysuria", "frequency", "urgency", "suprapubic pain"],
        ["female sex", "sexual activity", "urinary stasis"],
        ["urinalysis", "urine culture"],
        ["antibiotics"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _infections_supp:
    INFECTIONS_SUPPLEMENTAL[code] = generate_condition(
        code,
        name,
        "Infectious Diseases",
        symptoms,
        risks,
        criteria,
        treatment,
        ["sepsis", "spread of infection"],
    )


PREGNANCY_EXTENDED: Dict[str, MedicalCondition] = {}
_preg = [
    (
        "O10.0",
        "Pre-existing Hypertension",
        ["elevated BP before 20 weeks", "chronic hypertension"],
        ["chronic hypertension"],
        ["BP monitoring", "baseline labs"],
        ["antihypertensives safe in pregnancy", "close monitoring"],
    ),
    (
        "O14.0",
        "Mild Preeclampsia",
        ["hypertension after 20 weeks", "proteinuria"],
        ["first pregnancy", "obesity", "multiple gestation"],
        ["BP", "urine protein", "labs"],
        ["close monitoring", "delivery at term"],
    ),
    (
        "O14.1",
        "Severe Preeclampsia",
        ["severe hypertension", "symptoms", "lab abnormalities"],
        ["preeclampsia risk factors"],
        ["BP >160/110", "proteinuria", "end-organ dysfunction"],
        ["magnesium sulfate", "antihypertensives", "delivery"],
    ),
    (
        "O15.0",
        "Eclampsia",
        ["seizures in preeclampsia", "hypertensive emergency"],
        ["severe preeclampsia"],
        ["clinical", "seizure occurrence"],
        ["magnesium sulfate", "airway management", "delivery"],
    ),
    (
        "O24.4",
        "Gestational Diabetes",
        ["hyperglycemia in pregnancy", "often asymptomatic"],
        ["obesity", "family history", "prior GDM"],
        ["glucose tolerance test"],
        ["diet", "exercise", "insulin if needed"],
    ),
    (
        "O36.4",
        "Maternal Care for Intrauterine Death",
        ["absent fetal movement", "pregnancy loss"],
        ["various causes"],
        ["absent fetal heart tones", "ultrasound"],
        ["delivery", "bereavement support", "workup for cause"],
    ),
    (
        "O42.9",
        "Premature Rupture of Membranes",
        ["fluid leakage", "preterm if <37 weeks"],
        ["infection", "prior PROM", "cervical incompetence"],
        ["sterile speculum exam", "amniotic fluid tests"],
        ["antibiotics", "corticosteroids if preterm", "delivery timing"],
    ),
    (
        "O44.0",
        "Placenta Previa Without Hemorrhage",
        ["asymptomatic", "discovered on ultrasound"],
        ["prior cesarean", "multiple gestation"],
        ["ultrasound"],
        ["pelvic rest", "cesarean delivery"],
    ),
    (
        "O44.1",
        "Placenta Previa With Hemorrhage",
        ["painless vaginal bleeding", "third trimester"],
        ["placenta previa"],
        ["ultrasound"],
        ["hospitalization", "transfusion if needed", "cesarean"],
    ),
    (
        "O45.9",
        "Placental Abruption",
        ["painful vaginal bleeding", "uterine tenderness", "fetal distress"],
        ["hypertension", "trauma", "cocaine"],
        ["clinical", "ultrasound"],
        ["delivery (emergent if severe)", "transfusion"],
    ),
    (
        "O60.1",
        "Preterm Labor",
        ["regular contractions <37 weeks", "cervical change"],
        ["prior preterm birth", "infection", "multiple gestation"],
        ["cervical exam", "fetal fibronectin"],
        ["tocolytics", "corticosteroids", "magnesium for neuroprotection"],
    ),
    (
        "O72.0",
        "Third Stage Hemorrhage",
        ["postpartum bleeding", "retained placenta"],
        ["prolonged labor", "prior PPH"],
        ["blood loss estimation"],
        ["uterine massage", "uterotonics", "manual removal", "surgery"],
    ),
    (
        "O72.1",
        "Other Immediate Postpartum Hemorrhage",
        ["excessive bleeding after delivery", "uterine atony"],
        ["overdistended uterus", "prolonged labor"],
        ["clinical assessment"],
        ["uterotonics", "bimanual compression", "transfusion", "surgery"],
    ),
    (
        "O86.0",
        "Puerperal Sepsis",
        ["fever", "uterine tenderness", "foul lochia"],
        ["cesarean", "prolonged rupture of membranes"],
        ["clinical", "cultures"],
        ["broad spectrum antibiotics", "supportive care"],
    ),
    (
        "O99.0",
        "Anemia Complicating Pregnancy",
        ["fatigue", "pallor", "dyspnea"],
        ["inadequate iron intake", "blood loss"],
        ["CBC", "iron studies"],
        ["iron supplementation", "transfusion if severe"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _preg:
    PREGNANCY_EXTENDED[code] = generate_condition(
        code,
        name,
        "Pregnancy Conditions",
        symptoms,
        risks,
        criteria,
        treatment,
        ["maternal-fetal morbidity", "mortality"],
    )


# ============================================================================
# ITERATION 23: Vascular Extended, GI Extended, Respiratory Extended
# ============================================================================

VASCULAR_EXTENDED: Dict[str, MedicalCondition] = {}
_vascular = [
    (
        "I70.0",
        "Atherosclerosis of Aorta",
        ["often asymptomatic", "abdominal bruit"],
        ["hyperlipidemia", "smoking", "diabetes"],
        ["CT angiography", "ultrasound"],
        ["risk factor modification", "statin therapy", "surgery if aneurysmal"],
    ),
    (
        "I70.2",
        "Atherosclerosis of Arteries of Extremities",
        ["intermittent claudication", "rest pain", "gangrene"],
        ["smoking", "diabetes", "hyperlipidemia"],
        ["ABI", "angiography"],
        ["risk factor modification", "cilostazol", "revascularization"],
    ),
    (
        "I73.0",
        "Raynaud Syndrome",
        ["digital color changes", "cold sensitivity", "pain"],
        ["female sex", "connective tissue disease"],
        ["clinical", "nailfold capillaroscopy"],
        ["cold avoidance", "CCBs", "treat underlying disease"],
    ),
    (
        "I73.1",
        "Thromboangiitis Obliterans",
        ["digital ischemia", "claudication", "ulceration"],
        ["smoking", "young male"],
        ["angiography", "clinical criteria"],
        ["smoking cessation", "wound care", "amputation if needed"],
    ),
    (
        "I77.1",
        "Arterial Stricture",
        ["limb ischemia", "claudication"],
        ["atherosclerosis", "prior surgery"],
        ["angiography"],
        ["revascularization"],
    ),
    (
        "I77.3",
        "Arterial Fibromuscular Dysplasia",
        ["hypertension", "string of beads on angiography"],
        ["female sex", "young/middle age"],
        ["CTA/MRA"],
        ["angioplasty", "BP control"],
    ),
    (
        "I77.4",
        "Celiac Artery Compression Syndrome",
        ["postprandial pain", "weight loss", "nausea"],
        ["median arcuate ligament compression"],
        ["duplex ultrasound", "CTA"],
        ["surgical decompression"],
    ),
    (
        "I80.0",
        "Phlebitis Superficial Veins Lower Extremity",
        ["painful cord", "erythema along vein"],
        ["varicose veins", "IV catheter"],
        ["clinical", "duplex to exclude DVT"],
        ["NSAIDs", "compression", "anticoagulation if extensive"],
    ),
    (
        "I80.1",
        "Phlebitis Deep Veins Lower Extremity",
        ["leg swelling", "pain", "warmth"],
        ["immobility", "surgery", "malignancy"],
        ["duplex ultrasound"],
        ["anticoagulation"],
    ),
    (
        "I82.4",
        "Acute DVT Femoral Vein",
        ["leg swelling", "pain"],
        ["risk factors for VTE"],
        ["duplex ultrasound"],
        ["anticoagulation", "thrombolysis if massive"],
    ),
    (
        "I82.6",
        "Acute DVT Iliac Vein",
        ["severe leg swelling", "phlegmasia"],
        ["May-Thurner", "pregnancy"],
        ["duplex", "CT venography"],
        ["anticoagulation", "interventional therapy"],
    ),
    (
        "I83.0",
        "Varicose Veins with Ulcer",
        ["leg ulcer", "aching", "skin changes"],
        ["venous insufficiency", "standing occupation"],
        ["duplex ultrasound"],
        ["compression", "ablation", "wound care"],
    ),
    (
        "I83.2",
        "Varicose Veins with Inflammation",
        ["painful varicosities", "phlebitis"],
        ["varicose veins"],
        ["clinical", "duplex"],
        ["NSAIDs", "compression", "consider ablation"],
    ),
    (
        "I87.0",
        "Post-Thrombotic Syndrome",
        ["chronic leg swelling", "pain", "ulceration"],
        ["prior DVT"],
        ["clinical scoring", "duplex"],
        ["compression", "wound care", "consider venous intervention"],
    ),
    (
        "I87.2",
        "Venous Insufficiency Chronic",
        ["leg heaviness", "edema", "skin changes"],
        ["prior DVT", "standing occupation", "obesity"],
        ["duplex ultrasound"],
        ["compression therapy", "leg elevation", "ablation"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _vascular:
    VASCULAR_EXTENDED[code] = generate_condition(
        code,
        name,
        "Vascular Disorders",
        symptoms,
        risks,
        criteria,
        treatment,
        ["limb loss", "PE", "chronic disability"],
    )


GI_SUPPLEMENTAL: Dict[str, MedicalCondition] = {}
_gi_supp = [
    (
        "K20.9",
        "Esophagitis",
        ["dysphagia", "odynophagia", "heartburn"],
        ["GERD", "medications", "infection"],
        ["endoscopy"],
        ["PPI", "treat underlying cause"],
    ),
    (
        "K22.0",
        "Achalasia",
        ["dysphagia solids and liquids", "regurgitation", "weight loss"],
        ["unknown", "autoimmune association"],
        ["manometry", "barium swallow", "endoscopy"],
        ["pneumatic dilation", "Heller myotomy", "POEM"],
    ),
    (
        "K22.1",
        "Esophageal Ulcer",
        ["odynophagia", "chest pain"],
        ["GERD", "medications", "infection"],
        ["endoscopy"],
        ["PPI", "treat cause"],
    ),
    (
        "K25.4",
        "Chronic Gastric Ulcer with Hemorrhage",
        ["GI bleeding", "epigastric pain"],
        ["H. pylori", "NSAIDs"],
        ["endoscopy"],
        ["endoscopic hemostasis", "PPI", "H. pylori treatment"],
    ),
    (
        "K26.4",
        "Chronic Duodenal Ulcer with Hemorrhage",
        ["melena", "epigastric pain"],
        ["H. pylori", "NSAIDs"],
        ["endoscopy"],
        ["endoscopic treatment", "PPI", "H. pylori eradication"],
    ),
    (
        "K27.9",
        "Peptic Ulcer Unspecified",
        ["epigastric pain", "bloating", "nausea"],
        ["H. pylori", "NSAIDs"],
        ["endoscopy", "H. pylori testing"],
        ["PPI", "H. pylori treatment if positive"],
    ),
    (
        "K29.0",
        "Acute Hemorrhagic Gastritis",
        ["epigastric pain", "nausea", "hematemesis"],
        ["NSAIDs", "alcohol", "stress"],
        ["endoscopy"],
        ["PPI", "remove offending agent"],
    ),
    (
        "K29.5",
        "Chronic Atrophic Gastritis",
        ["often asymptomatic", "B12 deficiency"],
        ["H. pylori", "autoimmune"],
        ["endoscopy with biopsy"],
        ["B12 supplementation", "surveillance for malignancy"],
    ),
    (
        "K31.0",
        "Acute Gastric Dilation",
        ["abdominal distension", "vomiting"],
        ["postoperative", "eating disorders"],
        ["X-ray"],
        ["NG decompression", "NPO"],
    ),
    (
        "K55.0",
        "Acute Vascular Disorders of Intestine",
        ["severe abdominal pain", "bloody stool"],
        ["atrial fibrillation", "atherosclerosis"],
        ["CT angiography"],
        ["anticoagulation", "revascularization", "bowel resection"],
    ),
    (
        "K55.1",
        "Chronic Vascular Disorders of Intestine",
        ["postprandial pain", "food fear", "weight loss"],
        ["atherosclerosis"],
        ["CT angiography", "duplex"],
        ["revascularization"],
    ),
    (
        "K56.0",
        "Paralytic Ileus",
        ["abdominal distension", "vomiting", "no bowel sounds"],
        ["postoperative", "electrolytes", "medications"],
        ["X-ray", "clinical"],
        ["bowel rest", "NG tube", "correct underlying cause"],
    ),
    (
        "K56.5",
        "Intestinal Adhesions with Obstruction",
        ["colicky pain", "vomiting", "constipation"],
        ["prior surgery"],
        ["CT"],
        ["NGT decompression", "surgery if complete/strangulated"],
    ),
    (
        "K57.3",
        "Diverticulitis of Large Intestine Without Perforation",
        ["LLQ pain", "fever", "constipation"],
        ["low fiber diet", "age"],
        ["CT abdomen"],
        ["antibiotics", "bowel rest", "outpatient if uncomplicated"],
    ),
    (
        "K57.8",
        "Diverticulitis with Perforation",
        ["peritonitis", "sepsis"],
        ["diverticular disease"],
        ["CT"],
        ["surgery", "antibiotics", "resuscitation"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _gi_supp:
    GI_SUPPLEMENTAL[code] = generate_condition(
        code,
        name,
        "Gastrointestinal Disorders",
        symptoms,
        risks,
        criteria,
        treatment,
        ["perforation", "bleeding", "obstruction"],
    )


RESPIRATORY_SUPPLEMENTAL: Dict[str, MedicalCondition] = {}
_resp_supp = [
    (
        "J10.0",
        "Influenza with Pneumonia",
        ["fever", "cough", "dyspnea", "myalgia"],
        ["unvaccinated", "immunocompromised", "elderly"],
        ["flu testing", "chest X-ray"],
        ["antivirals", "supportive care", "antibiotics if bacterial superinfection"],
    ),
    (
        "J11.0",
        "Influenza Unidentified Virus with Pneumonia",
        ["fever", "respiratory symptoms"],
        ["seasonal exposure"],
        ["clinical", "imaging"],
        ["antivirals", "supportive care"],
    ),
    (
        "J12.8",
        "Other Viral Pneumonia",
        ["cough", "fever", "hypoxia"],
        ["viral exposure"],
        ["chest X-ray", "viral panels"],
        ["supportive care", "antivirals if available"],
    ),
    (
        "J15.0",
        "Klebsiella Pneumonia",
        ["productive cough", "currant jelly sputum", "cavitation"],
        ["alcoholism", "diabetes"],
        ["chest X-ray", "sputum culture"],
        ["antibiotics"],
    ),
    (
        "J15.1",
        "Pseudomonas Pneumonia",
        ["severe pneumonia", "often nosocomial"],
        ["ventilator", "immunocompromised"],
        ["chest X-ray", "sputum culture"],
        ["antipseudomonal antibiotics"],
    ),
    (
        "J15.2",
        "Staphylococcal Pneumonia",
        ["rapid progression", "cavitation", "empyema"],
        ["post-influenza", "IV drug use"],
        ["chest X-ray", "culture"],
        ["anti-staphylococcal antibiotics"],
    ),
    (
        "J16.0",
        "Chlamydial Pneumonia",
        ["atypical pneumonia", "sore throat", "hoarseness"],
        ["exposure"],
        ["serology", "PCR"],
        ["macrolide or doxycycline"],
    ),
    (
        "J17",
        "Pneumonia in Diseases Classified Elsewhere",
        ["pneumonia secondary to other condition"],
        ["underlying disease"],
        ["imaging", "clinical context"],
        ["treat underlying condition and pneumonia"],
    ),
    (
        "J20.9",
        "Acute Bronchitis",
        ["cough", "sputum production", "low-grade fever"],
        ["viral infection"],
        ["clinical"],
        ["supportive care", "no routine antibiotics"],
    ),
    (
        "J21.0",
        "RSV Bronchiolitis",
        ["wheezing", "tachypnea", "feeding difficulty"],
        ["infants", "winter season"],
        ["clinical", "RSV testing"],
        ["supportive care", "oxygen if hypoxic"],
    ),
    (
        "J38.0",
        "Paralysis of Vocal Cords",
        ["hoarseness", "aspiration", "breathy voice"],
        ["surgery", "malignancy", "idiopathic"],
        ["laryngoscopy"],
        ["speech therapy", "medialization"],
    ),
    (
        "J39.0",
        "Retropharyngeal Abscess",
        ["fever", "neck stiffness", "dysphagia", "drooling"],
        ["pharyngeal infection", "trauma"],
        ["CT neck"],
        ["IV antibiotics", "surgical drainage"],
    ),
    (
        "J84.1",
        "Idiopathic Pulmonary Fibrosis",
        ["progressive dyspnea", "dry cough", "velcro crackles"],
        ["smoking", "age", "male sex"],
        ["HRCT", "PFTs", "lung biopsy"],
        ["antifibrotic therapy", "oxygen", "transplant evaluation"],
    ),
    (
        "J93.0",
        "Spontaneous Tension Pneumothorax",
        ["sudden dyspnea", "chest pain", "hypotension"],
        ["tall thin male", "COPD", "trauma"],
        ["chest X-ray", "clinical"],
        ["needle decompression", "chest tube"],
    ),
    (
        "J96.0",
        "Acute Respiratory Failure",
        ["hypoxemia", "hypercapnia", "dyspnea"],
        ["COPD", "ARDS", "neuromuscular disease"],
        ["ABG", "clinical"],
        ["oxygen", "NIV or intubation", "treat underlying cause"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _resp_supp:
    RESPIRATORY_SUPPLEMENTAL[code] = generate_condition(
        code,
        name,
        "Respiratory Disorders",
        symptoms,
        risks,
        criteria,
        treatment,
        ["respiratory failure", "death"],
    )


NEUROLOGICAL_SUPPLEMENTAL: Dict[str, MedicalCondition] = {}
_neuro_supp = [
    (
        "G00.9",
        "Bacterial Meningitis Unspecified",
        ["fever", "headache", "neck stiffness", "altered mental status"],
        ["exposure", "immunocompromised"],
        ["lumbar puncture", "CSF analysis"],
        ["empiric antibiotics", "dexamethasone"],
    ),
    (
        "G02",
        "Meningitis in Other Infectious Diseases",
        ["meningeal symptoms in context of other infection"],
        ["underlying infection"],
        ["CSF analysis"],
        ["treat underlying infection"],
    ),
    (
        "G03.9",
        "Meningitis Unspecified",
        ["meningeal symptoms", "fever"],
        ["various causes"],
        ["lumbar puncture"],
        ["empiric treatment pending cultures"],
    ),
    (
        "G04.9",
        "Encephalitis Unspecified",
        ["altered mental status", "fever", "seizures"],
        ["viral infection", "autoimmune"],
        ["MRI", "EEG", "CSF"],
        ["acyclovir empirically", "supportive care"],
    ),
    (
        "G06.0",
        "Intracranial Abscess",
        ["headache", "fever", "focal deficits"],
        ["sinusitis", "otitis", "hematogenous spread"],
        ["MRI/CT with contrast"],
        ["antibiotics", "surgical drainage"],
    ),
    (
        "G09",
        "Sequelae of Inflammatory CNS Diseases",
        ["residual deficits from prior CNS infection"],
        ["prior meningitis/encephalitis"],
        ["clinical history"],
        ["rehabilitation", "symptom management"],
    ),
    (
        "G20.A1",
        "Parkinson Disease Without Dyskinesia",
        ["tremor", "rigidity", "bradykinesia"],
        ["age", "genetic factors"],
        ["clinical criteria"],
        ["levodopa", "dopamine agonists", "MAO-B inhibitors"],
    ),
    (
        "G20.A2",
        "Parkinson Disease With Dyskinesia",
        ["fluctuations", "dyskinesias", "wearing off"],
        ["long-term levodopa use"],
        ["clinical observation"],
        ["medication adjustment", "DBS consideration"],
    ),
    (
        "G25.0",
        "Essential Tremor",
        ["action tremor", "family history", "alcohol responsive"],
        ["genetic", "age"],
        ["clinical criteria"],
        ["propranolol", "primidone", "DBS"],
    ),
    (
        "G25.5",
        "Other Chorea",
        ["involuntary movements", "dance-like"],
        ["Huntington", "medications", "autoimmune"],
        ["genetic testing", "antibodies"],
        ["treat underlying cause", "tetrabenazine"],
    ),
    (
        "G40.0",
        "Focal Epilepsy",
        ["focal seizures with or without awareness"],
        ["structural lesion", "genetics"],
        ["EEG", "MRI"],
        ["antiseizure medications"],
    ),
    (
        "G40.3",
        "Generalized Epilepsy",
        ["generalized tonic-clonic seizures"],
        ["genetic", "idiopathic"],
        ["EEG", "MRI"],
        ["valproate", "lamotrigine", "levetiracetam"],
    ),
    (
        "G40.5",
        "Special Epileptic Syndromes",
        ["specific syndromes like Lennox-Gastaut"],
        ["genetic", "developmental"],
        ["EEG patterns", "clinical"],
        ["multimodal treatment"],
    ),
    (
        "G43.0",
        "Migraine Without Aura",
        ["unilateral headache", "nausea", "photophobia"],
        ["female sex", "family history"],
        ["clinical criteria"],
        ["acute: triptans, NSAIDs; preventive: various options"],
    ),
    (
        "G43.1",
        "Migraine With Aura",
        ["visual or sensory aura preceding headache"],
        ["same as migraine"],
        ["clinical criteria"],
        ["same treatment plus avoid estrogen if aura"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _neuro_supp:
    NEUROLOGICAL_SUPPLEMENTAL[code] = generate_condition(
        code,
        name,
        "Neurological Disorders",
        symptoms,
        risks,
        criteria,
        treatment,
        ["permanent neurological damage", "death"],
    )


# ============================================================================
# ITERATION 24: CARDIAC ARRHYTHMIAS, LIVER DISORDERS, KIDNEY DISORDERS, MUSCULOSKELETAL PAIN
# ============================================================================

CARDIAC_ARRHYTHMIAS: Dict[str, MedicalCondition] = {}

_cardiac_arr = [
    (
        "I47.0",
        "Re-entry Ventricular Arrhythmia",
        ["palpitations", "syncope", "sudden death risk"],
        ["structural heart disease", "ischemia"],
        ["ECG", "electrophysiology study"],
        ["antiarrhythmics", "ablation", "ICD"],
    ),
    (
        "I47.10",
        "Supraventricular Tachycardia Unspecified",
        ["rapid regular pulse", "palpitations"],
        ["stress", "caffeine", "structural heart disease"],
        ["ECG during episode"],
        ["vagal maneuvers", "adenosine", "ablation"],
    ),
    (
        "I47.11",
        "Inappropriate Sinus Tachycardia",
        ["heart rate >100 at rest", "palpitations"],
        ["female sex", "dysautonomia"],
        ["exclusion of other causes"],
        ["beta blockers", "ivabradine"],
    ),
    (
        "I47.19",
        "Other Supraventricular Tachycardia",
        ["AVNRT", "AVRT", "atrial tachycardia"],
        ["accessory pathways", "structural heart disease"],
        ["ECG", "EP study"],
        ["ablation", "antiarrhythmics"],
    ),
    (
        "I47.20",
        "Ventricular Tachycardia Unspecified",
        ["wide complex tachycardia", "hemodynamic instability"],
        ["ischemia", "cardiomyopathy"],
        ["ECG", "imaging"],
        ["cardioversion", "antiarrhythmics", "ICD"],
    ),
    (
        "I47.21",
        "Torsades de Pointes",
        ["polymorphic VT", "long QT"],
        ["medications", "electrolyte abnormalities"],
        ["ECG showing TdP"],
        ["magnesium", "correct underlying cause", "pacing"],
    ),
    (
        "I47.29",
        "Other Ventricular Tachycardia",
        ["monomorphic VT", "specific VT types"],
        ["structural heart disease"],
        ["EP study"],
        ["ablation", "ICD"],
    ),
    (
        "I48.0",
        "Paroxysmal Atrial Fibrillation",
        ["intermittent irregular pulse", "palpitations"],
        ["hypertension", "age", "alcohol"],
        ["ECG or monitor during episode"],
        ["rate control", "rhythm control", "anticoagulation"],
    ),
    (
        "I48.11",
        "Longstanding Persistent AFib",
        ["AFib > 1 year", "failed cardioversion"],
        ["structural remodeling"],
        ["clinical history", "ECG"],
        ["rate control", "anticoagulation"],
    ),
    (
        "I48.19",
        "Other Persistent AFib",
        ["continuous AFib <1 year"],
        ["underlying heart disease"],
        ["ECG"],
        ["rhythm or rate control", "anticoagulation"],
    ),
    (
        "I48.20",
        "Chronic Atrial Fibrillation Unspecified",
        ["permanent AFib accepted"],
        ["long duration"],
        ["ECG"],
        ["rate control", "anticoagulation"],
    ),
    (
        "I48.3",
        "Typical Atrial Flutter",
        ["sawtooth pattern", "regular pulse ~150"],
        ["similar to AFib"],
        ["ECG"],
        ["ablation curative", "anticoagulation"],
    ),
    (
        "I48.4",
        "Atypical Atrial Flutter",
        ["atypical flutter patterns"],
        ["prior ablation", "surgery"],
        ["EP study"],
        ["ablation"],
    ),
    (
        "I49.01",
        "Ventricular Fibrillation",
        ["cardiac arrest", "no pulse"],
        ["MI", "cardiomyopathy"],
        ["monitor/ECG showing VF"],
        ["defibrillation", "CPR", "ICD"],
    ),
    (
        "I49.02",
        "Ventricular Flutter",
        ["rapid regular ventricular rhythm", "unstable"],
        ["similar to VF"],
        ["ECG"],
        ["defibrillation"],
    ),
    (
        "I49.1",
        "Atrial Premature Depolarization",
        ["PACs", "skipped beats"],
        ["caffeine", "stress"],
        ["ECG"],
        ["reassurance", "beta blockers if symptomatic"],
    ),
    (
        "I49.3",
        "Ventricular Premature Depolarization",
        ["PVCs", "palpitations"],
        ["caffeine", "structural heart disease"],
        ["ECG", "Holter"],
        ["reassurance", "beta blockers", "ablation if frequent"],
    ),
    (
        "I49.5",
        "Sick Sinus Syndrome",
        ["bradycardia", "tachy-brady", "pauses"],
        ["age", "fibrosis"],
        ["ECG", "Holter"],
        ["pacemaker"],
    ),
    (
        "I44.0",
        "Atrioventricular Block First Degree",
        ["prolonged PR interval"],
        ["medications", "fibrosis"],
        ["ECG"],
        ["usually none", "monitor"],
    ),
    (
        "I44.1",
        "Atrioventricular Block Second Degree",
        ["Mobitz I or II", "dropped beats"],
        ["ischemia", "medications"],
        ["ECG"],
        ["Mobitz II requires pacing"],
    ),
    (
        "I44.2",
        "Atrioventricular Block Complete",
        ["complete heart block", "escape rhythm"],
        ["MI", "fibrosis", "congenital"],
        ["ECG"],
        ["pacemaker"],
    ),
    (
        "I45.10",
        "Right Bundle Branch Block Unspecified",
        ["RSR pattern in V1"],
        ["may be normal", "pulmonary disease"],
        ["ECG"],
        ["treat underlying cause"],
    ),
    (
        "I45.2",
        "Bifascicular Block",
        ["RBBB with left hemiblock"],
        ["conduction system disease"],
        ["ECG"],
        ["monitor for progression"],
    ),
    (
        "I45.3",
        "Trifascicular Block",
        ["bifascicular with first degree block"],
        ["conduction disease"],
        ["ECG"],
        ["pacemaker consideration"],
    ),
    (
        "I45.5",
        "Other Specified Heart Block",
        ["various conduction abnormalities"],
        ["variable"],
        ["ECG"],
        ["depends on type"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _cardiac_arr:
    CARDIAC_ARRHYTHMIAS[code] = generate_condition(
        code,
        name,
        "Cardiac Arrhythmias",
        symptoms,
        risks,
        criteria,
        treatment,
        ["sudden cardiac death", "stroke", "heart failure"],
    )


LIVER_DISORDERS: Dict[str, MedicalCondition] = {}

_liver = [
    (
        "K70.0",
        "Alcoholic Fatty Liver",
        ["hepatomegaly", "elevated transaminases"],
        ["alcohol use"],
        ["ultrasound", "history"],
        ["alcohol cessation"],
    ),
    (
        "K70.10",
        "Alcoholic Hepatitis Unspecified",
        ["jaundice", "fever", "hepatomegaly"],
        ["heavy alcohol use"],
        ["Maddrey score", "labs"],
        ["alcohol cessation", "corticosteroids if severe"],
    ),
    (
        "K70.2",
        "Alcoholic Fibrosis and Sclerosis",
        ["progression from steatosis"],
        ["continued alcohol use"],
        ["FibroScan", "biopsy"],
        ["alcohol cessation"],
    ),
    (
        "K70.30",
        "Alcoholic Cirrhosis Without Ascites",
        ["portal hypertension signs", "no ascites"],
        ["chronic alcohol"],
        ["imaging", "labs"],
        ["alcohol cessation", "complication management"],
    ),
    (
        "K70.31",
        "Alcoholic Cirrhosis With Ascites",
        ["ascites", "edema"],
        ["advanced liver disease"],
        ["paracentesis", "imaging"],
        ["diuretics", "sodium restriction", "transplant evaluation"],
    ),
    (
        "K70.40",
        "Alcoholic Hepatic Failure Without Coma",
        ["coagulopathy", "jaundice"],
        ["acute on chronic liver disease"],
        ["INR", "bilirubin"],
        ["supportive care", "transplant evaluation"],
    ),
    (
        "K70.41",
        "Alcoholic Hepatic Failure With Coma",
        ["hepatic encephalopathy", "coma"],
        ["severe liver failure"],
        ["clinical", "ammonia"],
        ["lactulose", "rifaximin", "transplant"],
    ),
    (
        "K75.4",
        "Autoimmune Hepatitis",
        ["fatigue", "jaundice", "elevated transaminases"],
        ["female sex", "other autoimmune diseases"],
        ["autoantibodies", "IgG", "biopsy"],
        ["corticosteroids", "azathioprine"],
    ),
    (
        "K74.60",
        "Unspecified Cirrhosis of Liver",
        ["stigmata of liver disease", "portal hypertension"],
        ["various etiologies"],
        ["imaging", "labs"],
        ["treat underlying cause", "manage complications"],
    ),
    (
        "K74.69",
        "Other Cirrhosis of Liver",
        ["biliary or cryptogenic cirrhosis"],
        ["various"],
        ["workup for etiology"],
        ["etiology-specific treatment"],
    ),
    (
        "K76.0",
        "Fatty Liver Not Elsewhere Classified",
        ["hepatomegaly", "elevated ALT"],
        ["obesity", "metabolic syndrome"],
        ["ultrasound showing steatosis"],
        ["weight loss", "lifestyle modification"],
    ),
    (
        "K76.1",
        "Chronic Passive Congestion of Liver",
        ["hepatomegaly", "RUQ discomfort"],
        ["right heart failure"],
        ["imaging", "cardiac workup"],
        ["treat heart failure"],
    ),
    (
        "K76.2",
        "Central Hemorrhagic Necrosis of Liver",
        ["shock liver", "massive AST/ALT elevation"],
        ["cardiogenic shock", "sepsis"],
        ["labs", "clinical context"],
        ["treat underlying shock"],
    ),
    (
        "K76.5",
        "Hepatic Veno-occlusive Disease",
        ["hepatomegaly", "ascites", "jaundice"],
        ["bone marrow transplant", "certain herbs"],
        ["Doppler", "biopsy"],
        ["defibrotide", "supportive care"],
    ),
    (
        "K76.6",
        "Portal Hypertension",
        ["varices", "splenomegaly", "ascites"],
        ["cirrhosis"],
        ["imaging", "endoscopy"],
        ["beta blockers", "band ligation", "TIPS"],
    ),
    (
        "K76.7",
        "Hepatorenal Syndrome",
        ["renal failure in cirrhosis", "oliguria"],
        ["advanced cirrhosis"],
        ["diagnostic criteria"],
        ["vasoconstrictors", "albumin", "transplant"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _liver:
    LIVER_DISORDERS[code] = generate_condition(
        code,
        name,
        "Hepatic Disorders",
        symptoms,
        risks,
        criteria,
        treatment,
        ["liver failure", "death", "hepatocellular carcinoma"],
    )


KIDNEY_DISORDERS_EXTENDED: Dict[str, MedicalCondition] = {}

_kidney_ext = [
    (
        "N17.0",
        "Acute Kidney Failure with Tubular Necrosis",
        ["oliguria", "rising creatinine"],
        ["ischemia", "nephrotoxins"],
        ["urinalysis muddy brown casts"],
        ["supportive care", "dialysis if needed"],
    ),
    (
        "N17.1",
        "Acute Kidney Failure with Acute Cortical Necrosis",
        ["anuria", "DIC often present"],
        ["obstetric complications", "sepsis"],
        ["imaging", "biopsy"],
        ["supportive care", "usually irreversible"],
    ),
    (
        "N17.2",
        "Acute Kidney Failure with Medullary Necrosis",
        ["flank pain", "hematuria"],
        ["diabetes", "sickle cell", "analgesics"],
        ["imaging showing papillary necrosis"],
        ["hydration", "pain control"],
    ),
    (
        "N18.1",
        "CKD Stage 1",
        ["GFR >90 with kidney damage"],
        ["diabetes", "hypertension"],
        ["albuminuria", "markers of damage"],
        ["treat underlying cause", "ACE/ARB"],
    ),
    (
        "N18.2",
        "CKD Stage 2",
        ["GFR 60-89", "mild decrease"],
        ["same as CKD"],
        ["eGFR calculation"],
        ["blood pressure control", "diabetes management"],
    ),
    (
        "N18.30",
        "CKD Stage 3 Unspecified",
        ["GFR 30-59"],
        ["progression from earlier stages"],
        ["eGFR"],
        ["nephrology referral", "avoid nephrotoxins"],
    ),
    (
        "N18.31",
        "CKD Stage 3a",
        ["GFR 45-59"],
        ["same as CKD"],
        ["eGFR"],
        ["same as CKD management"],
    ),
    (
        "N18.32",
        "CKD Stage 3b",
        ["GFR 30-44"],
        ["same as CKD"],
        ["eGFR"],
        ["more aggressive management"],
    ),
    (
        "N18.4",
        "CKD Stage 4",
        ["GFR 15-29", "uremic symptoms possible"],
        ["progressive CKD"],
        ["eGFR", "symptoms"],
        ["transplant evaluation", "dialysis access planning"],
    ),
    (
        "N04.0",
        "Nephrotic Syndrome Minimal Change",
        ["edema", "proteinuria", "hypoalbuminemia"],
        ["idiopathic", "NSAIDs", "lymphoma"],
        ["biopsy showing minimal change"],
        ["corticosteroids"],
    ),
    (
        "N04.1",
        "Nephrotic Syndrome Focal Segmental Glomerulosclerosis",
        ["nephrotic syndrome", "FSGS on biopsy"],
        ["obesity", "HIV", "genetic"],
        ["biopsy"],
        ["immunosuppression", "ACE/ARB"],
    ),
    (
        "N04.2",
        "Nephrotic Syndrome Diffuse Membranous",
        ["nephrotic syndrome", "PLA2R positive often"],
        ["idiopathic", "malignancy", "lupus"],
        ["biopsy", "PLA2R antibodies"],
        ["immunosuppression in selected cases"],
    ),
    (
        "N05.0",
        "Glomerulonephritis Minimal Change",
        ["acute nephritic presentation"],
        ["rare presentation of MCD"],
        ["biopsy"],
        ["steroids"],
    ),
    (
        "N05.5",
        "Glomerulonephritis Diffuse Mesangiocapillary",
        ["MPGN pattern", "low complement"],
        ["hepatitis C", "autoimmune"],
        ["biopsy", "complement levels"],
        ["treat underlying cause"],
    ),
    (
        "N12",
        "Tubulo-interstitial Nephritis NOS",
        ["AKI", "sterile pyuria", "eosinophiluria"],
        ["medications", "infections"],
        ["urinalysis", "biopsy"],
        ["remove offending agent", "steroids"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _kidney_ext:
    KIDNEY_DISORDERS_EXTENDED[code] = generate_condition(
        code,
        name,
        "Renal Disorders",
        symptoms,
        risks,
        criteria,
        treatment,
        ["end-stage renal disease", "cardiovascular disease", "death"],
    )


MUSCULOSKELETAL_PAIN: Dict[str, MedicalCondition] = {}

_msk_pain = [
    (
        "M54.50",
        "Low Back Pain Unspecified",
        ["lumbar pain", "may radiate"],
        ["sedentary lifestyle", "heavy lifting"],
        ["clinical exam", "imaging if red flags"],
        ["NSAIDs", "PT", "activity modification"],
    ),
    (
        "M54.51",
        "Vertebrogenic Low Back Pain",
        ["back pain from vertebral endplate"],
        ["Modic changes"],
        ["MRI showing Modic changes"],
        ["PT", "antibiotics in selected cases"],
    ),
    (
        "M54.2",
        "Cervicalgia",
        ["neck pain", "stiffness"],
        ["posture", "trauma", "degenerative disease"],
        ["clinical exam"],
        ["NSAIDs", "PT", "muscle relaxants"],
    ),
    (
        "M54.30",
        "Sciatica Unspecified Side",
        ["radiating leg pain", "dermatomal pattern"],
        ["disc herniation", "spinal stenosis"],
        ["clinical exam", "MRI"],
        ["conservative management", "epidural", "surgery"],
    ),
    (
        "M54.41",
        "Lumbago with Sciatica Right Side",
        ["right sided radiculopathy"],
        ["disc herniation"],
        ["MRI"],
        ["same as sciatica"],
    ),
    (
        "M54.42",
        "Lumbago with Sciatica Left Side",
        ["left sided radiculopathy"],
        ["disc herniation"],
        ["MRI"],
        ["same as sciatica"],
    ),
    (
        "M62.830",
        "Muscle Spasm of Back",
        ["involuntary muscle contraction", "pain"],
        ["strain", "underlying pathology"],
        ["clinical exam"],
        ["muscle relaxants", "heat", "stretching"],
    ),
    (
        "M79.1",
        "Myalgia",
        ["muscle pain", "tenderness"],
        ["overuse", "viral illness", "medications"],
        ["clinical exam", "CK if needed"],
        ["rest", "NSAIDs", "treat underlying cause"],
    ),
    (
        "M79.3",
        "Panniculitis Unspecified",
        ["subcutaneous nodules", "tenderness"],
        ["various etiologies"],
        ["biopsy"],
        ["treat underlying cause"],
    ),
    (
        "M79.7",
        "Fibromyalgia",
        ["widespread pain", "fatigue", "cognitive symptoms"],
        ["female sex", "stress", "genetics"],
        ["ACR criteria"],
        ["duloxetine", "pregabalin", "exercise", "CBT"],
    ),
    (
        "M60.9",
        "Myositis Unspecified",
        ["muscle weakness", "elevated CK"],
        ["autoimmune", "infectious"],
        ["CK", "EMG", "biopsy"],
        ["treat underlying cause"],
    ),
    (
        "M61.9",
        "Calcification and Ossification of Muscle",
        ["palpable hard areas", "decreased ROM"],
        ["trauma", "surgery"],
        ["X-ray", "CT"],
        ["observation", "surgery if symptomatic"],
    ),
    (
        "G56.00",
        "Carpal Tunnel Syndrome Unspecified",
        ["hand numbness", "median nerve distribution"],
        ["repetitive use", "pregnancy", "diabetes"],
        ["nerve conduction studies"],
        ["splinting", "injection", "surgery"],
    ),
    (
        "G57.00",
        "Sciatic Nerve Lesion Unspecified",
        ["leg weakness", "foot drop possible"],
        ["compression", "trauma"],
        ["EMG/NCS"],
        ["PT", "treat underlying cause"],
    ),
    (
        "M77.10",
        "Lateral Epicondylitis Unspecified",
        ["tennis elbow", "lateral elbow pain"],
        ["repetitive wrist extension"],
        ["clinical exam"],
        ["rest", "PT", "injection"],
    ),
    (
        "M77.20",
        "Medial Epicondylitis Unspecified",
        ["golfer elbow", "medial elbow pain"],
        ["repetitive wrist flexion"],
        ["clinical exam"],
        ["rest", "PT", "injection"],
    ),
    (
        "M75.10",
        "Rotator Cuff Syndrome Unspecified",
        ["shoulder pain", "weakness"],
        ["overuse", "age"],
        ["exam", "MRI"],
        ["PT", "injection", "surgery"],
    ),
    (
        "M76.60",
        "Achilles Tendinitis Unspecified",
        ["heel cord pain", "swelling"],
        ["running", "fluoroquinolones"],
        ["clinical exam", "ultrasound"],
        ["rest", "eccentric exercises", "heel lift"],
    ),
    (
        "M70.50",
        "Olecranon Bursitis Unspecified",
        ["elbow swelling", "fluctuant"],
        ["trauma", "gout", "infection"],
        ["aspiration"],
        ["compression", "aspiration", "antibiotics if septic"],
    ),
    (
        "M70.70",
        "Bursitis of Hip Unspecified",
        ["lateral hip pain", "worse with walking"],
        ["overuse", "leg length discrepancy"],
        ["clinical exam"],
        ["PT", "injection"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _msk_pain:
    MUSCULOSKELETAL_PAIN[code] = generate_condition(
        code,
        name,
        "Musculoskeletal Disorders",
        symptoms,
        risks,
        criteria,
        treatment,
        ["chronic pain", "disability", "need for surgery"],
    )


# ============================================================================
# ITERATION 25: FINAL PUSH TO 1000+ - EYE EMERGENCIES, BREAST CONDITIONS, THYROID EXTENDED
# ============================================================================

EYE_EMERGENCIES: Dict[str, MedicalCondition] = {}

_eye_emerg = [
    (
        "H40.10",
        "Primary Open Angle Glaucoma Unspecified",
        ["gradual vision loss", "elevated IOP"],
        ["age", "family history", "myopia"],
        ["tonometry", "visual field", "optic nerve assessment"],
        ["prostaglandin analogs", "laser", "surgery"],
    ),
    (
        "H40.20",
        "Primary Angle Closure Glaucoma Unspecified",
        ["acute eye pain", "halos", "nausea"],
        ["hyperopia", "age", "Asian ethnicity"],
        ["gonioscopy", "IOP"],
        ["laser iridotomy", "topical medications", "surgery"],
    ),
    (
        "H40.51",
        "Glaucoma Secondary to Lens Disorder",
        ["IOP elevation from lens issues"],
        ["cataracts", "lens subluxation"],
        ["examination", "IOP"],
        ["treat underlying lens problem"],
    ),
    (
        "H35.30",
        "Macular Degeneration Unspecified",
        ["central vision loss", "metamorphopsia"],
        ["age", "smoking", "genetics"],
        ["OCT", "fluorescein angiography"],
        ["anti-VEGF for wet AMD", "vitamins for dry AMD"],
    ),
    (
        "H35.32",
        "Exudative Age Related Macular Degeneration",
        ["rapid central vision loss", "wet AMD"],
        ["dry AMD progression"],
        ["OCT", "angiography"],
        ["anti-VEGF injections"],
    ),
    (
        "H34.10",
        "Central Retinal Artery Occlusion Unspecified",
        ["sudden painless vision loss", "cherry red spot"],
        ["embolic source", "GCA"],
        ["fundoscopy", "ESR/CRP"],
        ["emergent: massage, anterior chamber paracentesis; workup for source"],
    ),
    (
        "H34.81",
        "Central Retinal Vein Occlusion",
        ["sudden vision loss", "blood and thunder fundus"],
        ["hypertension", "glaucoma", "hypercoagulability"],
        ["fundoscopy", "OCT"],
        ["anti-VEGF for macular edema", "PRP if neovascularization"],
    ),
    (
        "H16.00",
        "Corneal Ulcer Unspecified",
        ["eye pain", "redness", "photophobia", "discharge"],
        ["contact lens use", "trauma"],
        ["slit lamp exam", "cultures"],
        ["fortified antibiotics", "antifungals if indicated"],
    ),
    (
        "H20.00",
        "Acute Anterior Uveitis Unspecified",
        ["eye pain", "photophobia", "miosis"],
        ["HLA-B27", "autoimmune disease"],
        ["slit lamp showing cells/flare"],
        ["topical steroids", "cycloplegics"],
    ),
    (
        "H44.00",
        "Purulent Endophthalmitis Unspecified",
        ["severe eye pain", "vision loss", "hypopyon"],
        ["post-surgical", "trauma", "endogenous"],
        ["clinical exam", "vitreous tap"],
        ["intravitreal antibiotics", "vitrectomy"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _eye_emerg:
    EYE_EMERGENCIES[code] = generate_condition(
        code,
        name,
        "Ophthalmologic Emergencies",
        symptoms,
        risks,
        criteria,
        treatment,
        ["permanent vision loss", "blindness"],
    )


BREAST_CONDITIONS: Dict[str, MedicalCondition] = {}

_breast = [
    (
        "N60.11",
        "Diffuse Cystic Mastopathy Right Breast",
        ["breast lumpiness", "pain", "cyclical changes"],
        ["hormonal factors"],
        ["ultrasound", "mammogram"],
        ["reassurance", "aspiration if symptomatic"],
    ),
    (
        "N60.12",
        "Diffuse Cystic Mastopathy Left Breast",
        ["breast lumpiness", "pain", "cyclical changes"],
        ["hormonal factors"],
        ["ultrasound", "mammogram"],
        ["reassurance", "aspiration if symptomatic"],
    ),
    (
        "N60.31",
        "Fibroadenoma Right Breast",
        ["firm mobile mass", "painless"],
        ["young age", "hormonal factors"],
        ["ultrasound", "biopsy"],
        ["observation", "excision if desired"],
    ),
    (
        "N60.32",
        "Fibroadenoma Left Breast",
        ["firm mobile mass", "painless"],
        ["young age", "hormonal factors"],
        ["ultrasound", "biopsy"],
        ["observation", "excision if desired"],
    ),
    (
        "N61.0",
        "Mastitis Without Abscess",
        ["breast pain", "redness", "fever", "flu-like symptoms"],
        ["breastfeeding", "nipple trauma"],
        ["clinical exam"],
        ["antibiotics", "continued breastfeeding", "supportive care"],
    ),
    (
        "N61.1",
        "Breast Abscess",
        ["fluctuant breast mass", "fever", "severe pain"],
        ["untreated mastitis"],
        ["ultrasound"],
        ["I&D", "antibiotics"],
    ),
    (
        "N64.3",
        "Galactorrhea",
        ["nipple discharge", "milky bilateral"],
        ["medications", "pituitary tumor", "hypothyroidism"],
        ["prolactin", "TSH", "MRI if elevated"],
        ["treat underlying cause"],
    ),
    (
        "N64.4",
        "Mastodynia",
        ["breast pain", "no mass"],
        ["hormonal", "caffeine", "stress"],
        ["clinical exam"],
        ["supportive bra", "reduce caffeine", "NSAIDs"],
    ),
    (
        "N62",
        "Gynecomastia",
        ["male breast enlargement", "tender"],
        ["medications", "liver disease", "hormonal imbalance"],
        ["hormone levels", "liver function"],
        ["treat underlying cause", "surgery if persistent"],
    ),
    (
        "N63.0",
        "Unspecified Lump in Unspecified Breast",
        ["palpable breast mass"],
        ["variable"],
        ["imaging", "biopsy"],
        ["depends on diagnosis"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _breast:
    BREAST_CONDITIONS[code] = generate_condition(
        code,
        name,
        "Breast Disorders",
        symptoms,
        risks,
        criteria,
        treatment,
        ["cancer concern", "infection spread", "chronic pain"],
    )


THYROID_EXTENDED: Dict[str, MedicalCondition] = {}

_thyroid_ext = [
    (
        "E05.00",
        "Thyrotoxicosis with Diffuse Goiter Unspecified",
        ["weight loss", "tremor", "heat intolerance", "goiter"],
        ["female sex", "family history"],
        ["TSH", "Free T4", "TSI"],
        ["antithyroid drugs", "RAI", "surgery"],
    ),
    (
        "E05.10",
        "Thyrotoxicosis with Single Thyroid Nodule Unspecified",
        ["hyperthyroid symptoms", "single nodule"],
        ["iodine excess"],
        ["thyroid scan showing hot nodule"],
        ["RAI", "surgery"],
    ),
    (
        "E05.20",
        "Thyrotoxicosis with Toxic Multinodular Goiter Unspecified",
        ["hyperthyroidism", "MNG"],
        ["age", "iodine deficiency"],
        ["thyroid scan"],
        ["RAI", "surgery"],
    ),
    (
        "E06.0",
        "Acute Thyroiditis",
        ["neck pain", "fever", "tender thyroid"],
        ["bacterial infection"],
        ["ultrasound", "FNA"],
        ["antibiotics", "drainage"],
    ),
    (
        "E06.1",
        "Subacute Thyroiditis",
        ["neck pain radiating to jaw", "triphasic thyroid function"],
        ["viral illness"],
        ["ESR elevated", "low RAI uptake"],
        ["NSAIDs", "steroids if severe"],
    ),
    (
        "E06.3",
        "Autoimmune Thyroiditis",
        ["goiter or atrophy", "hypothyroid symptoms"],
        ["female sex", "other autoimmune diseases"],
        ["anti-TPO", "anti-Tg antibodies"],
        ["levothyroxine if hypothyroid"],
    ),
    (
        "E06.5",
        "Other Chronic Thyroiditis",
        ["Riedel thyroiditis", "woody hard thyroid"],
        ["IgG4 disease"],
        ["biopsy"],
        ["steroids", "surgery"],
    ),
    (
        "E04.0",
        "Nontoxic Diffuse Goiter",
        ["enlarged thyroid", "euthyroid"],
        ["iodine deficiency"],
        ["TSH normal", "ultrasound"],
        ["iodine supplementation", "levothyroxine"],
    ),
    (
        "E04.1",
        "Nontoxic Single Thyroid Nodule",
        ["palpable nodule", "euthyroid"],
        ["common in women"],
        ["ultrasound", "FNA if indicated"],
        ["observation", "surgery if suspicious"],
    ),
    (
        "E04.2",
        "Nontoxic Multinodular Goiter",
        ["multiple nodules", "euthyroid", "compressive symptoms possible"],
        ["iodine deficiency", "age"],
        ["ultrasound", "FNA of suspicious nodules"],
        ["levothyroxine", "RAI", "surgery"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _thyroid_ext:
    THYROID_EXTENDED[code] = generate_condition(
        code,
        name,
        "Thyroid Disorders",
        symptoms,
        risks,
        criteria,
        treatment,
        ["thyroid storm", "myxedema coma", "malignancy"],
    )


# ============================================================================
# ITERATION 26: FINAL CONDITIONS TO EXCEED 1000
# ============================================================================

ADRENAL_PARATHYROID: Dict[str, MedicalCondition] = {}

_adrenal_parathyroid = [
    (
        "E21.0",
        "Primary Hyperparathyroidism",
        ["hypercalcemia", "kidney stones", "osteoporosis", "fatigue"],
        ["age", "female sex", "radiation exposure"],
        ["elevated PTH with hypercalcemia"],
        ["parathyroidectomy", "cinacalcet"],
    ),
    (
        "E21.1",
        "Secondary Hyperparathyroidism",
        ["elevated PTH", "normal/low calcium"],
        ["CKD", "vitamin D deficiency"],
        ["PTH elevated", "low calcium"],
        ["vitamin D", "phosphate binders", "calcimimetics"],
    ),
    (
        "E21.2",
        "Tertiary Hyperparathyroidism",
        ["autonomous PTH secretion", "hypercalcemia post renal transplant"],
        ["long-standing secondary hyperparathyroidism"],
        ["elevated PTH and calcium post-transplant"],
        ["parathyroidectomy"],
    ),
    (
        "E20.0",
        "Idiopathic Hypoparathyroidism",
        ["hypocalcemia", "tetany", "seizures"],
        ["genetic", "autoimmune"],
        ["low PTH with low calcium"],
        ["calcium", "vitamin D supplementation"],
    ),
    (
        "E20.1",
        "Pseudohypoparathyroidism",
        ["short stature", "brachydactyly", "hypocalcemia"],
        ["genetic AHO"],
        ["elevated PTH with low calcium"],
        ["calcium", "vitamin D"],
    ),
    (
        "E27.1",
        "Primary Adrenocortical Insufficiency",
        ["fatigue", "hyperpigmentation", "hypotension", "salt craving"],
        ["autoimmune", "TB", "hemorrhage"],
        ["low cortisol", "elevated ACTH", "ACTH stimulation test"],
        ["hydrocortisone", "fludrocortisone"],
    ),
    (
        "E27.2",
        "Addisonian Crisis",
        ["shock", "severe weakness", "abdominal pain"],
        ["acute stress in Addison disease", "adrenal hemorrhage"],
        ["clinical presentation", "labs"],
        ["IV hydrocortisone", "fluid resuscitation"],
    ),
    (
        "E27.0",
        "Other Adrenocortical Overactivity",
        ["Cushing syndrome features", "hypertension"],
        ["pituitary adenoma", "adrenal tumor", "ectopic ACTH"],
        ["24h urine cortisol", "dexamethasone suppression test"],
        ["surgery", "medical therapy"],
    ),
    (
        "E26.01",
        "Primary Aldosteronism Bilateral",
        ["hypertension", "hypokalemia"],
        ["bilateral adrenal hyperplasia"],
        ["aldosterone/renin ratio", "adrenal CT"],
        ["mineralocorticoid receptor antagonists"],
    ),
    (
        "E26.02",
        "Primary Aldosteronism Unilateral",
        ["hypertension", "hypokalemia", "single adenoma"],
        ["Conn syndrome"],
        ["aldosterone/renin ratio", "adrenal venous sampling"],
        ["adrenalectomy"],
    ),
]

for code, name, symptoms, risks, criteria, treatment in _adrenal_parathyroid:
    ADRENAL_PARATHYROID[code] = generate_condition(
        code,
        name,
        "Endocrine Disorders",
        symptoms,
        risks,
        criteria,
        treatment,
        ["adrenal crisis", "cardiac arrhythmias", "death"],
    )


# Export all
def get_all_generated_conditions() -> Dict[str, MedicalCondition]:
    """Returns all procedurally generated conditions."""
    all_conditions = {}
    all_conditions.update(NEOPLASM_CONDITIONS)
    all_conditions.update(DERMATOLOGY_CONDITIONS)
    all_conditions.update(OPHTHALMOLOGY_CONDITIONS)
    all_conditions.update(UROLOGY_CONDITIONS)
    all_conditions.update(ORTHOPEDICS_CONDITIONS)
    all_conditions.update(PEDIATRICS_CONDITIONS)
    all_conditions.update(OBGYN_CONDITIONS)
    all_conditions.update(ENT_CONDITIONS)
    all_conditions.update(HEMATOLOGY_CONDITIONS)
    all_conditions.update(TOXICOLOGY_CONDITIONS)
    all_conditions.update(NEPHROLOGY_CONDITIONS)
    all_conditions.update(ALLERGY_CONDITIONS)
    all_conditions.update(GERIATRICS_CONDITIONS)
    all_conditions.update(SPORTS_MEDICINE_CONDITIONS)
    all_conditions.update(INFECTIOUS_EXTENDED)
    all_conditions.update(CARDIOLOGY_EXTENDED)
    all_conditions.update(PULMONOLOGY_EXTENDED)
    all_conditions.update(GASTRO_EXTENDED)
    all_conditions.update(NEUROLOGY_EXTENDED)
    all_conditions.update(ENDOCRINE_EXTENDED)
    all_conditions.update(PSYCHIATRY_EXTENDED)
    all_conditions.update(RHEUMATOLOGY_EXTENDED)
    all_conditions.update(EMERGENCY_EXTENDED)
    all_conditions.update(PRIMARY_CARE)
    all_conditions.update(CRITICAL_CARE)
    all_conditions.update(PAIN_MEDICINE)
    all_conditions.update(ONCOLOGY_EXTENDED)
    all_conditions.update(OCCUPATIONAL_MEDICINE)
    all_conditions.update(TROPICAL_MEDICINE)
    all_conditions.update(GENETICS_MEDICINE)
    all_conditions.update(PEDIATRICS_EXTENDED)
    all_conditions.update(OBGYN_EXTENDED)
    all_conditions.update(NEONATOLOGY)
    all_conditions.update(ADOLESCENT_MEDICINE)
    all_conditions.update(VASCULAR_SURGERY)
    all_conditions.update(TRANSPLANT_MEDICINE)
    all_conditions.update(SLEEP_MEDICINE)
    all_conditions.update(PALLIATIVE_CARE)
    all_conditions.update(ORTHOPEDICS_EXTENDED)
    all_conditions.update(DERMATOLOGY_EXTENDED)
    all_conditions.update(ENT_EXTENDED)
    all_conditions.update(UROLOGY_EXTENDED)
    all_conditions.update(NEPHROLOGY_EXTENDED)
    all_conditions.update(OPHTHALMOLOGY_EXTENDED)
    all_conditions.update(HEMATOLOGY_EXTENDED)
    all_conditions.update(ALLERGY_EXTENDED)
    all_conditions.update(TOXICOLOGY_EXTENDED)
    all_conditions.update(GENERAL_SURGERY)
    all_conditions.update(TRAUMA_SURGERY)
    all_conditions.update(NEUROSURGERY)
    all_conditions.update(CARDIOTHORACIC_SURGERY)
    all_conditions.update(PSYCHIATRY_EXPANDED)
    all_conditions.update(GERIATRICS_EXTENDED)
    all_conditions.update(REHAB_MEDICINE)
    all_conditions.update(SPORTS_MEDICINE_EXTENDED)
    all_conditions.update(SYMPTOMS_SIGNS)
    all_conditions.update(PREVENTIVE_MEDICINE)
    all_conditions.update(LAB_FINDINGS)
    all_conditions.update(CONGENITAL_CONDITIONS)
    all_conditions.update(METABOLIC_EXTENDED)
    all_conditions.update(AUTOIMMUNE_EXTENDED)
    all_conditions.update(RARE_DISEASES)
    all_conditions.update(SOCIAL_ENVIRONMENTAL)
    all_conditions.update(CHRONIC_MANAGEMENT)
    all_conditions.update(COMMON_PRESENTATIONS)
    all_conditions.update(WOUND_CARE)
    all_conditions.update(DENTAL_ORAL)
    all_conditions.update(NUTRITIONAL_DISORDERS)
    all_conditions.update(SUBSTANCE_USE_EXTENDED)
    all_conditions.update(IMMUNODEFICIENCY)
    all_conditions.update(BURNS_EXTENDED)
    all_conditions.update(POISONING_EXTENDED)
    all_conditions.update(COMPLICATIONS_OF_CARE)
    all_conditions.update(ELECTROLYTE_DISORDERS)
    all_conditions.update(FRACTURES_EXTENDED)
    all_conditions.update(INFECTIONS_SUPPLEMENTAL)
    all_conditions.update(PREGNANCY_EXTENDED)
    all_conditions.update(VASCULAR_EXTENDED)
    all_conditions.update(GI_SUPPLEMENTAL)
    all_conditions.update(RESPIRATORY_SUPPLEMENTAL)
    all_conditions.update(NEUROLOGICAL_SUPPLEMENTAL)
    all_conditions.update(CARDIAC_ARRHYTHMIAS)
    all_conditions.update(LIVER_DISORDERS)
    all_conditions.update(KIDNEY_DISORDERS_EXTENDED)
    all_conditions.update(MUSCULOSKELETAL_PAIN)
    all_conditions.update(EYE_EMERGENCIES)
    all_conditions.update(BREAST_CONDITIONS)
    all_conditions.update(THYROID_EXTENDED)
    all_conditions.update(ADRENAL_PARATHYROID)
    return all_conditions


GENERATED_STATS = {
    "neoplasms": len(NEOPLASM_CONDITIONS),
    "dermatology": len(DERMATOLOGY_CONDITIONS),
    "ophthalmology": len(OPHTHALMOLOGY_CONDITIONS),
    "urology": len(UROLOGY_CONDITIONS),
    "orthopedics": len(ORTHOPEDICS_CONDITIONS),
    "pediatrics": len(PEDIATRICS_CONDITIONS),
    "obgyn": len(OBGYN_CONDITIONS),
    "ent": len(ENT_CONDITIONS),
    "hematology": len(HEMATOLOGY_CONDITIONS),
    "toxicology": len(TOXICOLOGY_CONDITIONS),
    "nephrology": len(NEPHROLOGY_CONDITIONS),
    "allergy_immunology": len(ALLERGY_CONDITIONS),
    "geriatrics": len(GERIATRICS_CONDITIONS),
    "sports_medicine": len(SPORTS_MEDICINE_CONDITIONS),
    "infectious_extended": len(INFECTIOUS_EXTENDED),
    "cardiology_extended": len(CARDIOLOGY_EXTENDED),
    "pulmonology_extended": len(PULMONOLOGY_EXTENDED),
    "gastro_extended": len(GASTRO_EXTENDED),
    "neurology_extended": len(NEUROLOGY_EXTENDED),
    "endocrine_extended": len(ENDOCRINE_EXTENDED),
    "psychiatry_extended": len(PSYCHIATRY_EXTENDED),
    "rheumatology_extended": len(RHEUMATOLOGY_EXTENDED),
    "emergency_extended": len(EMERGENCY_EXTENDED),
    "primary_care": len(PRIMARY_CARE),
    "critical_care": len(CRITICAL_CARE),
    "pain_medicine": len(PAIN_MEDICINE),
    "oncology_extended": len(ONCOLOGY_EXTENDED),
    "occupational_medicine": len(OCCUPATIONAL_MEDICINE),
    "tropical_medicine": len(TROPICAL_MEDICINE),
    "genetics_medicine": len(GENETICS_MEDICINE),
    "pediatrics_extended": len(PEDIATRICS_EXTENDED),
    "obgyn_extended": len(OBGYN_EXTENDED),
    "neonatology": len(NEONATOLOGY),
    "adolescent_medicine": len(ADOLESCENT_MEDICINE),
    "vascular_surgery": len(VASCULAR_SURGERY),
    "transplant_medicine": len(TRANSPLANT_MEDICINE),
    "sleep_medicine": len(SLEEP_MEDICINE),
    "palliative_care": len(PALLIATIVE_CARE),
    "orthopedics_extended": len(ORTHOPEDICS_EXTENDED),
    "dermatology_extended": len(DERMATOLOGY_EXTENDED),
    "ent_extended": len(ENT_EXTENDED),
    "urology_extended": len(UROLOGY_EXTENDED),
    "nephrology_extended": len(NEPHROLOGY_EXTENDED),
    "ophthalmology_extended": len(OPHTHALMOLOGY_EXTENDED),
    "hematology_extended": len(HEMATOLOGY_EXTENDED),
    "allergy_extended": len(ALLERGY_EXTENDED),
    "toxicology_extended": len(TOXICOLOGY_EXTENDED),
    "general_surgery": len(GENERAL_SURGERY),
    "trauma_surgery": len(TRAUMA_SURGERY),
    "neurosurgery": len(NEUROSURGERY),
    "cardiothoracic_surgery": len(CARDIOTHORACIC_SURGERY),
    "psychiatry_expanded": len(PSYCHIATRY_EXPANDED),
    "geriatrics_extended": len(GERIATRICS_EXTENDED),
    "rehab_medicine": len(REHAB_MEDICINE),
    "sports_medicine_extended": len(SPORTS_MEDICINE_EXTENDED),
    "symptoms_signs": len(SYMPTOMS_SIGNS),
    "preventive_medicine": len(PREVENTIVE_MEDICINE),
    "lab_findings": len(LAB_FINDINGS),
    "congenital_conditions": len(CONGENITAL_CONDITIONS),
    "metabolic_extended": len(METABOLIC_EXTENDED),
    "autoimmune_extended": len(AUTOIMMUNE_EXTENDED),
    "rare_diseases": len(RARE_DISEASES),
    "social_environmental": len(SOCIAL_ENVIRONMENTAL),
    "chronic_management": len(CHRONIC_MANAGEMENT),
    "common_presentations": len(COMMON_PRESENTATIONS),
    "wound_care": len(WOUND_CARE),
    "dental_oral": len(DENTAL_ORAL),
    "nutritional_disorders": len(NUTRITIONAL_DISORDERS),
    "substance_use_extended": len(SUBSTANCE_USE_EXTENDED),
    "immunodeficiency": len(IMMUNODEFICIENCY),
    "burns_extended": len(BURNS_EXTENDED),
    "poisoning_extended": len(POISONING_EXTENDED),
    "complications_of_care": len(COMPLICATIONS_OF_CARE),
    "electrolyte_disorders": len(ELECTROLYTE_DISORDERS),
    "fractures_extended": len(FRACTURES_EXTENDED),
    "infections_supplemental": len(INFECTIONS_SUPPLEMENTAL),
    "pregnancy_extended": len(PREGNANCY_EXTENDED),
    "vascular_extended": len(VASCULAR_EXTENDED),
    "gi_supplemental": len(GI_SUPPLEMENTAL),
    "respiratory_supplemental": len(RESPIRATORY_SUPPLEMENTAL),
    "neurological_supplemental": len(NEUROLOGICAL_SUPPLEMENTAL),
    "cardiac_arrhythmias": len(CARDIAC_ARRHYTHMIAS),
    "liver_disorders": len(LIVER_DISORDERS),
    "kidney_disorders_extended": len(KIDNEY_DISORDERS_EXTENDED),
    "musculoskeletal_pain": len(MUSCULOSKELETAL_PAIN),
    "eye_emergencies": len(EYE_EMERGENCIES),
    "breast_conditions": len(BREAST_CONDITIONS),
    "thyroid_extended": len(THYROID_EXTENDED),
    "adrenal_parathyroid": len(ADRENAL_PARATHYROID),
    "total_generated": len(get_all_generated_conditions()),
}
