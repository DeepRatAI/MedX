#!/usr/bin/env python3
"""
üö® Condiciones de Emergencia - Base de Conocimiento Expandida
Basado en: ATLS, AHA/ACLS Guidelines, PHTLS, Toxicology Guidelines

Cobertura:
- Paro Cardiorrespiratorio (I46.9) ‚úì nuevo
- Anafilaxia (T78.2) ‚úì nuevo
- Cetoacidosis Diab√©tica (E10.1/E11.1) ‚úì nuevo
- Estado Hiperosmolar Hipergluc√©mico (E11.0) ‚úì nuevo
- Crisis Hipertensiva (I16) ‚úì nuevo
- Estatus Epil√©ptico (G41) ‚úì nuevo
- Politraumatismo (T07) ‚úì nuevo
- Intoxicaci√≥n Aguda (T36-T65) ‚úì nuevo
"""

from dataclasses import dataclass


@dataclass
class MedicalCondition:
    """Condici√≥n m√©dica completa"""

    icd10_code: str
    name: str
    category: str
    description: str
    symptoms: list
    risk_factors: list
    complications: list
    diagnostic_criteria: list
    differential_diagnosis: list
    treatment_protocol: list
    emergency_signs: list
    prognosis: str
    follow_up: list


EMERGENCY_CONDITIONS = {
    # =========================================================================
    # PARO CARDIORRESPIRATORIO (I46.9)
    # Fuente: AHA ACLS Guidelines 2020, ERC Guidelines 2021
    # =========================================================================
    "I46.9": MedicalCondition(
        icd10_code="I46.9",
        name="Paro Cardiorrespiratorio",
        category="Emergencias",
        description="Cese s√∫bito de la actividad mec√°nica card√≠aca efectiva con ausencia de pulso, respiraci√≥n y conciencia. Requiere intervenci√≥n inmediata con RCP y desfibrilaci√≥n para supervivencia",
        symptoms=[
            "RECONOCIMIENTO (en segundos):",
            "  - P√©rdida de conciencia s√∫bita",
            "  - Ausencia de pulso (carot√≠deo en adultos)",
            "  - Ausencia de respiraci√≥n normal (gasping no cuenta)",
            "",
            "SIGNOS ASOCIADOS:",
            "  - Colapso s√∫bito",
            "  - Cianosis",
            "  - Midriasis (tard√≠o)",
            "  - Palidez extrema",
            "  - Convulsiones (hipoxia cerebral)",
        ],
        risk_factors=[
            "CAUSAS REVERSIBLES (5H y 5T):",
            "  H - Hipoxia",
            "  H - Hipovolemia",
            "  H - Hidrogeniones (acidosis)",
            "  H - Hipopotasemia/Hiperpotasemia",
            "  H - Hipotermia",
            "  T - Tensi√≥n (neumot√≥rax a tensi√≥n)",
            "  T - Taponamiento card√≠aco",
            "  T - T√≥xicos/tabletas",
            "  T - Trombosis pulmonar (TEP)",
            "  T - Trombosis coronaria (IAM)",
            "",
            "FACTORES DE RIESGO:",
            "  - Cardiopat√≠a isqu√©mica (m√°s frecuente)",
            "  - Miocardiopat√≠as",
            "  - Canalopat√≠as (QT largo, Brugada)",
            "  - Arritmias previas",
            "  - Insuficiencia card√≠aca",
            "  - Electrolitos anormales",
        ],
        complications=[
            "Da√±o cerebral hip√≥xico-isqu√©mico",
            "Muerte",
            "S√≠ndrome post-paro card√≠aco",
            "Falla multiorg√°nica",
            "Fracturas costales (por RCP)",
            "Aspiraci√≥n",
            "Estado vegetativo persistente",
        ],
        diagnostic_criteria=[
            "DIAGN√ìSTICO INMEDIATO (cl√≠nico):",
            "  - Inconsciencia (no responde a est√≠mulos)",
            "  - Sin respiraci√≥n normal (verificar <10 segundos)",
            "  - Sin pulso (verificar <10 segundos)",
            "",
            "RITMOS DE PARO:",
            "  Desfibrilables (mejor pron√≥stico):",
            "    - Fibrilaci√≥n ventricular (FV)",
            "    - Taquicardia ventricular sin pulso (TVSP)",
            "  No desfibrilables:",
            "    - Asistolia",
            "    - Actividad el√©ctrica sin pulso (AESP)",
            "",
            "MONITORIZACI√ìN:",
            "  - ECG continuo (identificar ritmo)",
            "  - Capnograf√≠a (ETCO2) - confirma correcta RCP y ROSC",
            "  - Oximetr√≠a",
        ],
        differential_diagnosis=[
            "S√≠ncope (recupera espont√°neamente)",
            "Convulsi√≥n",
            "Sobredosis con depresi√≥n respiratoria",
            "Hipoglucemia severa",
            "Hipotermia severa",
            "Estado catat√≥nico",
        ],
        treatment_protocol=[
            "SECUENCIA BLS/ACLS:",
            "",
            "1. RECONOCER Y ACTIVAR:",
            "   - Verificar seguridad de la escena",
            "   - Comprobar respuesta",
            "   - Llamar a emergencias y pedir DEA",
            "",
            "2. RCP DE ALTA CALIDAD (C-A-B):",
            "   Compresiones:",
            "     - 100-120 por minuto",
            "     - Profundidad 5-6 cm en adultos",
            "     - Permitir reexpansi√≥n completa",
            "     - Minimizar interrupciones (<10 seg)",
            "   V√≠a a√©rea: extensi√≥n de cabeza - elevaci√≥n de ment√≥n",
            "   Ventilaciones: 2 ventilaciones cada 30 compresiones (30:2)",
            "     - Con v√≠a a√©rea avanzada: 1 ventilaci√≥n cada 6 seg",
            "",
            "3. DESFIBRILACI√ìN (ritmos desfibrilables):",
            "   - FV/TVSP: Descarga inmediata (bif√°sico 200J)",
            "   - RCP 2 minutos, reevaluar ritmo",
            "   - Repetir ciclo: RCP ‚Üí an√°lisis ‚Üí descarga (si indicado)",
            "",
            "4. MEDICAMENTOS ACLS:",
            "   FV/TVSP:",
            "     - Epinefrina 1mg IV/IO cada 3-5 min (despu√©s de 2da descarga)",
            "     - Amiodarona 300mg IV bolo (despu√©s de 3ra descarga),",
            "       luego 150mg (puede repetir)",
            "     - Lidoca√≠na alternativa: 1-1.5 mg/kg",
            "   Asistolia/AESP:",
            "     - Epinefrina 1mg IV/IO cada 3-5 min (inmediatamente)",
            "     - Buscar causas reversibles (5H 5T)",
            "",
            "5. V√çA A√âREA AVANZADA:",
            "   - Intubaci√≥n orotraqueal o dispositivo supragl√≥tico",
            "   - No interrumpir compresiones >10 seg",
            "   - Confirmar con capnograf√≠a",
            "",
            "6. POST-PARO (tras ROSC):",
            "   - Optimizar oxigenaci√≥n (SatO2 92-98%)",
            "   - Evitar hiperventilaci√≥n (ETCO2 35-45)",
            "   - Control de temperatura dirigido (32-36¬∞C x 24h)",
            "   - Coronariograf√≠a si sospecha de IAM",
            "   - Control de glucemia, convulsiones",
        ],
        emergency_signs=[
            "TODO paro card√≠aco es la m√°xima emergencia",
            "El tiempo es cr√≠tico:",
            "  - Por cada minuto sin RCP: -10% supervivencia",
            "  - Da√±o cerebral comienza a los 4-6 minutos",
            "  - Desfibrilaci√≥n temprana aumenta supervivencia",
        ],
        prognosis="Supervivencia al alta hospitalaria: 10-12% (extrahospitalario), 25% (intrahospitalario). FV/TV mejor pron√≥stico que asistolia. Pron√≥stico neurol√≥gico: variable.",
        follow_up=[
            "UCI post-paro card√≠aco",
            "Neuropron√≥stico a las 72h post-normotermia",
            "Evaluaci√≥n cardiol√≥gica (eco, coronariograf√≠a, estudio electrofisiol√≥gico)",
            "Considerar DAI si causa card√≠aca primaria",
            "Rehabilitaci√≥n neurol√≥gica y card√≠aca",
            "Evaluaci√≥n gen√©tica si canalopat√≠a",
        ],
    ),
    # =========================================================================
    # ANAFILAXIA (T78.2)
    # Fuente: WAO Guidelines 2020, EAACI Guidelines, ACEP
    # =========================================================================
    "T78.2": MedicalCondition(
        icd10_code="T78.2",
        name="Anafilaxia",
        category="Emergencias",
        description="Reacci√≥n al√©rgica sist√©mica grave, de inicio r√°pido, potencialmente mortal, mediada principalmente por IgE, que afecta m√∫ltiples sistemas org√°nicos",
        symptoms=[
            "CUT√ÅNEOS (80-90%):",
            "  - Urticaria (habones)",
            "  - Angioedema (cara, labios, lengua)",
            "  - Prurito generalizado",
            "  - Eritema difuso",
            "  - Sensaci√≥n de calor",
            "",
            "RESPIRATORIOS (70%):",
            "  - Disnea, sibilancias",
            "  - Estridor (edema lar√≠ngeo)",
            "  - Tos",
            "  - Rinorrea, congesti√≥n nasal",
            "  - Sensaci√≥n de opresi√≥n tor√°cica",
            "  - Disfon√≠a",
            "",
            "CARDIOVASCULARES (45%):",
            "  - Hipotensi√≥n (shock)",
            "  - Taquicardia",
            "  - S√≠ncope, mareo",
            "  - Dolor tor√°cico",
            "",
            "GASTROINTESTINALES (45%):",
            "  - N√°useas, v√≥mitos",
            "  - Dolor abdominal c√≥lico",
            "  - Diarrea",
            "",
            "NEUROL√ìGICOS:",
            "  - Ansiedad, sensaci√≥n de muerte inminente",
            "  - Confusi√≥n",
            "  - P√©rdida de conciencia",
        ],
        risk_factors=[
            "AL√âRGENOS COMUNES:",
            "  - Alimentos: man√≠, frutos secos, mariscos, huevo, leche",
            "  - Medicamentos: penicilinas, AINEs, medios de contraste",
            "  - Venenos: abejas, avispas, hormigas",
            "  - L√°tex",
            "  - Ejercicio (anafilaxia inducida por ejercicio)",
            "",
            "FACTORES QUE AUMENTAN RIESGO/SEVERIDAD:",
            "  - Antecedente de anafilaxia previa",
            "  - Asma mal controlado",
            "  - Mastocitosis",
            "  - Beta-bloqueadores (dificultan tratamiento)",
            "  - IECA",
            "  - Alcohol, ejercicio, estr√©s",
            "  - Edad avanzada",
        ],
        complications=[
            "Shock anafil√°ctico",
            "Paro cardiorrespiratorio",
            "Obstrucci√≥n de v√≠a a√©rea",
            "Broncoespasmo severo",
            "Hipoxia cerebral",
            "Anafilaxia bif√°sica (recurrencia 1-23%)",
            "Muerte",
        ],
        diagnostic_criteria=[
            "DIAGN√ìSTICO CL√çNICO (criterios):",
            "Anafilaxia es ALTAMENTE PROBABLE si CUALQUIERA de:",
            "",
            "1. Inicio agudo (minutos a horas) con afectaci√≥n de PIEL/MUCOSAS",
            "   + al menos UNO de:",
            "   a) Compromiso respiratorio (disnea, sibilancias, estridor)",
            "   b) Hipotensi√≥n o s√≠ntomas de disfunci√≥n de √≥rgano",
            "",
            "2. Exposici√≥n a al√©rgeno PROBABLE + ‚â•2 de los siguientes:",
            "   a) Afectaci√≥n cut√°neo-mucosa",
            "   b) Compromiso respiratorio",
            "   c) Hipotensi√≥n o s√≠ntomas asociados",
            "   d) S√≠ntomas GI persistentes",
            "",
            "3. Hipotensi√≥n tras exposici√≥n a al√©rgeno CONOCIDO:",
            "   - Adultos: PAS <90 mmHg o ca√≠da >30% de basal",
            "",
            "LABORATORIO (no necesario para diagn√≥stico inmediato):",
            "  - Triptasa s√©rica (elevada 15 min - 3h post-inicio)",
            "    √ötil para confirmar, especialmente si at√≠pica",
        ],
        differential_diagnosis=[
            "Reacci√≥n vasovagal (sin urticaria, bradicardia)",
            "Ataque de p√°nico/ansiedad",
            "Urticaria aguda aislada",
            "Angioedema hereditario",
            "Asma aguda",
            "Crisis carcinoide",
            "Feocromocitoma",
            "S√≠ndrome del hombre rojo (vancomicina)",
            "Escombroidosis (intoxicaci√≥n por histamina)",
        ],
        treatment_protocol=[
            "¬°EPINEFRINA ES EL TRATAMIENTO DE PRIMERA L√çNEA!",
            "No hay contraindicaci√≥n absoluta para epinefrina en anafilaxia",
            "",
            "1. EPINEFRINA IM (muslo anterolateral):",
            "   - Adultos: 0.3-0.5 mg (0.3-0.5 mL de 1:1000)",
            "   - Ni√±os: 0.01 mg/kg (m√°x 0.3 mg)",
            "   - Repetir cada 5-15 minutos si no respuesta",
            "   - Autoinyectores: 0.15 mg (<25 kg), 0.30 mg (>25 kg)",
            "",
            "2. POSICI√ìN Y V√çA A√âREA:",
            "   - Posici√≥n supina con piernas elevadas (shock)",
            "   - Sentado si predomina disnea",
            "   - Ox√≠geno alto flujo",
            "   - Preparar intubaci√≥n si compromiso de v√≠a a√©rea",
            "",
            "3. FLUIDOTERAPIA (si hipotensi√≥n):",
            "   - Bolo de cristaloides 20 mL/kg",
            "   - Repetir seg√∫n respuesta",
            "",
            "4. TRATAMIENTOS ADYUVANTES (segunda l√≠nea):",
            "   - Antihistam√≠nicos H1: Difenhidramina 25-50 mg IV",
            "   - Antihistam√≠nicos H2: Ranitidina 50 mg IV (opcional)",
            "   - Corticoides: Metilprednisolona 1-2 mg/kg IV",
            "     (previenen bif√°sica, no efecto inmediato)",
            "   - Beta-agonistas: Salbutamol nebulizado si broncoespasmo",
            "",
            "5. SHOCK REFRACTARIO:",
            "   - Epinefrina IV: 0.1-0.5 mg lento o infusi√≥n",
            "   - Vasopresores (norepinefrina)",
            "   - Glucag√≥n si beta-bloqueado: 1-5 mg IV",
            "",
            "6. OBSERVACI√ìN:",
            "   - M√≠nimo 4-6 horas post-resoluci√≥n",
            "   - 24 horas si: severa, bif√°sica previa, acceso limitado a atenci√≥n",
        ],
        emergency_signs=[
            "TODA anafilaxia es emergencia",
            "Signos de gravedad:",
            "  - Edema de v√≠a a√©rea (estridor, disfon√≠a, dificultad para tragar)",
            "  - Hipotensi√≥n/shock",
            "  - Disnea severa/cianosis",
            "  - P√©rdida de conciencia",
            "  - R√°pida progresi√≥n de s√≠ntomas",
        ],
        prognosis="Con tratamiento inmediato: excelente. Mortalidad <1% si epinefrina temprana. Riesgo de recurrencia bif√°sica: 1-23% (horas despu√©s).",
        follow_up=[
            "Prescribir autoinyector de epinefrina (m√≠nimo 2)",
            "Plan de acci√≥n escrito para anafilaxia",
            "Referir a alergolog√≠a para evaluaci√≥n",
            "Pruebas de alergia (4-6 semanas despu√©s del episodio)",
            "Bracelet de alerta m√©dica",
            "Educaci√≥n sobre evitar al√©rgeno",
            "Considerar inmunoterapia si indicada (veneno de himen√≥pteros)",
        ],
    ),
    # =========================================================================
    # CETOACIDOSIS DIAB√âTICA (E11.1)
    # Fuente: ADA Guidelines 2024, JBDS Guidelines
    # =========================================================================
    "E11.1": MedicalCondition(
        icd10_code="E11.1",
        name="Cetoacidosis Diab√©tica (CAD)",
        category="Emergencias",
        description="Complicaci√≥n aguda de la diabetes caracterizada por hiperglucemia, acidosis metab√≥lica con ani√≥n gap elevado y cetonemia, debido a deficiencia absoluta o relativa de insulina",
        symptoms=[
            "S√çNTOMAS PROGRESIVOS (horas a d√≠as):",
            "  - Poliuria, polidipsia (s√≠ntomas de hiperglucemia)",
            "  - N√°useas y v√≥mitos",
            "  - Dolor abdominal (puede simular abdomen agudo)",
            "  - Debilidad, fatiga",
            "  - Alteraci√≥n del nivel de conciencia",
            "",
            "SIGNOS:",
            "  - Deshidrataci√≥n (mucosas secas, turgencia reducida)",
            "  - Respiraci√≥n de Kussmaul (profunda y r√°pida)",
            "  - Aliento cet√≥nico (olor a frutas/acetona)",
            "  - Taquicardia",
            "  - Hipotensi√≥n (deshidrataci√≥n severa)",
            "  - Hipotermia",
            "  - Abdomen tenso (√≠leo)",
        ],
        risk_factors=[
            "DESENCADENANTES (5 I):",
            "  - Infecci√≥n (30-40%, m√°s com√∫n)",
            "  - Incumplimiento de insulina (20-40%)",
            "  - Inicio/debut de diabetes tipo 1",
            "  - Infarto (IAM, ACV)",
            "  - Intoxicaci√≥n, Iatrogenia (corticoides, iSGLT2)",
            "",
            "OTROS:",
            "  - Cirug√≠a, trauma",
            "  - Embarazo",
            "  - Pancreatitis",
            "  - Drogas (coca√≠na)",
            "  - Mal funcionamiento de bomba de insulina",
        ],
        complications=[
            "Edema cerebral (especialmente en ni√±os)",
            "Hipopotasemia severa (arritmias)",
            "Hipoglucemia (por tratamiento)",
            "SDRA",
            "Tromboembolismo",
            "Rabdomi√≥lisis",
            "Infecciones oportunistas (mucormicosis)",
            "Muerte (mortalidad <1% con tratamiento adecuado)",
        ],
        diagnostic_criteria=[
            "TR√çADA DIAGN√ìSTICA:",
            "  1. Hiperglucemia: Glucosa >250 mg/dL (usualmente 300-800)",
            "  2. Cetonemia: Beta-hidroxibutirato >3 mmol/L o cetonuria ‚â•2+",
            "  3. Acidosis metab√≥lica: pH <7.3 y/o HCO3 <18 mEq/L",
            "",
            "CLASIFICACI√ìN DE SEVERIDAD:",
            "  Leve: pH 7.25-7.30, HCO3 15-18, alerta",
            "  Moderada: pH 7.00-7.24, HCO3 10-15, alerta/somnoliento",
            "  Severa: pH <7.00, HCO3 <10, estupor/coma",
            "",
            "OTROS HALLAZGOS DE LABORATORIO:",
            "  - Ani√≥n gap elevado (>12): Na - (Cl + HCO3)",
            "  - Potasio: puede estar elevado, normal o bajo",
            "    (d√©ficit corporal total a pesar de nivel s√©rico)",
            "  - Leucocitosis (estr√©s, puede haber sin infecci√≥n)",
            "  - Elevaci√≥n de amilasa/lipasa (sin pancreatitis)",
            "  - Hiponatremia dilucional",
            "    Na corregido = Na medido + 1.6 x [(glucosa-100)/100]",
            "",
            "DIFERENCIA CON ESTADO HIPEROSMOLAR (EHH):",
            "  - EHH: glucosa >600, osmolaridad >320, cetosis leve, pH >7.30",
        ],
        differential_diagnosis=[
            "Estado hiperosmolar hipergluc√©mico",
            "Cetoacidosis alcoh√≥lica",
            "Cetoacidosis por inanici√≥n",
            "Acidosis l√°ctica",
            "Intoxicaci√≥n por metanol o etilenglicol",
            "Uremia (acidosis)",
            "Gastroenteritis con deshidrataci√≥n",
        ],
        treatment_protocol=[
            "PRINCIPIOS: Fluidos, Insulina, Potasio, Buscar causa",
            "",
            "1. FLUIDOS (primero y crucial):",
            "   - Salino 0.9% 1-1.5 L en primera hora",
            "   - Luego 250-500 mL/h seg√∫n hidrataci√≥n y sodio",
            "   - Cambiar a salino 0.45% si Na >145 o euvol√©mico",
            "   - Agregar Dextrosa 5% cuando glucosa <250 mg/dL",
            "   - D√©ficit t√≠pico: 5-10 litros",
            "",
            "2. INSULINA (despu√©s de confirmar K >3.3):",
            "   - Regular IV en infusi√≥n continua",
            "   - Bolo: 0.1 U/kg (opcional seg√∫n protocolo)",
            "   - Infusi√≥n: 0.1 U/kg/h",
            "   - Meta: reducir glucosa 50-75 mg/dL/h",
            "   - Si glucosa <250: reducir a 0.02-0.05 U/kg/h,",
            "     mantener glucosa 150-200 hasta resolver cetosis",
            "",
            "3. POTASIO (d√©ficit universal):",
            "   - Si K <3.3: dar K antes de insulina (40 mEq/h)",
            "   - Si K 3.3-5.0: agregar 20-40 mEq/L de fluidos",
            "   - Si K >5.0: no agregar, monitorear cada 2h",
            "   - Meta: K 4-5 mEq/L",
            "",
            "4. BICARBONATO (controvertido):",
            "   - Solo si pH <6.9",
            "   - 100 mEq NaHCO3 en 400 mL en 2h",
            "   - Riesgos: hipopotasemia, alcalosis tard√≠a",
            "",
            "5. FOSFATO:",
            "   - Considerar si <1 mg/dL y disfunci√≥n card√≠aca/respiratoria",
            "",
            "6. MONITOREO:",
            "   - Glucosa horaria, electrolitos cada 2-4h",
            "   - Gases/pH cada 2-4h hasta resoluci√≥n",
            "   - Balance h√≠drico estricto",
            "",
            "7. CRITERIOS DE RESOLUCI√ìN:",
            "   - Glucosa <200 mg/dL",
            "   - pH >7.30",
            "   - HCO3 ‚â•18 mEq/L",
            "   - Ani√≥n gap normalizado",
            "",
            "8. TRANSICI√ìN A INSULINA SC:",
            "   - Cuando tolere v√≠a oral y CAD resuelta",
            "   - Dar insulina SC 1-2h ANTES de suspender IV",
            "   - Reiniciar esquema previo o iniciar 0.5-0.7 U/kg/d√≠a",
        ],
        emergency_signs=[
            "Toda CAD es emergencia m√©dica",
            "Signos de mayor gravedad:",
            "  - pH <7.0",
            "  - Alteraci√≥n del nivel de conciencia (coma)",
            "  - Hipotensi√≥n/shock",
            "  - Hipopotasemia severa (<2.5)",
            "  - Arritmias",
            "  - En ni√±os: signos de edema cerebral",
        ],
        prognosis="Mortalidad <1-5% con tratamiento adecuado. Mayor mortalidad en ancianos, coma, comorbilidades. Recurrencia si no se aborda causa desencadenante.",
        follow_up=[
            "Identificar y tratar factor desencadenante",
            "Educaci√≥n diabetol√≥gica intensiva",
            "Ajuste de esquema de insulina",
            "Control en 1-2 semanas post-alta",
            "Evaluaci√≥n de HbA1c",
            "Reglas del d√≠a de enfermedad",
            "Monitoreo de glucosa y cetonas en casa",
        ],
    ),
    # =========================================================================
    # CRISIS HIPERTENSIVA (I16)
    # Fuente: AHA/ACC Guidelines, ESC Guidelines
    # =========================================================================
    "I16": MedicalCondition(
        icd10_code="I16",
        name="Crisis Hipertensiva",
        category="Emergencias",
        description="Elevaci√≥n severa de la presi√≥n arterial (t√≠picamente >180/120 mmHg). Se clasifica en urgencia (sin da√±o de √≥rgano blanco) o emergencia (con da√±o de √≥rgano blanco agudo)",
        symptoms=[
            "URGENCIA HIPERTENSIVA:",
            "  - PA severa sin s√≠ntomas o con s√≠ntomas leves",
            "  - Cefalea",
            "  - Ansiedad",
            "  - Epistaxis",
            "",
            "EMERGENCIA HIPERTENSIVA (s√≠ntomas seg√∫n √≥rgano afectado):",
            "  NEUROL√ìGICO:",
            "    - Cefalea intensa",
            "    - Alteraci√≥n de conciencia, confusi√≥n",
            "    - D√©ficit focal (ACV)",
            "    - Convulsiones (encefalopat√≠a hipertensiva)",
            "    - N√°useas, v√≥mitos",
            "    - Visi√≥n borrosa, papiledema",
            "  CARDIOVASCULAR:",
            "    - Dolor tor√°cico (SCA, disecci√≥n a√≥rtica)",
            "    - Disnea (EAP)",
            "    - Dolor dorsal desgarrante (disecci√≥n)",
            "  RENAL:",
            "    - Oliguria",
            "    - Hematuria",
            "  EMBARAZO:",
            "    - Preeclampsia/eclampsia",
        ],
        risk_factors=[
            "Hipertensi√≥n cr√≥nica mal controlada",
            "No adherencia a tratamiento antihipertensivo",
            "Uso de drogas (coca√≠na, anfetaminas)",
            "Suspensi√≥n abrupta de antihipertensivos (clonidina)",
            "Feocromocitoma",
            "Renovascular (estenosis de arteria renal)",
            "Glomerulonefritis aguda",
            "Preeclampsia/eclampsia",
            "Interacciones medicamentosas (IMAO + tiramina)",
        ],
        complications=[
            "Accidente cerebrovascular (hemorr√°gico o isqu√©mico)",
            "Encefalopat√≠a hipertensiva",
            "S√≠ndrome coronario agudo",
            "Disecci√≥n a√≥rtica",
            "Edema agudo de pulm√≥n",
            "Insuficiencia renal aguda",
            "Eclampsia y complicaciones fetales",
            "Hemorragia retiniana, papiledema",
            "Muerte",
        ],
        diagnostic_criteria=[
            "DEFINICI√ìN:",
            "  - Crisis hipertensiva: PA >180/120 mmHg",
            "  - Urgencia: sin evidencia de da√±o de √≥rgano blanco agudo",
            "  - Emergencia: CON da√±o de √≥rgano blanco agudo",
            "",
            "EVALUACI√ìN DE DA√ëO DE √ìRGANO BLANCO:",
            "  Neurol√≥gico:",
            "    - Examen neurol√≥gico completo",
            "    - Fondo de ojo (hemorragias, exudados, papiledema)",
            "    - TAC/RM cerebral si s√≠ntomas neurol√≥gicos",
            "  Cardiovascular:",
            "    - ECG (isquemia, hipertrofia)",
            "    - Troponinas",
            "    - Rx t√≥rax (cardiomegalia, edema pulmonar)",
            "    - Ecocardiograma (funci√≥n VI, disecci√≥n)",
            "    - AngioTAC si sospecha de disecci√≥n",
            "  Renal:",
            "    - Creatinina, BUN",
            "    - Uroan√°lisis (proteinuria, hematuria)",
            "",
            "LABORATORIO B√ÅSICO:",
            "  - Hemograma (anemia hemol√≠tica microangiop√°tica)",
            "  - Electrolitos, funci√≥n renal",
            "  - Uroan√°lisis",
            "  - Test de embarazo en mujeres en edad f√©rtil",
        ],
        differential_diagnosis=[
            "Ansiedad/p√°nico con HTA reactiva",
            "Dolor con HTA secundaria",
            "Pseudocrisis (manguito inadecuado)",
            "HTA de bata blanca",
            "Hipertensi√≥n secundaria no conocida",
        ],
        treatment_protocol=[
            "PRINCIPIO: Distinguir urgencia de emergencia",
            "",
            "URGENCIA HIPERTENSIVA (sin da√±o de √≥rgano):",
            "  - NO requiere reducci√≥n inmediata ni IV",
            "  - Reducir PA gradualmente en horas a d√≠as",
            "  - Antihipertensivos orales:",
            "    ‚Ä¢ Captopril 25-50 mg VO",
            "    ‚Ä¢ Amlodipino 5-10 mg VO",
            "    ‚Ä¢ Labetalol 200-400 mg VO",
            "    ‚Ä¢ Clonidina 0.1-0.2 mg VO",
            "  - Observaci√≥n 2-6 horas",
            "  - Alta con ajuste de tratamiento y seguimiento",
            "",
            "EMERGENCIA HIPERTENSIVA:",
            "  - Ingreso a UCI/unidad de cuidados intermedios",
            "  - Antihipertensivos IV",
            "  - Meta: reducir PA 10-20% en primera hora",
            "           luego gradualmente en 24-48h",
            "  - Evitar reducci√≥n brusca (isquemia)",
            "",
            "AGENTES IV SEG√öN SITUACI√ìN:",
            "  General:",
            "    - Labetalol IV: bolos 20mg, luego infusi√≥n 2 mg/min",
            "    - Nicardipino IV: 5-15 mg/h (ajuste cada 5-15 min)",
            "    - Nitroprusiato: 0.25-10 Œºg/kg/min (cuidado con toxicidad por cianuro)",
            "  ",
            "  Encefalopat√≠a hipertensiva/ACV isqu√©mico:",
            "    - Labetalol, Nicardipino",
            "    - Meta menos agresiva en ACV: <185/110 si trombolisis",
            "  ",
            "  Hemorragia intracerebral:",
            "    - Nicardipino, Labetalol",
            "    - Meta PAS 140-160 mmHg",
            "  ",
            "  Disecci√≥n a√≥rtica:",
            "    - Beta-bloqueador primero (Esmolol, Labetalol)",
            "    - Meta: FC <60, PAS 100-120 mmHg",
            "  ",
            "  Edema agudo de pulm√≥n:",
            "    - Nitroglicerina IV, Furosemida",
            "    - NO beta-bloqueadores si IC descompensada",
            "  ",
            "  SCA:",
            "    - Nitroglicerina IV, Beta-bloqueador",
            "  ",
            "  Feocromocitoma:",
            "    - Fentolamina IV (alfa-bloqueador)",
            "    - NO beta-bloqueadores solos (crisis)",
            "  ",
            "  Eclampsia:",
            "    - Sulfato de magnesio + Labetalol o Hidralazina",
        ],
        emergency_signs=[
            "TODA emergencia hipertensiva requiere tratamiento inmediato",
            "Signos que indican emergencia:",
            "  - Cefalea severa con alteraci√≥n de conciencia",
            "  - D√©ficit neurol√≥gico focal (ACV)",
            "  - Dolor tor√°cico/dorsal severo (disecci√≥n, SCA)",
            "  - Disnea severa con edema pulmonar",
            "  - Oliguria con elevaci√≥n de creatinina",
            "  - Papiledema, hemorragias retinianas",
            "  - Convulsiones",
        ],
        prognosis="Emergencia hipertensiva no tratada: alta mortalidad. Con tratamiento adecuado: pron√≥stico depende del √≥rgano afectado. Urgencia: excelente si se optimiza tratamiento.",
        follow_up=[
            "Control en 24-72h post-alta (urgencia)",
            "Ajuste de medicaci√≥n antihipertensiva",
            "Evaluaci√≥n de causas secundarias si indicado",
            "Educaci√≥n sobre adherencia y s√≠ntomas de alarma",
            "MAPA (monitoreo ambulatorio) para ajuste de tratamiento",
            "Control de factores de riesgo cardiovascular",
        ],
    ),
    # =========================================================================
    # ESTATUS EPIL√âPTICO (G41)
    # Fuente: ILAE Guidelines, Neurocritical Care Society
    # =========================================================================
    "G41": MedicalCondition(
        icd10_code="G41",
        name="Estatus Epil√©ptico",
        category="Emergencias",
        description="Crisis epil√©ptica que dura >5 minutos o crisis repetidas sin recuperaci√≥n de conciencia entre ellas. Emergencia neurol√≥gica con riesgo de da√±o cerebral permanente y muerte",
        symptoms=[
            "ESTATUS EPIL√âPTICO CONVULSIVO (m√°s com√∫n):",
            "  - Movimientos t√≥nico-cl√≥nicos generalizados",
            "  - P√©rdida de conciencia",
            "  - Cianosis",
            "  - Espuma por boca",
            "  - Incontinencia",
            "  - Mordedura de lengua",
            "",
            "ESTATUS EPIL√âPTICO NO CONVULSIVO:",
            "  - Alteraci√≥n de conciencia prolongada",
            "  - Confusi√≥n, estupor",
            "  - Automatismos sutiles",
            "  - Movimientos oculares anormales",
            "  - Puede pasar desapercibido",
            "",
            "FASES:",
            "  - Fase inicial (<5 min): crisis prolongada",
            "  - Estatus establecido (5-30 min): refractario a primera l√≠nea",
            "  - Estatus refractario (>30 min): requiere anest√©sicos",
            "  - Super-refractario (>24h): contin√∫a pese a anestesia",
        ],
        risk_factors=[
            "CAUSAS EN EPIL√âPTICOS:",
            "  - No adherencia a antiepil√©pticos",
            "  - Cambio de medicaci√≥n",
            "  - Niveles subterap√©uticos",
            "  - Privaci√≥n de sue√±o",
            "  - Alcohol",
            "",
            "CAUSAS EN NO EPIL√âPTICOS:",
            "  - ACV agudo",
            "  - Infecci√≥n del SNC (meningitis, encefalitis)",
            "  - Trauma craneoencef√°lico",
            "  - Trastornos metab√≥licos (hipoglucemia, hiponatremia, uremia)",
            "  - Hipoxia",
            "  - Tumores cerebrales",
            "  - Intoxicaciones (coca√≠na, anfetaminas)",
            "  - Abstinencia (alcohol, benzodiacepinas)",
            "  - Eclampsia",
        ],
        complications=[
            "Da√±o neuronal hip√≥xico",
            "Edema cerebral",
            "Aspiraci√≥n y neumon√≠a",
            "Rabdomi√≥lisis",
            "Hipertermia",
            "Arritmias card√≠acas",
            "Acidosis l√°ctica",
            "Fracturas, luxaciones",
            "D√©ficit neurol√≥gico permanente",
            "Muerte (mortalidad 10-30%)",
        ],
        diagnostic_criteria=[
            "DEFINICI√ìN OPERATIVA (ILAE 2015):",
            "  T1: tiempo a partir del cual crisis se considera 'anormalmente prolongada' = 5 min",
            "  T2: tiempo a partir del cual hay riesgo de secuelas = 30 min",
            "",
            "DIAGN√ìSTICO:",
            "  - Crisis continua >5 minutos, o",
            "  - ‚â•2 crisis sin recuperaci√≥n de conciencia entre ellas",
            "",
            "EEG (electroencefalograma):",
            "  - √ötil para confirmar, especialmente en no convulsivo",
            "  - Monitoreo continuo en UCI",
            "",
            "EVALUACI√ìN ETIOL√ìGICA:",
            "  - Glucosa capilar (inmediato)",
            "  - Electrolitos, funci√≥n renal y hep√°tica",
            "  - Niveles de antiepil√©pticos",
            "  - Gases arteriales, lactato",
            "  - T√≥xicos en orina/sangre",
            "  - TAC cerebral (descartar lesi√≥n estructural)",
            "  - Punci√≥n lumbar (si sospecha infecci√≥n del SNC)",
            "  - RM cerebral (diferido)",
        ],
        differential_diagnosis=[
            "Crisis psic√≥gena no epil√©ptica",
            "S√≠ncope convulsivo",
            "Temblor severo",
            "Diston√≠a aguda",
            "Rigidez de descerebraci√≥n",
            "Mioclon√≠as post-hip√≥xicas",
        ],
        treatment_protocol=[
            "¬°TIEMPO ES CEREBRO! - Cada minuto aumenta morbimortalidad",
            "",
            "FASE INICIAL (0-5 min):",
            "  - ABC: v√≠a a√©rea, ox√≠geno, acceso IV",
            "  - Glucosa capilar (si <60 mg/dL: Dextrosa IV + Tiamina)",
            "  - Monitorizaci√≥n continua",
            "  - Posici√≥n de seguridad",
            "",
            "PRIMERA L√çNEA (5-20 min) - BENZODIACEPINAS:",
            "  - Lorazepam 4 mg IV (0.1 mg/kg) - puede repetir x1",
            "  - Diazepam 10 mg IV (0.15 mg/kg) - puede repetir x1",
            "  - Midazolam 10 mg IM si no acceso IV (0.2 mg/kg)",
            "  - Diazepam rectal si no IV disponible",
            "",
            "SEGUNDA L√çNEA (20-40 min) - ANTIEPIL√âPTICO IV:",
            "  Si persiste tras benzodiacepinas:",
            "  - Fenito√≠na 20 mg/kg IV a 50 mg/min, o",
            "  - Fosfenito√≠na 20 mg PE/kg a 150 mg PE/min, o",
            "  - Levetiracetam 60 mg/kg IV (m√°x 4500 mg), o",
            "  - Valproato 40 mg/kg IV (m√°x 3000 mg), o",
            "  - Lacosamida 400 mg IV",
            "  (Fenito√≠na/Fosfenito√≠na: contraindicada en Brugada, bloqueo AV)",
            "",
            "TERCERA L√çNEA (>40 min) - ESTATUS REFRACTARIO:",
            "  - Intubaci√≥n y ventilaci√≥n mec√°nica",
            "  - Anest√©sicos IV con monitoreo EEG continuo:",
            "    ‚Ä¢ Midazolam infusi√≥n 0.2 mg/kg bolo + 0.05-2 mg/kg/h",
            "    ‚Ä¢ Propofol 2 mg/kg bolo + 30-200 Œºg/kg/min",
            "    ‚Ä¢ Pentobarbital 5-15 mg/kg bolo + 0.5-5 mg/kg/h",
            "  - Meta: supresi√≥n de brotes o abolici√≥n de crisis en EEG",
            "  - Mantener 24-48h, luego destete gradual",
            "",
            "TRATAMIENTO DE CAUSA SUBYACENTE:",
            "  - Antibi√≥ticos si infecci√≥n SNC",
            "  - Corregir electrolitos",
            "  - Revertir t√≥xicos (flumazenil, naloxona con precauci√≥n)",
        ],
        emergency_signs=[
            "TODO estatus epil√©ptico es emergencia m√°xima",
            "Signos de mayor gravedad:",
            "  - Duraci√≥n >30 minutos",
            "  - Hipoxia persistente",
            "  - Hipertermia",
            "  - Acidosis severa",
            "  - Refractariedad a tratamiento",
            "  - Etiolog√≠a grave (encefalitis, ACV, anoxia)",
        ],
        prognosis="Mortalidad 10-30% (mayor en refractario y super-refractario). Secuelas neurol√≥gicas en 10-20%. Mejor pron√≥stico en epil√©pticos con causa reversible.",
        follow_up=[
            "UCI hasta control y destete de sedaci√≥n",
            "EEG de seguimiento",
            "Neuroimagen si no realizada",
            "Optimizaci√≥n de antiepil√©pticos cr√≥nicos",
            "Evaluaci√≥n neuropsicol√≥gica post-alta",
            "Control neurol√≥gico en 2-4 semanas",
            "Restricci√≥n de conducci√≥n seg√∫n normativa",
        ],
    ),
}


def get_all_emergency_conditions():
    """Retorna todas las condiciones de emergencia"""
    return EMERGENCY_CONDITIONS


def get_condition(icd10_code: str):
    """Obtiene una condici√≥n espec√≠fica por c√≥digo ICD-10"""
    return EMERGENCY_CONDITIONS.get(icd10_code)
