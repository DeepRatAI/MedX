#!/usr/bin/env python3
"""
ü´Ä Condiciones Cardiovasculares - Base de Conocimiento Expandida
Basado en: ICD-10-CM 2026, AHA/ACC Guidelines, ESC Guidelines

Cobertura:
- S√≠ndrome Coronario Agudo (I21) ‚úì existente
- Hipertensi√≥n Arterial (I10) ‚úì existente
- Insuficiencia Card√≠aca (I50) ‚úì nuevo
- Fibrilaci√≥n Auricular (I48) ‚úì nuevo
- Embolia Pulmonar (I26) ‚úì nuevo
- Trombosis Venosa Profunda (I80) ‚úì nuevo
- Endocarditis Infecciosa (I33) ‚úì nuevo
- Pericarditis (I30) ‚úì nuevo
"""

from dataclasses import dataclass
from typing import List

# Importar desde el m√≥dulo principal si existe
try:
    from medical_knowledge_base import MedicalCondition
except ImportError:

    @dataclass
    class MedicalCondition:
        """Condici√≥n m√©dica completa"""

        icd10_code: str
        name: str
        category: str
        description: str
        symptoms: List[str]
        risk_factors: List[str]
        complications: List[str]
        diagnostic_criteria: List[str]
        differential_diagnosis: List[str]
        treatment_protocol: List[str]
        emergency_signs: List[str]
        prognosis: str
        follow_up: List[str]


CARDIOVASCULAR_CONDITIONS = {
    # =========================================================================
    # INFARTO AGUDO DE MIOCARDIO (I21)
    # Fuente: ESC Guidelines for STEMI 2023, AHA/ACC NSTEMI 2023
    # =========================================================================
    "I21": MedicalCondition(
        icd10_code="I21",
        name="Infarto Agudo de Miocardio",
        category="Cardiovascular",
        description="Necrosis del miocardio por oclusi√≥n tromb√≥tica de una arteria coronaria, manifest√°ndose como STEMI o NSTEMI seg√∫n cambios electrocardiogr√°ficos",
        symptoms=[
            "Dolor tor√°cico opresivo (>20 min)",
            "Irradiaci√≥n a brazo izquierdo, mand√≠bula, espalda o epigastrio",
            "Diaforesis profusa",
            "Disnea",
            "N√°useas y v√≥mitos",
            "Sensaci√≥n de muerte inminente",
            "S√≠ncope o pres√≠ncope",
            "Fatiga extrema (m√°s com√∫n en mujeres y diab√©ticos)",
            "Presentaci√≥n at√≠pica: dolor abdominal, confusi√≥n (ancianos)",
        ],
        risk_factors=[
            "Hipertensi√≥n arterial",
            "Diabetes mellitus",
            "Dislipidemia (LDL elevado, HDL bajo)",
            "Tabaquismo activo o pasivo",
            "Obesidad y sedentarismo",
            "Antecedentes familiares de enfermedad coronaria precoz",
            "Edad (>45 a√±os hombres, >55 a√±os mujeres)",
            "S√≠ndrome metab√≥lico",
            "Estr√©s cr√≥nico",
            "Consumo de coca√≠na",
        ],
        complications=[
            "Arritmias (FV, TV, bloqueos)",
            "Shock cardiog√©nico",
            "Insuficiencia card√≠aca aguda",
            "Rotura de pared libre o septum",
            "Insuficiencia mitral aguda (rotura de m√∫sculo papilar)",
            "Aneurisma ventricular",
            "Trombosis mural y embolismo",
            "Pericarditis post-infarto (S√≠ndrome de Dressler)",
            "Muerte s√∫bita card√≠aca",
        ],
        diagnostic_criteria=[
            "Elevaci√≥n de troponinas con patr√≥n de ascenso/descenso",
            "STEMI: Elevaci√≥n del ST ‚â•1mm en 2 derivaciones contiguas",
            "NSTEMI: Sin elevaci√≥n ST pero con troponinas elevadas",
            "Nuevo bloqueo de rama izquierda",
            "S√≠ntomas de isquemia mioc√°rdica",
            "Cambios en la motilidad segmentaria (ECO/RMN)",
            "Identificaci√≥n de trombo coronario (coronariograf√≠a)",
        ],
        differential_diagnosis=[
            "Angina inestable",
            "Disecci√≥n a√≥rtica",
            "Embolia pulmonar",
            "Pericarditis aguda",
            "Espasmo coronario (Prinzmetal)",
            "Miocarditis",
            "S√≠ndrome de Tako-Tsubo",
            "Dolor tor√°cico musculoesquel√©tico",
            "ERGE con espasmo esof√°gico",
        ],
        treatment_protocol=[
            "MONA: Morfina, Ox√≠geno, Nitroglicerina, Aspirina (carga 300mg)",
            "Antiagregaci√≥n dual: Aspirina + Inhibidor P2Y12 (clopidogrel/ticagrelor)",
            "Anticoagulaci√≥n: Heparina no fraccionada o enoxaparina",
            "STEMI: Angioplastia primaria <90 min (puerta-bal√≥n) o fibrin√≥lisis",
            "NSTEMI: Estrategia invasiva temprana (<24h) seg√∫n riesgo",
            "Beta-bloqueadores (metoprolol) si no contraindicados",
            "IECA/ARA-II iniciados dentro de 24h",
            "Estatinas alta intensidad (atorvastatina 80mg)",
            "Rehabilitaci√≥n card√≠aca post-alta",
        ],
        emergency_signs=[
            "Dolor tor√°cico persistente >20 minutos",
            "Inestabilidad hemodin√°mica (hipotensi√≥n, shock)",
            "Arritmias ventriculares malignas",
            "Edema agudo de pulm√≥n",
            "Signos de bajo gasto card√≠aco",
        ],
        prognosis="Mortalidad hospitalaria 5-8% con reperfusi√≥n oportuna. FEVI post-infarto determina pron√≥stico a largo plazo. Supervivencia a 5 a√±os >85% con tratamiento √≥ptimo.",
        follow_up=[
            "Ecocardiograma para evaluar FEVI en 6-12 semanas",
            "Control cardiol√≥gico mensual primeros 3 meses",
            "Rehabilitaci√≥n card√≠aca programa completo",
            "Control de factores de riesgo cardiovascular",
            "Adherencia a doble antiagregaci√≥n por 12 meses",
            "Evaluaci√≥n de isquemia residual si s√≠ntomas",
        ],
    ),
    # =========================================================================
    # HIPERTENSI√ìN ARTERIAL (I10)
    # Fuente: ESC/ESH Guidelines 2023, AHA/ACC Hypertension 2023
    # =========================================================================
    "I10": MedicalCondition(
        icd10_code="I10",
        name="Hipertensi√≥n Arterial Esencial",
        category="Cardiovascular",
        description="Elevaci√≥n sostenida de la presi√≥n arterial sist√©mica ‚â•140/90 mmHg (o ‚â•130/80 seg√∫n AHA), principal factor de riesgo cardiovascular modificable",
        symptoms=[
            "Generalmente asintom√°tica (asesino silencioso)",
            "Cefalea occipital matutina",
            "Mareo o v√©rtigo",
            "Ac√∫fenos",
            "Epistaxis",
            "Visi√≥n borrosa",
            "Disnea de esfuerzo",
            "Palpitaciones",
            "Fatiga",
        ],
        risk_factors=[
            "Edad avanzada",
            "Antecedentes familiares de HTA",
            "Raza afrodescendiente",
            "Obesidad (IMC >30)",
            "Alto consumo de sodio",
            "Bajo consumo de potasio",
            "Sedentarismo",
            "Consumo excesivo de alcohol",
            "Estr√©s cr√≥nico",
            "Apnea obstructiva del sue√±o",
            "Diabetes mellitus",
            "Dislipidemia",
        ],
        complications=[
            "Enfermedad coronaria e infarto de miocardio",
            "Insuficiencia card√≠aca",
            "Accidente cerebrovascular isqu√©mico/hemorr√°gico",
            "Enfermedad renal cr√≥nica",
            "Retinopat√≠a hipertensiva",
            "Aneurisma y disecci√≥n a√≥rtica",
            "Enfermedad arterial perif√©rica",
            "Fibrilaci√≥n auricular",
            "Demencia vascular",
        ],
        diagnostic_criteria=[
            "PA ‚â•140/90 mmHg en consultorio (2+ mediciones)",
            "PA ‚â•135/85 mmHg en MAPA (promedio 24h)",
            "PA ‚â•135/85 mmHg en AMPA (promedio domiciliario)",
            "Clasificaci√≥n: Normal (<120/80), Elevada (120-129/<80)",
            "Estadio 1: 130-139/80-89 mmHg",
            "Estadio 2: ‚â•140/90 mmHg",
            "Crisis hipertensiva: ‚â•180/120 mmHg",
        ],
        differential_diagnosis=[
            "HTA de bata blanca",
            "HTA enmascarada",
            "Hipertensi√≥n secundaria:",
            "  - Enfermedad renal parenquimatosa",
            "  - Estenosis arteria renal",
            "  - Feocromocitoma",
            "  - S√≠ndrome de Cushing",
            "  - Hiperaldosteronismo primario",
            "  - Coartaci√≥n a√≥rtica",
            "  - Apnea del sue√±o",
            "HTA inducida por f√°rmacos (AINEs, corticoides)",
        ],
        treatment_protocol=[
            "Modificaciones del estilo de vida:",
            "  - Reducci√≥n de sodio (<2g/d√≠a)",
            "  - Dieta DASH rica en frutas y verduras",
            "  - Ejercicio aer√≥bico 150 min/semana",
            "  - Mantener peso saludable (IMC 18.5-24.9)",
            "  - Moderar alcohol y cesar tabaquismo",
            "Farmacoterapia primera l√≠nea:",
            "  - IECA (enalapril, lisinopril) o ARA-II (losart√°n, valsart√°n)",
            "  - Calcioantagonistas (amlodipino, nifedipino)",
            "  - Diur√©ticos tiaz√≠dicos (hidroclorotiazida, clortalidona)",
            "Combinaciones: IECA/ARA-II + CCB o diur√©tico",
            "Meta: <130/80 mmHg en mayor√≠a de pacientes",
        ],
        emergency_signs=[
            "Crisis hipertensiva ‚â•180/120 mmHg",
            "Encefalopat√≠a hipertensiva (cefalea, confusi√≥n, convulsiones)",
            "Hemorragia intracraneal",
            "Disecci√≥n a√≥rtica aguda",
            "Edema agudo de pulm√≥n hipertensivo",
            "S√≠ndrome coronario agudo",
            "Eclampsia en embarazo",
        ],
        prognosis="Con tratamiento adecuado y control de PA <130/80, reducci√≥n del 20-25% en eventos cardiovasculares. Sin tratamiento, riesgo de complicaciones aumenta exponencialmente.",
        follow_up=[
            "Control mensual hasta alcanzar metas de PA",
            "Posteriormente control cada 3-6 meses",
            "Laboratorios anuales: funci√≥n renal, electrolitos, perfil lip√≠dico",
            "EKG anual para detectar HVI",
            "Fondo de ojo peri√≥dico",
            "Evaluaci√≥n de da√±o de √≥rgano blanco",
        ],
    ),
    # =========================================================================
    # ANGINA DE PECHO (I20)
    # Fuente: ESC Guidelines Chronic Coronary Syndromes 2024
    # =========================================================================
    "I20": MedicalCondition(
        icd10_code="I20",
        name="Angina de Pecho",
        category="Cardiovascular",
        description="S√≠ndrome cl√≠nico de dolor o malestar tor√°cico causado por isquemia mioc√°rdica transitoria, sin necrosis, debido a desbalance entre demanda y aporte de ox√≠geno",
        symptoms=[
            "Dolor tor√°cico opresivo o constrictivo retroesternal",
            "Duraci√≥n t√≠pica 2-10 minutos",
            "Desencadenado por esfuerzo f√≠sico o estr√©s emocional",
            "Alivio con reposo o nitroglicerina sublingual",
            "Irradiaci√≥n a brazo izquierdo, cuello, mand√≠bula",
            "Disnea asociada",
            "Angina equivalente: disnea de esfuerzo aislada (diab√©ticos, ancianos)",
        ],
        risk_factors=[
            "Enfermedad coronaria ateroscler√≥tica",
            "Hipertensi√≥n arterial",
            "Diabetes mellitus",
            "Dislipidemia",
            "Tabaquismo",
            "Obesidad",
            "Antecedentes familiares de cardiopat√≠a isqu√©mica",
            "Edad avanzada",
            "S√≠ndrome metab√≥lico",
        ],
        complications=[
            "Progresi√≥n a angina inestable",
            "Infarto agudo de miocardio",
            "Arritmias",
            "Insuficiencia card√≠aca",
            "Muerte s√∫bita card√≠aca",
        ],
        diagnostic_criteria=[
            "Angina t√≠pica: 3 criterios (retroesternal, desencadenada por esfuerzo, alivia con reposo/NTG)",
            "Angina at√≠pica: 2 de 3 criterios",
            "Dolor no anginoso: 0-1 criterios",
            "ECG: Puede ser normal o mostrar cambios isqu√©micos durante episodio",
            "Prueba de esfuerzo positiva (depresi√≥n ST ‚â•1mm)",
            "Angio-TAC coronario para evaluar anatom√≠a",
            "Coronariograf√≠a para diagn√≥stico definitivo",
        ],
        differential_diagnosis=[
            "ERGE y espasmo esof√°gico",
            "Costocondritis",
            "Dolor musculoesquel√©tico",
            "Ansiedad y trastorno de p√°nico",
            "Pericarditis",
            "Embolia pulmonar",
            "Neumot√≥rax",
            "Disecci√≥n a√≥rtica",
        ],
        treatment_protocol=[
            "Control de factores de riesgo",
            "Antianginosos:",
            "  - Nitroglicerina sublingual para episodios agudos",
            "  - Beta-bloqueadores (primera l√≠nea): metoprolol, bisoprolol",
            "  - Calcioantagonistas: amlodipino, diltiazem",
            "  - Nitratos de acci√≥n prolongada: mononitrato de isosorbide",
            "  - Ranolazina como segunda l√≠nea",
            "Prevenci√≥n secundaria:",
            "  - Aspirina 100mg/d√≠a",
            "  - Estatinas alta intensidad",
            "  - IECA si disfunci√≥n VI o diabetes",
            "Revascularizaci√≥n: seg√∫n anatom√≠a y s√≠ntomas",
        ],
        emergency_signs=[
            "Angina de reposo (angina inestable)",
            "Angina de inicio reciente severa",
            "Angina in crescendo",
            "Duraci√≥n prolongada >20 minutos",
            "No responde a nitroglicerina",
            "S√≠ntomas vegetativos asociados",
        ],
        prognosis="Angina estable: supervivencia a 5 a√±os >90% con tratamiento √≥ptimo. Pron√≥stico depende de extensi√≥n de enfermedad coronaria y funci√≥n ventricular.",
        follow_up=[
            "Control cardiol√≥gico cada 3-6 meses",
            "Prueba de esfuerzo anual o si cambio de s√≠ntomas",
            "Ecocardiograma si deterioro cl√≠nico",
            "Optimizaci√≥n de factores de riesgo",
            "Evaluaci√≥n de calidad de vida y capacidad funcional",
        ],
    ),
    # =========================================================================
    # INSUFICIENCIA CARD√çACA (I50)
    # Fuente: ESC Guidelines for Heart Failure 2021, AHA/ACC 2022
    # =========================================================================
    "I50": MedicalCondition(
        icd10_code="I50",
        name="Insuficiencia Card√≠aca",
        category="Cardiovascular",
        description="S√≠ndrome cl√≠nico caracterizado por la incapacidad del coraz√≥n de mantener un gasto card√≠aco adecuado para las demandas metab√≥licas del organismo",
        symptoms=[
            "Disnea de esfuerzo progresiva",
            "Ortopnea (disnea en dec√∫bito)",
            "Disnea parox√≠stica nocturna",
            "Edema de miembros inferiores bilateral",
            "Fatiga y debilidad",
            "Nicturia",
            "Tos nocturna",
            "Hepatomegalia dolorosa",
            "Distensi√≥n venosa yugular",
            "Aumento de peso (retenci√≥n h√≠drica)",
            "Anorexia, n√°useas",
            "Confusi√≥n (en casos severos)",
        ],
        risk_factors=[
            "Cardiopat√≠a isqu√©mica",
            "Hipertensi√≥n arterial cr√≥nica",
            "Diabetes mellitus",
            "Valvulopat√≠as",
            "Miocardiopat√≠a (dilatada, hipertr√≥fica, restrictiva)",
            "Arritmias cr√≥nicas (FA)",
            "Cardiotoxicidad por quimioterapia",
            "Consumo de alcohol cr√≥nico",
            "Obesidad",
            "Apnea del sue√±o",
            "Enfermedad renal cr√≥nica",
            "Anemia cr√≥nica",
        ],
        complications=[
            "Edema agudo de pulm√≥n",
            "Shock cardiog√©nico",
            "Arritmias ventriculares",
            "Tromboembolismo sist√©mico y pulmonar",
            "Insuficiencia renal (s√≠ndrome cardiorrenal)",
            "Insuficiencia hep√°tica congestiva",
            "Caquexia card√≠aca",
            "Muerte s√∫bita card√≠aca",
        ],
        diagnostic_criteria=[
            "S√≠ntomas t√≠picos de IC (disnea, fatiga, edemas)",
            "Signos de IC (ingurgitaci√≥n yugular, estertores, edema)",
            "Evidencia objetiva de disfunci√≥n card√≠aca:",
            "  - FEVI reducida (<40%) = ICFEr",
            "  - FEVI levemente reducida (40-49%) = ICFEmr",
            "  - FEVI preservada (‚â•50%) = ICFEp",
            "BNP >100 pg/mL o NT-proBNP >300 pg/mL",
            "Ecocardiograma con alteraciones estructurales/funcionales",
            "Clasificaci√≥n funcional NYHA (I-IV)",
        ],
        differential_diagnosis=[
            "EPOC exacerbado",
            "Neumon√≠a",
            "S√≠ndrome nefr√≥tico",
            "Cirrosis hep√°tica",
            "Insuficiencia venosa cr√≥nica",
            "Embolia pulmonar",
            "Anemia severa",
            "Obesidad m√≥rbida",
        ],
        treatment_protocol=[
            "ICFEr (FEVI <40%) - Cu√°druple terapia:",
            "  1. IECA/ARA-II o Sacubitril-Valsart√°n",
            "  2. Beta-bloqueador (Carvedilol, Bisoprolol, Metoprolol)",
            "  3. Antagonista mineralocorticoide (Espironolactona, Eplerenona)",
            "  4. iSGLT2 (Dapagliflozina, Empagliflozina)",
            "Diur√©ticos de asa para congesti√≥n (Furosemida)",
            "Digoxina si FA con respuesta ventricular r√°pida",
            "Restricci√≥n de sodio (<2g/d√≠a) y l√≠quidos (1.5-2L/d√≠a)",
            "Dispositivos: DAI si FEVI ‚â§35%, TRC si BCRI",
            "Trasplante card√≠aco en casos refractarios",
        ],
        emergency_signs=[
            "Edema agudo de pulm√≥n (disnea severa, esputo rosado)",
            "Hipotensi√≥n <90 mmHg sist√≥lica",
            "Saturaci√≥n de O2 <90%",
            "Oliguria <0.5 mL/kg/h",
            "Alteraci√≥n del estado mental",
            "Extremidades fr√≠as y moteadas (shock)",
            "Lactato >2 mmol/L",
        ],
        prognosis="Mortalidad a 5 a√±os 50-75% sin tratamiento √≥ptimo. Con tratamiento actual: supervivencia mejorada significativamente. FEVI es el principal predictor pron√≥stico.",
        follow_up=[
            "Control cada 1-2 semanas hasta estabilizaci√≥n",
            "Luego cada 3-6 meses",
            "Ecocardiograma cada 6-12 meses",
            "Monitoreo de funci√≥n renal y electrolitos",
            "BNP/NT-proBNP para seguimiento",
            "Peso diario por el paciente",
            "Vacunaci√≥n (influenza, neumococo)",
            "Rehabilitaci√≥n card√≠aca",
        ],
    ),
    # =========================================================================
    # FIBRILACI√ìN AURICULAR (I48)
    # Fuente: ESC Guidelines AF 2020, AHA/ACC 2023
    # =========================================================================
    "I48": MedicalCondition(
        icd10_code="I48",
        name="Fibrilaci√≥n Auricular",
        category="Cardiovascular",
        description="Taquiarritmia supraventricular caracterizada por activaci√≥n auricular descoordinada con deterioro consecuente de la funci√≥n mec√°nica auricular",
        symptoms=[
            "Palpitaciones irregulares",
            "Fatiga",
            "Disnea de esfuerzo",
            "Mareos",
            "Dolor o molestia tor√°cica",
            "Ansiedad",
            "S√≠ncope (raro)",
            "Intolerancia al ejercicio",
            "Puede ser asintom√°tica (30-40%)",
        ],
        risk_factors=[
            "Edad avanzada (>65 a√±os)",
            "Hipertensi√≥n arterial",
            "Insuficiencia card√≠aca",
            "Cardiopat√≠a isqu√©mica",
            "Valvulopat√≠a mitral",
            "Hipertiroidismo",
            "Obesidad",
            "Apnea obstructiva del sue√±o",
            "Diabetes mellitus",
            "Enfermedad renal cr√≥nica",
            "Consumo excesivo de alcohol",
            "Cirug√≠a card√≠aca reciente",
        ],
        complications=[
            "Accidente cerebrovascular isqu√©mico (riesgo 5x)",
            "Embolismo sist√©mico",
            "Insuficiencia card√≠aca",
            "Deterioro cognitivo",
            "Disminuci√≥n de calidad de vida",
            "Taquicardiomiopat√≠a",
            "Muerte",
        ],
        diagnostic_criteria=[
            "ECG de 12 derivaciones mostrando:",
            "  - Ausencia de ondas P organizadas",
            "  - Ondas fibrilatorias (ondas f) irregulares",
            "  - Intervalos R-R irregularmente irregulares",
            "  - Frecuencia ventricular variable (t√≠picamente 100-160 lpm sin tratamiento)",
            "Clasificaci√≥n temporal:",
            "  - Parox√≠stica: <7 d√≠as, autolimitada",
            "  - Persistente: >7 d√≠as o requiere cardioversi√≥n",
            "  - Persistente de larga duraci√≥n: >12 meses",
            "  - Permanente: aceptada, sin intentos de ritmo sinusal",
            "Score CHA2DS2-VASc para riesgo tromboemb√≥lico",
        ],
        differential_diagnosis=[
            "Flutter auricular",
            "Taquicardia auricular multifocal",
            "Taquicardia supraventricular",
            "Extras√≠stoles auriculares frecuentes",
            "S√≠ndrome de Wolff-Parkinson-White",
            "Artefacto en ECG",
        ],
        treatment_protocol=[
            "ESTRATEGIA ABC:",
            "A - Anticoagulaci√≥n:",
            "  - CHA2DS2-VASc ‚â•2 (hombres) ‚â•3 (mujeres): Anticoagulaci√≥n",
            "  - ACODs preferidos: Apixab√°n, Rivaroxab√°n, Dabigatr√°n, Edoxab√°n",
            "  - Warfarina si valvulopat√≠a mitral mec√°nica/estenosis moderada-severa",
            "B - Better symptom control (control de s√≠ntomas):",
            "  - Control de frecuencia: Beta-bloqueadores, Verapamilo/Diltiazem, Digoxina",
            "  - Control de ritmo: Cardioversi√≥n, Amiodarona, Flecainida, Propafenona",
            "  - Ablaci√≥n con cat√©ter si falla tratamiento m√©dico",
            "C - Comorbidities (tratar comorbilidades):",
            "  - Control de HTA, DM, IC",
            "  - P√©rdida de peso si obesidad",
            "  - Tratamiento de apnea del sue√±o",
            "  - Reducci√≥n de alcohol",
        ],
        emergency_signs=[
            "Respuesta ventricular r√°pida >150 lpm con inestabilidad",
            "Hipotensi√≥n <90 mmHg",
            "Dolor tor√°cico isqu√©mico",
            "Insuficiencia card√≠aca descompensada",
            "S√≠ncope",
            "Signos de ACV agudo (d√©ficit neurol√≥gico)",
            "Shock cardiog√©nico",
        ],
        prognosis="FA duplica mortalidad y quintuplica riesgo de ACV. Con anticoagulaci√≥n adecuada y control de frecuencia/ritmo, pron√≥stico significativamente mejorado.",
        follow_up=[
            "Control cada 1-3 meses inicialmente",
            "Luego cada 6-12 meses si estable",
            "Monitoreo de INR si warfarina (mensual)",
            "Funci√≥n renal y hep√°tica peri√≥dica con ACODs",
            "Holter anual para evaluar control de frecuencia",
            "Ecocardiograma cada 1-2 a√±os",
            "Evaluaci√≥n de s√≠ntomas (EHRA score)",
        ],
    ),
    # =========================================================================
    # EMBOLIA PULMONAR (I26)
    # Fuente: ESC Guidelines PE 2019, CHEST Guidelines
    # =========================================================================
    "I26": MedicalCondition(
        icd10_code="I26",
        name="Embolia Pulmonar",
        category="Cardiovascular",
        description="Obstrucci√≥n aguda de las arterias pulmonares por trombos, generalmente provenientes del sistema venoso profundo de miembros inferiores",
        symptoms=[
            "Disnea de inicio s√∫bito (73%)",
            "Dolor tor√°cico pleur√≠tico (66%)",
            "Taquipnea (>20 rpm)",
            "Taquicardia",
            "Tos seca o con hemoptisis",
            "S√≠ncope (en EP masiva)",
            "Dolor o edema en miembro inferior (signos de TVP)",
            "Ansiedad",
            "Diaforesis",
            "Cianosis (en casos severos)",
        ],
        risk_factors=[
            "Trombosis venosa profunda previa",
            "Inmovilizaci√≥n prolongada (viajes >6h, hospitalizaci√≥n)",
            "Cirug√≠a reciente (especialmente ortop√©dica)",
            "Traumatismo",
            "C√°ncer activo",
            "Embarazo y puerperio",
            "Anticonceptivos orales/TRH",
            "Obesidad",
            "Tabaquismo",
            "Trombofilias hereditarias (Factor V Leiden, mutaci√≥n protrombina)",
            "Insuficiencia card√≠aca",
            "S√≠ndrome antifosfol√≠pido",
            "Edad avanzada",
        ],
        complications=[
            "Shock obstructivo",
            "Paro cardiorrespiratorio",
            "Infarto pulmonar",
            "Hipertensi√≥n pulmonar tromboemb√≥lica cr√≥nica",
            "Insuficiencia ventricular derecha",
            "Muerte (mortalidad 7-11% a 30 d√≠as sin tratamiento)",
        ],
        diagnostic_criteria=[
            "Evaluaci√≥n de probabilidad cl√≠nica (Wells, Geneva):",
            "  - Wells PE: signos TVP, diagn√≥stico alternativo menos probable, FC>100, inmovilizaci√≥n/cirug√≠a, antecedente TVP/EP, hemoptisis, c√°ncer",
            "D√≠mero D:",
            "  - <500 ng/mL (o ajustado por edad >50: edad x 10) descarta EP si probabilidad baja-intermedia",
            "Angiotomograf√≠a de arterias pulmonares (AngioTAC):",
            "  - Gold standard, visualiza trombos",
            "Gammagraf√≠a V/Q si contraindicaci√≥n a contraste",
            "Ecocardiograma: signos de sobrecarga VD",
            "Troponinas y BNP: estratificaci√≥n pron√≥stica",
        ],
        differential_diagnosis=[
            "S√≠ndrome coronario agudo",
            "Disecci√≥n a√≥rtica",
            "Neumon√≠a",
            "Neumot√≥rax",
            "Pericarditis",
            "Pleuritis",
            "Ansiedad/hiperventilaci√≥n",
            "Exacerbaci√≥n de EPOC/asma",
            "Costocondritis",
        ],
        treatment_protocol=[
            "EP de ALTO RIESGO (shock/hipotensi√≥n):",
            "  - Tromb√≥lisis sist√©mica (Alteplasa 100mg IV en 2h)",
            "  - Anticoagulaci√≥n inmediata con heparina",
            "  - Soporte hemodin√°mico (vasopresores)",
            "  - Considerar embolectom√≠a si tromb√≥lisis contraindicada",
            "EP de RIESGO INTERMEDIO-ALTO:",
            "  - Anticoagulaci√≥n + monitorizaci√≥n estrecha en UCI",
            "  - Tromb√≥lisis de rescate si deterioro",
            "EP de RIESGO BAJO-INTERMEDIO:",
            "  - Anticoagulaci√≥n: HBPM ‚Üí ACODs",
            "  - ACODs directos: Rivaroxab√°n, Apixab√°n (preferidos)",
            "  - Duraci√≥n: 3 meses m√≠nimo, indefinida si factor persistente",
            "PREVENCI√ìN SECUNDARIA:",
            "  - Anticoagulaci√≥n prolongada seg√∫n riesgo-beneficio",
            "  - Medias de compresi√≥n si s√≠ndrome post-tromb√≥tico",
        ],
        emergency_signs=[
            "Hipotensi√≥n sist√≥lica <90 mmHg o ca√≠da >40 mmHg",
            "Shock (extremidades fr√≠as, oliguria, confusi√≥n)",
            "Saturaci√≥n O2 <90%",
            "Paro cardiorrespiratorio",
            "S√≠ncope",
            "Bradicardia severa",
            "Cianosis central",
        ],
        prognosis="Mortalidad 2-4% con tratamiento adecuado. EP masiva sin tratamiento: 30% mortalidad. Riesgo de HPTEC: 2-4%.",
        follow_up=[
            "Control 1-2 semanas post-alta",
            "Evaluaci√≥n a los 3 meses: continuar anticoagulaci√≥n?",
            "B√∫squeda de c√°ncer oculto si EP no provocada",
            "Ecocardiograma a 3-6 meses si disfunci√≥n VD inicial",
            "Despistaje de HPTEC si disnea persistente",
            "Evaluaci√≥n de trombofilias si recurrencia o historia familiar",
        ],
    ),
    # =========================================================================
    # TROMBOSIS VENOSA PROFUNDA (I80)
    # Fuente: ACCP Guidelines 2021, ESC Guidelines VTE
    # =========================================================================
    "I80": MedicalCondition(
        icd10_code="I80",
        name="Trombosis Venosa Profunda",
        category="Cardiovascular",
        description="Formaci√≥n de un trombo en el sistema venoso profundo, m√°s frecuentemente en miembros inferiores",
        symptoms=[
            "Edema unilateral de miembro inferior",
            "Dolor en pantorrilla o muslo",
            "Aumento de temperatura local",
            "Eritema en trayecto venoso",
            "Empastamiento de pantorrilla",
            "Signo de Homans positivo (dolor con dorsiflexi√≥n)",
            "Diferencia de per√≠metro >3cm con miembro contralateral",
            "Cord√≥n venoso palpable",
            "Puede ser asintom√°tica",
        ],
        risk_factors=[
            "Inmovilizaci√≥n prolongada",
            "Cirug√≠a reciente (ortop√©dica, abdominal)",
            "Traumatismo de miembro inferior",
            "C√°ncer activo",
            "Embarazo y puerperio",
            "Anticonceptivos orales/TRH",
            "Obesidad (IMC >30)",
            "Edad >60 a√±os",
            "TVP/EP previa",
            "Trombofilias hereditarias",
            "Viajes prolongados >6 horas",
            "Cat√©ter venoso central",
            "Insuficiencia card√≠aca/respiratoria",
        ],
        complications=[
            "Embolia pulmonar (complicaci√≥n m√°s grave)",
            "S√≠ndrome post-tromb√≥tico (20-50%)",
            "√ölceras venosas cr√≥nicas",
            "Recurrencia de TVP",
            "Hipertensi√≥n pulmonar tromboemb√≥lica cr√≥nica",
            "Gangrena venosa (rara, flegmasia)",
        ],
        diagnostic_criteria=[
            "Score de Wells para TVP:",
            "  - C√°ncer activo (+1), par√°lisis/inmovilizaci√≥n (+1)",
            "  - Reposo en cama >3 d√≠as o cirug√≠a <12 sem (+1)",
            "  - Dolor localizado en trayecto venoso (+1)",
            "  - Edema de toda la extremidad (+1)",
            "  - Edema de pantorrilla >3cm (+1)",
            "  - Edema con f√≥vea (+1), venas colaterales (+1)",
            "  - TVP previa (+1)",
            "  - Diagn√≥stico alternativo m√°s probable (-2)",
            "ALGORITMO DIAGN√ìSTICO:",
            "  - Probabilidad baja + D√≠mero D negativo: excluye TVP",
            "  - Probabilidad alta o D√≠mero D positivo: Ecograf√≠a doppler",
            "Ecograf√≠a doppler venosa: Gold standard",
            "  - Falta de compresibilidad de la vena",
            "  - Ausencia de flujo",
            "  - Visualizaci√≥n directa del trombo",
        ],
        differential_diagnosis=[
            "Celulitis",
            "Rotura de quiste de Baker",
            "Hematoma muscular",
            "Linfedema",
            "Insuficiencia venosa cr√≥nica",
            "S√≠ndrome compartimental",
            "Rotura muscular",
            "Artritis",
        ],
        treatment_protocol=[
            "ANTICOAGULACI√ìN (base del tratamiento):",
            "  - ACODs preferidos: Rivaroxab√°n, Apixab√°n (sin necesidad de HBPM previa)",
            "  - Alternativa: HBPM ‚Üí Warfarina (INR 2-3)",
            "  - Duraci√≥n m√≠nima: 3 meses",
            "DURACI√ìN SEG√öN CONTEXTO:",
            "  - Factor provocador transitorio mayor: 3 meses",
            "  - Factor provocador menor o no provocada: ‚â•3 meses, considerar indefinida",
            "  - C√°ncer activo: HBPM o ACOD indefinido",
            "  - Recurrencia: anticoagulaci√≥n indefinida",
            "MEDIDAS ADICIONALES:",
            "  - Deambulaci√≥n precoz",
            "  - Elevaci√≥n de miembro",
            "  - Medias de compresi√≥n (30-40 mmHg) para prevenir s√≠ndrome post-tromb√≥tico",
            "FILTRO DE VENA CAVA INFERIOR:",
            "  - Solo si anticoagulaci√≥n contraindicada o falla",
        ],
        emergency_signs=[
            "Sospecha de embolia pulmonar (disnea, dolor tor√°cico)",
            "Flegmasia alba dolens (edema masivo, palidez)",
            "Flegmasia cerulea dolens (edema, cianosis, amenaza de gangrena)",
            "Isquemia arterial concomitante",
            "S√≠ndrome compartimental",
        ],
        prognosis="Con anticoagulaci√≥n adecuada: excelente. Riesgo de EP en TVP proximal no tratada: 50%. S√≠ndrome post-tromb√≥tico: 20-50%.",
        follow_up=[
            "Control cl√≠nico a las 2 semanas",
            "INR semanal si warfarina hasta estabilidad",
            "Evaluaci√≥n a 3 meses: duraci√≥n de anticoagulaci√≥n",
            "Funci√≥n renal peri√≥dica con ACODs",
            "Evaluaci√≥n de s√≠ndrome post-tromb√≥tico",
            "B√∫squeda de c√°ncer oculto si TVP no provocada en >40 a√±os",
        ],
    ),
    # =========================================================================
    # ENDOCARDITIS INFECCIOSA (I33)
    # Fuente: ESC Guidelines IE 2015, AHA Guidelines
    # =========================================================================
    "I33": MedicalCondition(
        icd10_code="I33",
        name="Endocarditis Infecciosa",
        category="Cardiovascular",
        description="Infecci√≥n del endocardio valvular o mural, t√≠picamente caracterizada por vegetaciones en las v√°lvulas card√≠acas",
        symptoms=[
            "Fiebre (90%) - puede ser intermitente o persistente",
            "Escalofr√≠os y sudoraci√≥n nocturna",
            "Soplo card√≠aco nuevo o cambiante (85%)",
            "Fatiga y malestar general",
            "P√©rdida de peso",
            "Artralgias y mialgias",
            "Fen√≥menos emb√≥licos:",
            "  - Petequias (conjuntivales, mucosas)",
            "  - Hemorragias en astilla (u√±as)",
            "  - N√≥dulos de Osler (dedos, dolorosos)",
            "  - Manchas de Janeway (palmas/plantas, indoloras)",
            "  - Manchas de Roth (retina)",
            "Esplenomegalia",
            "D√©ficit neurol√≥gico (embolismo cerebral)",
        ],
        risk_factors=[
            "Valvulopat√≠a previa (reum√°tica, degenerativa)",
            "Pr√≥tesis valvular",
            "Endocarditis previa",
            "Cardiopat√≠a cong√©nita",
            "Uso de drogas intravenosas",
            "Cat√©teres venosos centrales",
            "Hemodi√°lisis",
            "Diabetes mellitus",
            "Inmunosupresi√≥n",
            "Mala higiene dental",
            "Procedimientos dentales recientes",
        ],
        complications=[
            "Insuficiencia card√≠aca (causa m√°s com√∫n de mortalidad)",
            "Embolismos sist√©micos (cerebral, espl√©nico, renal)",
            "ACV emb√≥lico",
            "Aneurismas mic√≥ticos",
            "Abscesos perivalvulares",
            "Bloqueo auriculoventricular",
            "Glomerulonefritis",
            "Sepsis",
            "Muerte (mortalidad 15-30%)",
        ],
        diagnostic_criteria=[
            "CRITERIOS DE DUKE MODIFICADOS:",
            "CRITERIOS MAYORES:",
            "  1. Hemocultivos positivos:",
            "     - 2 hemocultivos con microorganismo t√≠pico (S. aureus, S. viridans, HACEK, Enterococcus)",
            "     - Hemocultivos persistentemente positivos",
            "  2. Evidencia de afectaci√≥n endoc√°rdica:",
            "     - Ecocardiograma: vegetaci√≥n, absceso, nueva dehiscencia prot√©sica",
            "     - Nueva regurgitaci√≥n valvular",
            "CRITERIOS MENORES:",
            "  - Predisposici√≥n (condici√≥n card√≠aca, uso drogas IV)",
            "  - Fiebre ‚â•38¬∞C",
            "  - Fen√≥menos vasculares (embolismos, aneurisma mic√≥tico)",
            "  - Fen√≥menos inmunol√≥gicos (Osler, Roth, factor reumatoide)",
            "  - Evidencia microbiol√≥gica que no cumple criterio mayor",
            "DIAGN√ìSTICO: 2 mayores, o 1 mayor + 3 menores, o 5 menores",
        ],
        differential_diagnosis=[
            "Fiebre de origen desconocido",
            "Lupus eritematoso sist√©mico",
            "Fiebre reum√°tica aguda",
            "Neoplasias (linfoma, leucemia)",
            "Tuberculosis",
            "Infecci√≥n de cat√©ter",
            "Osteomielitis",
        ],
        treatment_protocol=[
            "ANTIBIOTICOTERAPIA (4-6 semanas IV):",
            "  - V√°lvula nativa, S. viridans sensible:",
            "    Penicilina G o Ceftriaxona + Gentamicina",
            "  - S. aureus v√°lvula nativa:",
            "    Oxacilina/Nafcilina (o Vancomicina si MRSA) + Gentamicina inicial",
            "  - Pr√≥tesis valvular:",
            "    Vancomicina + Rifampicina + Gentamicina",
            "  - Emp√≠rico: Ampicilina-Sulbactam + Gentamicina (o Vancomicina)",
            "INDICACIONES DE CIRUG√çA:",
            "  - Insuficiencia card√≠aca refractaria",
            "  - Infecci√≥n no controlada (fiebre persistente, extensi√≥n local)",
            "  - Prevenci√≥n de embolismo (vegetaci√≥n grande >10mm)",
            "  - Absceso perivalvular",
            "  - Endocarditis f√∫ngica",
            "PROFILAXIS POST-TRATAMIENTO:",
            "  - Higiene dental rigurosa",
            "  - Profilaxis antes de procedimientos de alto riesgo",
        ],
        emergency_signs=[
            "Insuficiencia card√≠aca aguda",
            "Shock s√©ptico",
            "ACV emb√≥lico",
            "Rotura de aneurisma mic√≥tico",
            "Bloqueo AV completo (extensi√≥n a sistema de conducci√≥n)",
            "Hemoptisis masiva",
        ],
        prognosis="Mortalidad hospitalaria 15-20%. Mayor en EI prot√©sica, S. aureus, insuficiencia card√≠aca, embolismo cerebral. Supervivencia a 5 a√±os: 60-70%.",
        follow_up=[
            "Control semanal durante antibioticoterapia",
            "Ecocardiograma al finalizar tratamiento",
            "Hemocultivos de control",
            "Evaluaci√≥n dental",
            "Control cardiol√≥gico cada 3-6 meses primer a√±o",
            "Educaci√≥n sobre profilaxis de endocarditis",
        ],
    ),
    # =========================================================================
    # PERICARDITIS (I30)
    # Fuente: ESC Guidelines Pericardial Diseases 2015
    # =========================================================================
    "I30": MedicalCondition(
        icd10_code="I30",
        name="Pericarditis Aguda",
        category="Cardiovascular",
        description="Inflamaci√≥n del pericardio, t√≠picamente de etiolog√≠a viral o idiop√°tica, caracterizada por dolor tor√°cico y cambios electrocardiogr√°ficos",
        symptoms=[
            "Dolor tor√°cico pleur√≠tico (>85%):",
            "  - Agudo, lancinante",
            "  - Retroesternal o precordial",
            "  - Empeora con inspiraci√≥n y dec√∫bito",
            "  - Mejora al sentarse e inclinarse hacia adelante",
            "Fiebre (usualmente bajo grado)",
            "Tos seca",
            "Disnea",
            "Malestar general",
            "Pr√≥dromo viral previo (frecuente)",
            "Frote peric√°rdico a la auscultaci√≥n (patognom√≥nico)",
        ],
        risk_factors=[
            "Infecci√≥n viral reciente (Coxsackie, Echovirus, adenovirus)",
            "Tuberculosis (en √°reas end√©micas)",
            "Enfermedad autoinmune (LES, AR)",
            "Insuficiencia renal (uremia)",
            "Post-infarto de miocardio (S√≠ndrome de Dressler)",
            "Post-cirug√≠a card√≠aca o trauma tor√°cico",
            "Neoplasias",
            "Radioterapia tor√°cica",
            "Hipotiroidismo",
        ],
        complications=[
            "Derrame peric√°rdico",
            "Taponamiento card√≠aco",
            "Pericarditis constrictiva",
            "Pericarditis recurrente (20-30%)",
            "Miopericarditis (afectaci√≥n mioc√°rdica asociada)",
        ],
        diagnostic_criteria=[
            "DIAGN√ìSTICO: ‚â•2 de los siguientes criterios:",
            "  1. Dolor tor√°cico t√≠pico (pleur√≠tico, mejora sentado)",
            "  2. Frote peric√°rdico",
            "  3. Cambios ECG:",
            "     - Elevaci√≥n difusa del ST (c√≥ncava hacia arriba)",
            "     - Depresi√≥n del PR",
            "     - Inversi√≥n de ondas T (tard√≠a)",
            "  4. Derrame peric√°rdico nuevo o en aumento",
            "ESTUDIOS COMPLEMENTARIOS:",
            "  - PCR y VSG elevados",
            "  - Leucocitosis leve",
            "  - Troponinas: pueden elevarse si miopericarditis",
            "  - Ecocardiograma: descartar derrame",
            "  - Rx t√≥rax: puede mostrar cardiomegalia si derrame grande",
        ],
        differential_diagnosis=[
            "S√≠ndrome coronario agudo",
            "Embolia pulmonar",
            "Disecci√≥n a√≥rtica",
            "Neumon√≠a",
            "Pleuritis",
            "Costocondritis",
            "Herpes z√≥ster",
            "ERGE",
        ],
        treatment_protocol=[
            "PERICARDITIS NO COMPLICADA (ambulatorio):",
            "  - Reposo relativo (evitar ejercicio hasta resoluci√≥n)",
            "  - AINEs: Ibuprofeno 600mg c/8h o Aspirina 750-1000mg c/8h",
            "    (por 1-2 semanas, luego reducir gradualmente)",
            "  - Colchicina 0.5mg c/12h (3 meses) - reduce recurrencias",
            "  - Protecci√≥n g√°strica",
            "CORTICOIDES (segunda l√≠nea):",
            "  - Solo si contraindicaci√≥n a AINEs/aspirina",
            "  - Prednisona 0.25-0.5 mg/kg/d√≠a con descenso lento",
            "  - Aumentan riesgo de recurrencia",
            "PERICARDITIS RECURRENTE:",
            "  - Colchicina prolongada (‚â•6 meses)",
            "  - Considerar Azatioprina, Anakinra si refractaria",
            "INDICACIONES DE HOSPITALIZACI√ìN:",
            "  - Fiebre alta >38¬∞C",
            "  - Curso subagudo",
            "  - Derrame peric√°rdico grande",
            "  - Elevaci√≥n de troponinas (miopericarditis)",
            "  - Fallo a tratamiento inicial",
        ],
        emergency_signs=[
            "Taponamiento card√≠aco:",
            "  - Hipotensi√≥n",
            "  - Ingurgitaci√≥n yugular",
            "  - Ruidos card√≠acos apagados",
            "  - Taquicardia",
            "  - Pulso parad√≥jico >10 mmHg",
            "Signos de miopericarditis severa",
            "Inestabilidad hemodin√°mica",
        ],
        prognosis="Excelente para pericarditis viral/idiop√°tica. Resoluci√≥n en 1-2 semanas con tratamiento. Recurrencia: 20-30%. Constricci√≥n: <1%.",
        follow_up=[
            "Control a la semana de inicio de tratamiento",
            "Ecocardiograma de control si derrame inicial",
            "PCR/VSG para guiar duraci√≥n del tratamiento",
            "Control al mes y a los 3 meses",
            "Evitar ejercicio intenso hasta normalizaci√≥n de marcadores",
            "Educaci√≥n sobre signos de recurrencia",
        ],
    ),
}


def get_all_cardiovascular_conditions():
    """Retorna todas las condiciones cardiovasculares"""
    return CARDIOVASCULAR_CONDITIONS


def get_condition(icd10_code: str):
    """Obtiene una condici√≥n espec√≠fica por c√≥digo ICD-10"""
    return CARDIOVASCULAR_CONDITIONS.get(icd10_code)
