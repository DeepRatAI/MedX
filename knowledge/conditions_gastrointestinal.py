#!/usr/bin/env python3
"""
ü´Ñ Condiciones Gastrointestinales - Base de Conocimiento Expandida
Basado en: ICD-10-CM 2026, ACG Guidelines, ASGE Guidelines, AGA Guidelines

Cobertura:
- Apendicitis Aguda (K35) ‚úì nuevo
- Colelitiasis y Colecistitis (K80/K81) ‚úì nuevo
- Pancreatitis Aguda (K85) ‚úì nuevo
- Enfermedad por Reflujo Gastroesof√°gico (K21) ‚úì nuevo
- √ölcera P√©ptica (K25/K26/K27) ‚úì nuevo
- Hemorragia Digestiva Alta (K92.0) ‚úì nuevo
- Hemorragia Digestiva Baja (K92.1) ‚úì nuevo
- Obstrucci√≥n Intestinal (K56) ‚úì nuevo
- Enfermedad Inflamatoria Intestinal (K50/K51) ‚úì nuevo
- Cirrosis Hep√°tica (K74) ‚úì nuevo
"""

from dataclasses import dataclass
from typing import List

try:
    from medical_knowledge_base import MedicalCondition
except ImportError:

    @dataclass
    class MedicalCondition:
        """Condici√≥n m√©dica completa"""

        icd10_code: str
        name: str
        category: str
        description: str
        symptoms: List[str]
        risk_factors: List[str]
        complications: List[str]
        diagnostic_criteria: List[str]
        differential_diagnosis: List[str]
        treatment_protocol: List[str]
        emergency_signs: List[str]
        prognosis: str
        follow_up: List[str]


GASTROINTESTINAL_CONDITIONS = {
    # =========================================================================
    # APENDICITIS AGUDA (K35)
    # Fuente: WSES Guidelines 2020, SAGES, ACR Appropriateness Criteria
    # =========================================================================
    "K35": MedicalCondition(
        icd10_code="K35",
        name="Apendicitis Aguda",
        category="Gastrointestinal",
        description="Inflamaci√≥n aguda del ap√©ndice cecal, t√≠picamente causada por obstrucci√≥n luminal por fecalito, hiperplasia linfoide o menos frecuentemente cuerpos extra√±os o tumores",
        symptoms=[
            "Dolor abdominal (secuencia cl√°sica):",
            "  1. Dolor periumbilical inicial vago (visceral)",
            "  2. Migraci√≥n a fosa il√≠aca derecha (6-12h)",
            "  3. Localizaci√≥n en punto de McBurney",
            "Anorexia (casi universal)",
            "N√°useas y v√≥mitos (generalmente post-dolor)",
            "Febr√≠cula (37.5-38¬∞C)",
            "A la exploraci√≥n:",
            "  - Dolor en punto de McBurney (sensibilidad 50-94%)",
            "  - Signo de Blumberg (rebote) positivo",
            "  - Signo de Rovsing (dolor FID al presionar FII)",
            "  - Signo del psoas (dolor al extender cadera)",
            "  - Signo del obturador (dolor al rotar internamente)",
            "  - Defensa muscular localizada",
        ],
        risk_factors=[
            "Edad (pico 10-30 a√±os)",
            "Sexo masculino (ligeramente mayor riesgo)",
            "Dieta baja en fibra",
            "Historia familiar",
            "Infecciones (post-virales)",
            "Cuerpos extra√±os (raro)",
        ],
        complications=[
            "Perforaci√≥n (20-30% al diagn√≥stico)",
            "Absceso periapendicular",
            "Peritonitis localizada y generalizada",
            "Pileflebitis (tromboflebitis portal)",
            "Sepsis",
            "Obstrucci√≥n intestinal por adherencias (post-cirug√≠a)",
            "Infecci√≥n de sitio quir√∫rgico",
        ],
        diagnostic_criteria=[
            "SCORE DE ALVARADO (MANTRELS):",
            "  - Migraci√≥n del dolor (1 punto)",
            "  - Anorexia (1 punto)",
            "  - N√°useas/v√≥mitos (1 punto)",
            "  - Dolor en FID (2 puntos)",
            "  - Rebote positivo (1 punto)",
            "  - Elevaci√≥n de temperatura (1 punto)",
            "  - Leucocitosis >10,000 (2 puntos)",
            "  - Desviaci√≥n izquierda >75% neutr√≥filos (1 punto)",
            "  Interpretaci√≥n:",
            "    - ‚â§4: Baja probabilidad",
            "    - 5-6: Compatible, requiere imagen",
            "    - 7-8: Alta probabilidad",
            "    - 9-10: Muy alta probabilidad",
            "",
            "LABORATORIO:",
            "  - Leucocitosis (10,000-18,000/ŒºL)",
            "  - Neutrofilia con desviaci√≥n izquierda",
            "  - PCR elevada (menos espec√≠fica)",
            "",
            "IMAGEN (si score intermedio o duda):",
            "  - TAC abdomen-pelvis con contraste IV: S>95%, E>95%",
            "    (Gold standard en adultos)",
            "  - Ecograf√≠a: primera elecci√≥n en embarazadas, ni√±os, mujeres j√≥venes",
            "    S 75-90%, signo diana >6mm no compresible",
            "  - RM: alternativa en embarazadas",
        ],
        differential_diagnosis=[
            "Gastroenteritis aguda",
            "Linfadenitis mesent√©rica",
            "Enfermedad inflamatoria p√©lvica",
            "Embarazo ect√≥pico",
            "Quiste ov√°rico roto/torsi√≥n",
            "Endometriosis",
            "Diverticulitis de Meckel",
            "Enfermedad de Crohn",
            "Obstrucci√≥n intestinal",
            "C√≥lico renal derecho",
            "Infecci√≥n urinaria",
            "Diverticulitis cecal",
        ],
        treatment_protocol=[
            "TRATAMIENTO EST√ÅNDAR: APENDICECTOM√çA",
            "  - Laparosc√≥pica preferida (menor morbilidad)",
            "  - Abierta si no disponible o complicaciones locales",
            "  - Idealmente dentro de 24h del diagn√≥stico",
            "",
            "APENDICITIS NO COMPLICADA:",
            "  - Antibi√≥ticos perioperatorios (dosis √∫nica):",
            "    Cefazolina 2g IV + Metronidazol 500mg IV",
            "  - Cirug√≠a temprana",
            "  - Alta a las 24-48h si evoluci√≥n favorable",
            "",
            "APENDICITIS COMPLICADA (perforada/absceso):",
            "  - Antibi√≥ticos de amplio espectro:",
            "    Piperacilina-Tazobactam 4.5g IV c/6h, o",
            "    Ciprofloxacino + Metronidazol",
            "  - Duraci√≥n: 4-7 d√≠as post-cirug√≠a",
            "  - Absceso >3-5cm: considerar drenaje percut√°neo primero",
            "",
            "TRATAMIENTO ANTIBI√ìTICO SOLO (casos seleccionados):",
            "  - Considerar en: apendicitis no complicada en pacientes seleccionados",
            "  - Riesgo de recurrencia: 20-30%",
            "  - Requiere seguimiento estrecho",
        ],
        emergency_signs=[
            "Dolor abdominal severo difuso (peritonitis)",
            "Fiebre alta >38.5¬∞C con taquicardia",
            "Defensa abdominal generalizada",
            "Hipotensi√≥n (shock s√©ptico)",
            "Deterioro r√°pido del estado general",
            "Silencio abdominal (√≠leo)",
        ],
        prognosis="Excelente si tratamiento oportuno. Mortalidad <0.1% no complicada, 0.5-3% si perforada. Complicaciones aumentan con retraso diagn√≥stico.",
        follow_up=[
            "Control post-quir√∫rgico a los 7-14 d√≠as",
            "Revisi√≥n de histopatolog√≠a (descartar neoplasia en >40 a√±os)",
            "Signos de alarma para reconsultar: fiebre, dolor creciente, v√≥mitos",
            "Seguimiento endosc√≥pico si neoplasia apendicular",
        ],
    ),
    # =========================================================================
    # COLECISTITIS AGUDA (K81.0) y COLELITIASIS (K80)
    # Fuente: Tokyo Guidelines 2018 (TG18), WSES 2020
    # =========================================================================
    "K80": MedicalCondition(
        icd10_code="K80",
        name="Colelitiasis con Colecistitis Aguda",
        category="Gastrointestinal",
        description="Inflamaci√≥n aguda de la ves√≠cula biliar, generalmente secundaria a obstrucci√≥n del conducto c√≠stico por un c√°lculo biliar",
        symptoms=[
            "Dolor en hipocondrio derecho/epigastrio:",
            "  - Inicio brusco, severo",
            "  - Constante (no c√≥lico, a diferencia del biliar simple)",
            "  - Duraci√≥n >6 horas",
            "  - Irradiaci√≥n a espalda derecha o esc√°pula",
            "  - Exacerbado por movimiento y respiraci√≥n",
            "Fiebre (38-39¬∞C)",
            "N√°useas y v√≥mitos",
            "Anorexia",
            "A la exploraci√≥n:",
            "  - Signo de Murphy positivo (patognom√≥nico)",
            "  - Defensa en hipocondrio derecho",
            "  - Ves√≠cula palpable (33%)",
            "Ictericia leve (si coledocolitiasis asociada)",
        ],
        risk_factors=[
            "Las 4 F: Female, Forty, Fertile, Fat",
            "Sexo femenino (2-3x)",
            "Edad >40 a√±os",
            "Obesidad (IMC >30)",
            "P√©rdida r√°pida de peso",
            "Embarazo y multiparidad",
            "Anticonceptivos orales/TRH",
            "Diabetes mellitus",
            "Cirrosis hep√°tica",
            "Enfermedad ileal (Crohn, resecci√≥n)",
            "Nutrici√≥n parenteral total",
            "Historia familiar",
        ],
        complications=[
            "Gangrena vesicular (7-20%)",
            "Perforaci√≥n (10% de gangrenosas)",
            "Absceso perivesicular",
            "Colangitis aguda",
            "Pancreatitis biliar",
            "F√≠stula colecistoent√©rica",
            "√çleo biliar",
            "Ves√≠cula de porcelana (riesgo neoplasia)",
            "Sepsis",
        ],
        diagnostic_criteria=[
            "CRITERIOS DIAGN√ìSTICOS TG18:",
            "A. Signos locales de inflamaci√≥n:",
            "  - Signo de Murphy",
            "  - Masa/dolor/defensa en cuadrante superior derecho",
            "B. Signos sist√©micos de inflamaci√≥n:",
            "  - Fiebre (>38¬∞C)",
            "  - PCR elevada",
            "  - Leucocitosis",
            "C. Imagen confirmatoria:",
            "  - Diagn√≥stico definitivo: A + B + C",
            "  - Diagn√≥stico sospechoso: A + B",
            "",
            "LABORATORIO:",
            "  - Leucocitosis (12,000-15,000/ŒºL)",
            "  - PCR elevada",
            "  - Elevaci√≥n leve de bilirrubina y fosfatasa alcalina",
            "  - Transaminasas normales o ligeramente elevadas",
            "",
            "ECOGRAF√çA ABDOMINAL (primera elecci√≥n):",
            "  - Litiasis vesicular",
            "  - Engrosamiento de pared vesicular (>4mm)",
            "  - L√≠quido perivesicular",
            "  - Signo de Murphy ecogr√°fico",
            "  - S 88%, E 80%",
            "",
            "CLASIFICACI√ìN DE SEVERIDAD TG18:",
            "  - Grado I (Leve): sin disfunci√≥n org√°nica",
            "  - Grado II (Moderada): leucocitosis >18,000, masa palpable, s√≠ntomas >72h, inflamaci√≥n local marcada",
            "  - Grado III (Severa): disfunci√≥n org√°nica (cardiovascular, neurol√≥gica, respiratoria, renal, hep√°tica, hematol√≥gica)",
        ],
        differential_diagnosis=[
            "C√≥lico biliar simple",
            "Colangitis aguda",
            "√ölcera p√©ptica perforada",
            "Pancreatitis aguda",
            "Apendicitis (alta)",
            "Hepatitis aguda",
            "Absceso hep√°tico",
            "Neumon√≠a basal derecha",
            "Pielonefritis derecha",
            "S√≠ndrome coronario agudo (IAM inferior)",
        ],
        treatment_protocol=[
            "TRATAMIENTO INICIAL (todas las severidades):",
            "  - NPO (nada por boca)",
            "  - Hidrataci√≥n IV",
            "  - Analgesia: Ketorolaco, Metamizol, opioides si severo",
            "  - Antibi√≥ticos IV:",
            "    Leve-Moderada: Ceftriaxona 1-2g/d√≠a + Metronidazol 500mg c/8h",
            "    Severa: Piperacilina-Tazobactam 4.5g c/6h o Meropenem",
            "",
            "COLECISTECTOM√çA LAPAROSC√ìPICA:",
            "  - GRADO I: Cirug√≠a temprana (<72h, idealmente <24h)",
            "  - GRADO II: Cirug√≠a temprana si posible, o diferida si alto riesgo",
            "  - GRADO III: Primero estabilizar, considerar drenaje vesicular percut√°neo",
            "",
            "COLECISTOSTOM√çA PERCUT√ÅNEA:",
            "  - Indicada en grado III o alto riesgo quir√∫rgico",
            "  - Puente a cirug√≠a diferida",
            "",
            "CPRE:",
            "  - Si coledocolitiasis asociada",
            "  - Pre o post-colecistectom√≠a seg√∫n protocolo institucional",
        ],
        emergency_signs=[
            "Colecistitis gangrenosa o perforada:",
            "  - Fiebre alta >39¬∞C",
            "  - Dolor severo generalizado",
            "  - Defensa abdominal difusa",
            "  - Shock (hipotensi√≥n, taquicardia)",
            "  - Alteraci√≥n del estado mental",
            "Colangitis aguda (Triada de Charcot: fiebre, ictericia, dolor HCD)",
            "P√©ntada de Reynolds (+ shock + confusi√≥n)",
        ],
        prognosis="Excelente con colecistectom√≠a temprana. Mortalidad <1% grado I-II, hasta 10% grado III. Conversi√≥n a abierta: 5-30%.",
        follow_up=[
            "Control a los 7-14 d√≠as post-cirug√≠a",
            "Dieta progresiva, inicialmente baja en grasas",
            "Signos de alarma: ictericia, fiebre, dolor severo",
            "Histopatolog√≠a de ves√≠cula (descartar neoplasia)",
            "Si coledocolitiasis residual: CPRE",
        ],
    ),
    # =========================================================================
    # PANCREATITIS AGUDA (K85)
    # Fuente: Atlanta Classification 2012, ACG Guidelines 2024
    # =========================================================================
    "K85": MedicalCondition(
        icd10_code="K85",
        name="Pancreatitis Aguda",
        category="Gastrointestinal",
        description="Inflamaci√≥n aguda del p√°ncreas con activaci√≥n prematura de enzimas pancre√°ticas y autodigesti√≥n del √≥rgano. Etiolog√≠a biliar y alcoh√≥lica representan >80% de casos",
        symptoms=[
            "Dolor epig√°strico/mesog√°strico:",
            "  - Inicio agudo, severo (pico en minutos a horas)",
            "  - Constante, no c√≥lico",
            "  - Irradiaci√≥n en cintur√≥n a espalda (50%)",
            "  - Empeora con ingesta, mejora al inclinarse hacia adelante",
            "N√°useas y v√≥mitos persistentes",
            "Distensi√≥n abdominal",
            "Fiebre",
            "Taquicardia",
            "Defensa epig√°strica",
            "√çleo paral√≠tico",
            "Signos de gravedad:",
            "  - Equimosis periumbilical (signo de Cullen)",
            "  - Equimosis en flancos (signo de Grey-Turner)",
            "  - Derrame pleural (m√°s frecuente izquierdo)",
            "Ictericia (si biliar)",
        ],
        risk_factors=[
            "ETIOLOG√çA (Mnemot√©cnico: I GET SMASHED):",
            "  I - Idiop√°tica",
            "  G - Gallstones (colelitiasis, 40%)",
            "  E - Etanol (alcohol, 30%)",
            "  T - Trauma/Tumores",
            "  S - Steroids",
            "  M - Mumps (parotiditis) y otros virus",
            "  A - Autoinmune",
            "  S - Scorpion sting, Sphincter of Oddi dysfunction",
            "  H - Hiperlipidemia (TG>1000), Hipercalcemia, Hipotermia",
            "  E - ERCP/CPRE",
            "  D - Drugs (Azatioprina, Valproato, Furosemida, etc.)",
        ],
        complications=[
            "LOCALES:",
            "  - Colecciones l√≠quidas peripancre√°ticas agudas",
            "  - Pseudoquiste pancre√°tico (>4 semanas)",
            "  - Necrosis pancre√°tica est√©ril",
            "  - Necrosis pancre√°tica infectada (walled-off necrosis)",
            "  - Pseudoaneurisma arterial",
            "  - Trombosis portal/espl√©nica",
            "  - Necrosis col√≥nica",
            "SIST√âMICAS:",
            "  - S√≠ndrome de respuesta inflamatoria sist√©mica (SIRS)",
            "  - Falla org√°nica m√∫ltiple",
            "  - SDRA",
            "  - Insuficiencia renal aguda",
            "  - CID",
            "  - Shock",
            "  - Muerte",
        ],
        diagnostic_criteria=[
            "DIAGN√ìSTICO: ‚â•2 de 3 criterios:",
            "  1. Dolor abdominal caracter√≠stico",
            "  2. Lipasa o amilasa ‚â•3x l√≠mite superior normal",
            "  3. Hallazgos de imagen compatibles",
            "",
            "LABORATORIO:",
            "  - Lipasa s√©rica: m√°s espec√≠fica, permanece elevada m√°s tiempo",
            "  - Amilasa s√©rica: eleva m√°s r√°pido, menos espec√≠fica",
            "  - No correlacionan con severidad",
            "  - Leucocitosis, hemoconcentraci√≥n",
            "  - Elevaci√≥n de PCR (pico a las 48-72h)",
            "  - Hipocalcemia, hiperglucemia",
            "  - Alteraci√≥n de funci√≥n hep√°tica (si biliar)",
            "",
            "IMAGEN:",
            "  - TAC con contraste: Gold standard para severidad",
            "    (diferir 72-96h si diagn√≥stico claro para evaluar necrosis)",
            "  - Ecograf√≠a: detectar litiasis biliar",
            "  - RM/CPRM: alternativa a TAC, mejor para ver ductos",
            "",
            "CLASIFICACI√ìN DE ATLANTA 2012:",
            "  - Leve: sin falla org√°nica ni complicaciones locales",
            "  - Moderadamente severa: falla org√°nica transitoria (<48h) o complicaci√≥n local",
            "  - Severa: falla org√°nica persistente (>48h)",
            "",
            "SCORES PRON√ìSTICOS:",
            "  - BISAP (al ingreso): BUN>25, Alteraci√≥n mental, SIRS, Edad>60, Derrame pleural",
            "  - APACHE II, Ranson, CTSI",
        ],
        differential_diagnosis=[
            "√ölcera p√©ptica perforada",
            "Colecistitis aguda",
            "Colangitis aguda",
            "Obstrucci√≥n intestinal",
            "Isquemia mesent√©rica",
            "Infarto agudo de miocardio (inferior)",
            "Disecci√≥n a√≥rtica",
            "Rotura de aneurisma a√≥rtico",
            "Embarazo ect√≥pico",
        ],
        treatment_protocol=[
            "SOPORTE INICIAL (primeras 24-48h cr√≠ticas):",
            "  - Resucitaci√≥n h√≠drica agresiva:",
            "    Ringer lactato 250-500 mL/h (ajustar seg√∫n respuesta)",
            "    Meta: diuresis >0.5 mL/kg/h, normalizar BUN",
            "  - NPO inicial",
            "  - Analgesia: Morfina o Meperidina (NO contraindicados)",
            "  - Ox√≠geno si hipoxemia",
            "  - Monitorizaci√≥n estrecha",
            "",
            "NUTRICI√ìN:",
            "  - Alimentaci√≥n enteral temprana (<24-48h) preferida sobre parenteral",
            "  - Iniciar dieta oral si tolera y sin dolor",
            "  - Sonda nasoyeyunal si v√≥mitos persistentes",
            "",
            "MANEJO ETIOL√ìGICO:",
            "  - Biliar: CPRE urgente (<24h) si colangitis o ictericia obstructiva",
            "  - Colecistectom√≠a en misma hospitalizaci√≥n si biliar leve",
            "  - Alcoh√≥lica: abstinencia, vitaminas B",
            "  - Hipertrigliceridemia: insulina, plasmaf√©resis si TG >1000-2000",
            "",
            "ANTIBI√ìTICOS:",
            "  - NO profil√°cticos de rutina (incluso en necrosis est√©ril)",
            "  - Indicados solo si: infecci√≥n documentada (necrosis infectada, colangitis)",
            "  - Meropenem, Imipenem (buena penetraci√≥n pancre√°tica)",
            "",
            "NECROSIS INFECTADA:",
            "  - Antibi√≥ticos + drenaje",
            "  - Drenaje paso a paso: percut√°neo ‚Üí endosc√≥pico ‚Üí necrosectom√≠a quir√∫rgica",
            "  - Diferir intervenci√≥n >4 semanas si posible",
        ],
        emergency_signs=[
            "Shock (hipotensi√≥n, taquicardia, oliguria)",
            "Disnea severa (SDRA)",
            "Abdomen agudo (peritonitis)",
            "Alteraci√≥n del estado mental",
            "Sangrado gastrointestinal",
            "S√≠ndrome compartimental abdominal",
            "Fiebre alta con deterioro (necrosis infectada)",
        ],
        prognosis="Leve: mortalidad <1%, recuperaci√≥n completa. Severa: mortalidad 10-30%. Necrosis infectada: mayor morbilidad. Recurrencia si causa no corregida.",
        follow_up=[
            "Control a las 2-4 semanas post-alta",
            "Colecistectom√≠a programada si biliar (idealmente misma hospitalizaci√≥n o <2 sem)",
            "Cesaci√≥n de alcohol (esencial)",
            "Control de triglic√©ridos si causa",
            "TAC de control si complicaciones locales",
            "Evaluaci√≥n de funci√≥n pancre√°tica exocrina/endocrina si recurrente",
        ],
    ),
    # =========================================================================
    # ENFERMEDAD POR REFLUJO GASTROESOF√ÅGICO (K21)
    # Fuente: ACG Guidelines GERD 2022, AGA Guidelines
    # =========================================================================
    "K21": MedicalCondition(
        icd10_code="K21",
        name="Enfermedad por Reflujo Gastroesof√°gico (ERGE)",
        category="Gastrointestinal",
        description="Condici√≥n que ocurre cuando el reflujo del contenido g√°strico causa s√≠ntomas molestos y/o complicaciones. Es uno de los trastornos digestivos m√°s prevalentes",
        symptoms=[
            "S√çNTOMAS T√çPICOS:",
            "  - Pirosis (ardor retroesternal ascendente)",
            "  - Regurgitaci√≥n √°cida",
            "  - Peor postprandial, al acostarse",
            "  - Alivio con anti√°cidos",
            "",
            "S√çNTOMAS AT√çPICOS (extraesof√°gicos):",
            "  - Tos cr√≥nica (especialmente nocturna)",
            "  - Laringitis (disfon√≠a matutina)",
            "  - Asma de dif√≠cil control",
            "  - Erosiones dentales",
            "  - Dolor tor√°cico no card√≠aco",
            "  - Globo far√≠ngeo",
            "  - Faringitis recurrente",
            "",
            "S√çNTOMAS DE ALARMA:",
            "  - Disfagia progresiva",
            "  - Odinofagia",
            "  - P√©rdida de peso involuntaria",
            "  - Anemia",
            "  - Hematemesis/melena",
        ],
        risk_factors=[
            "Obesidad (principal factor modificable)",
            "Hernia hiatal",
            "Embarazo",
            "Tabaquismo",
            "Alcohol",
            "Comidas copiosas/grasas",
            "Comida tard√≠a/acostarse post-ingesta",
            "Bebidas carbonatadas, caf√©, chocolate, menta",
            "Medicamentos (calcioantagonistas, nitratos, teofilina, AINEs)",
            "Esclerodermia",
            "Gastroparesia",
        ],
        complications=[
            "Esofagitis erosiva (clasificaci√≥n Los √Ångeles A-D)",
            "Estenosis esof√°gica p√©ptica",
            "Es√≥fago de Barrett (metaplasia intestinal, prec√°ncer)",
            "Adenocarcinoma esof√°gico",
            "Hemorragia esof√°gica",
            "√ölcera esof√°gica",
        ],
        diagnostic_criteria=[
            "DIAGN√ìSTICO CL√çNICO (emp√≠rico):",
            "  - S√≠ntomas t√≠picos (pirosis, regurgitaci√≥n)",
            "  - Sin s√≠ntomas de alarma",
            "  - Respuesta a prueba terap√©utica con IBP",
            "",
            "ENDOSCOPIA INDICADA SI:",
            "  - S√≠ntomas de alarma",
            "  - No respuesta a IBP (8 semanas)",
            "  - M√∫ltiples factores de riesgo para Barrett",
            "  - S√≠ntomas de larga evoluci√≥n (>5 a√±os)",
            "  - Edad >50 a√±os con s√≠ntomas nuevos",
            "",
            "pHMETR√çA/IMPEDANCIOMETR√çA (est√°ndar de referencia):",
            "  - S√≠ntomas refractarios sin esofagitis",
            "  - Pre-cirug√≠a antirreflujo",
            "  - Post-cirug√≠a con s√≠ntomas recurrentes",
            "  - S√≠ntomas at√≠picos sin respuesta a IBP",
            "",
            "CLASIFICACI√ìN ENDOSC√ìPICA (Los √Ångeles):",
            "  - Grado A: erosiones ‚â§5mm",
            "  - Grado B: erosiones >5mm, no confluentes",
            "  - Grado C: erosiones confluentes <75% circunferencia",
            "  - Grado D: erosiones ‚â•75% circunferencia",
        ],
        differential_diagnosis=[
            "Enfermedad coronaria",
            "Esofagitis eosinof√≠lica",
            "Esofagitis infecciosa (CMV, Candida, Herpes)",
            "Esofagitis por p√≠ldoras",
            "Dispepsia funcional",
            "Acalasia",
            "Espasmo esof√°gico difuso",
            "C√°ncer esof√°gico o g√°strico",
        ],
        treatment_protocol=[
            "MODIFICACI√ìN DEL ESTILO DE VIDA:",
            "  - P√©rdida de peso si sobrepeso/obesidad",
            "  - Elevar cabecera de la cama 15-20 cm",
            "  - Evitar acostarse <3h post-cena",
            "  - Evitar comidas copiosas/grasas",
            "  - Cesaci√≥n tab√°quica",
            "  - Evitar alcohol",
            "",
            "TRATAMIENTO FARMACOL√ìGICO:",
            "  1. IBP (inhibidores de bomba de protones) - primera l√≠nea:",
            "     Omeprazol 20mg, Esomeprazol 20mg, Pantoprazol 40mg",
            "     Lansoprazol 30mg, Rabeprazol 20mg - antes del desayuno",
            "     Duraci√≥n: 4-8 semanas, luego a demanda o dosis m√≠nima efectiva",
            "",
            "  2. Antagonistas H2 (alternativa menor potencia):",
            "     Ranitidina, Famotidina (menos usados actualmente)",
            "",
            "  3. Anti√°cidos/Alginatos (alivio sintom√°tico r√°pido):",
            "     Hidr√≥xido de aluminio/magnesio, Gaviscon",
            "",
            "ERGE REFRACTARIA (no respuesta a IBP x 8 sem):",
            "  - Verificar adherencia (30 min antes de comida)",
            "  - IBP 2 veces al d√≠a",
            "  - Confirmar diagn√≥stico: endoscopia, pHmetr√≠a",
            "  - Considerar: esofagitis eosinof√≠lica, trastorno funcional",
            "",
            "CIRUG√çA ANTIRREFLUJO (Funduplicatura):",
            "  - Indicada si: respuesta a IBP pero intolerancia o preferencia",
            "  - S√≠ntomas de regurgitaci√≥n volum√©trica",
            "  - Hernia hiatal grande",
        ],
        emergency_signs=[
            "Disfagia completa (impactaci√≥n alimentaria)",
            "Hematemesis o melena",
            "Dolor tor√°cico severo (descartar SCA)",
            "P√©rdida de peso r√°pida (descartar malignidad)",
            "Odinofagia severa (descartar √∫lcera/perforaci√≥n)",
        ],
        prognosis="Cr√≥nica pero manejable. 80% responden a IBP. Riesgo de Barrett: 10-15% de ERGE cr√≥nica. Riesgo de adenocarcinoma en Barrett: 0.5%/a√±o.",
        follow_up=[
            "Control a las 4-8 semanas de tratamiento",
            "Endoscopia de screening Barrett en ERGE cr√≥nica con factores de riesgo",
            "Vigilancia endosc√≥pica si Barrett (cada 1-3 a√±os seg√∫n displasia)",
            "Intentar reducir a dosis m√≠nima efectiva de IBP",
            "Evaluaci√≥n de s√≠ntomas at√≠picos que no responden",
        ],
    ),
    # =========================================================================
    # HEMORRAGIA DIGESTIVA ALTA (K92.0)
    # Fuente: ACG Guidelines UGI Bleeding 2021, ESGE Guidelines
    # =========================================================================
    "K92.0": MedicalCondition(
        icd10_code="K92.0",
        name="Hemorragia Digestiva Alta",
        category="Gastrointestinal",
        description="Sangrado gastrointestinal originado proximal al ligamento de Treitz. Causas m√°s frecuentes: √∫lcera p√©ptica, v√°rices esof√°gicas, erosiones gastroduodenales, Mallory-Weiss",
        symptoms=[
            "HEMATEMESIS:",
            "  - V√≥mito de sangre roja fresca (sangrado activo/reciente)",
            "  - V√≥mito en 'borra de caf√©' (sangre digerida)",
            "MELENA:",
            "  - Heces negras, alquitranadas, malolientes",
            "  - Indica >50-100 mL de sangre en TGI",
            "HEMATOQUECIA:",
            "  - Sangre roja por recto (HDA masiva con tr√°nsito r√°pido)",
            "",
            "S√çNTOMAS DE HIPOVOLEMIA:",
            "  - Mareos, debilidad",
            "  - Palidez",
            "  - Taquicardia",
            "  - Hipotensi√≥n",
            "  - S√≠ncope",
            "  - Alteraci√≥n mental (shock)",
            "",
            "S√çNTOMAS ASOCIADOS A ETIOLOG√çA:",
            "  - Dolor epig√°strico (√∫lcera)",
            "  - Uso de AINEs/aspirina",
            "  - Alcoholismo, hepatopat√≠a (v√°rices)",
            "  - V√≥mitos previos intensos (Mallory-Weiss)",
        ],
        risk_factors=[
            "CAUSAS NO VARICOSAS (80%):",
            "  - √ölcera p√©ptica (H. pylori, AINEs)",
            "  - Erosiones gastroduodenales",
            "  - Esofagitis erosiva",
            "  - Mallory-Weiss",
            "  - Neoplasias",
            "  - Lesi√≥n de Dieulafoy",
            "  - Malformaciones arteriovenosas",
            "CAUSAS VARICOSAS (20%):",
            "  - Cirrosis hep√°tica",
            "  - Hipertensi√≥n portal",
            "FACTORES DE RIESGO DE SANGRADO:",
            "  - AINEs, aspirina, anticoagulantes, antiplaquetarios",
            "  - Infecci√≥n por H. pylori",
            "  - Edad avanzada",
            "  - Comorbilidades",
            "  - HDA previa",
        ],
        complications=[
            "Shock hipovol√©mico",
            "Falla multiorg√°nica",
            "Aspiraci√≥n",
            "S√≠ndrome coronario agudo (por anemia)",
            "Resangrado",
            "Necesidad de cirug√≠a de emergencia",
            "Muerte (mortalidad 2-10%)",
        ],
        diagnostic_criteria=[
            "EVALUACI√ìN INICIAL:",
            "  - ABC (v√≠a a√©rea, respiraci√≥n, circulaci√≥n)",
            "  - Signos vitales, nivel de conciencia",
            "  - Hemograma urgente (puede ser normal inicialmente)",
            "  - Coagulaci√≥n, funci√≥n hep√°tica, funci√≥n renal",
            "  - Grupo y cruzar sangre",
            "",
            "ESTRATIFICACI√ìN DE RIESGO:",
            "  Glasgow-Blatchford Score (GBS) - pre-endoscopia:",
            "    BUN, Hemoglobina, PAS, FC, Melena, S√≠ncope, Hepatopat√≠a, IC",
            "    - GBS 0-1: muy bajo riesgo, puede manejarse ambulatorio",
            "    - GBS ‚â•6: alto riesgo",
            "",
            "  Rockall Score - post-endoscopia:",
            "    Edad, Shock, Comorbilidades, Diagn√≥stico, Estigmas de sangrado",
            "",
            "ENDOSCOPIA DIGESTIVA ALTA:",
            "  - Diagn√≥stica y terap√©utica",
            "  - Timing:",
            "    ‚Ä¢ Muy alto riesgo/inestable: <12h (idealmente <6h)",
            "    ‚Ä¢ Alto riesgo: <24h",
            "    ‚Ä¢ Bajo riesgo: <72h o ambulatoria",
            "",
            "CLASIFICACI√ìN ENDOSC√ìPICA FORREST (√∫lceras):",
            "  - Ia: Sangrado arterial activo - alto riesgo",
            "  - Ib: Sangrado en napa - alto riesgo",
            "  - IIa: Vaso visible no sangrante - alto riesgo",
            "  - IIb: Co√°gulo adherido - riesgo intermedio",
            "  - IIc: Mancha pigmentada - bajo riesgo",
            "  - III: Base limpia - bajo riesgo",
        ],
        differential_diagnosis=[
            "Hemorragia digestiva baja",
            "Epistaxis deglutida",
            "Hemoptisis",
            "Ingesta de hierro/bismuto (heces oscuras)",
            "Ingesta de remolacha (heces rojizas)",
        ],
        treatment_protocol=[
            "RESUCITACI√ìN INICIAL:",
            "  - 2 v√≠as perif√©ricas gruesas (16-18G)",
            "  - Cristaloides (meta PAS >90, FC <100, diuresis >0.5 mL/kg/h)",
            "  - Transfusi√≥n si Hb <7 g/dL (umbral <8 en coronarios)",
            "  - Plaquetas si <50,000 con sangrado activo",
            "  - Reversi√≥n de anticoagulaci√≥n si indicado",
            "  - Protecci√≥n de v√≠a a√©rea si alteraci√≥n mental o hematemesis masiva",
            "",
            "TRATAMIENTO FARMACOL√ìGICO PRE-ENDOSCOPIA:",
            "  - IBP IV en bolo + infusi√≥n (Omeprazol 80mg bolo, luego 8mg/h x 72h)",
            "    (o 40mg c/12h si no infusi√≥n disponible)",
            "  - Procin√©tico: Eritromicina 250mg IV 30-90 min pre-EGD (mejora visualizaci√≥n)",
            "",
            "SANGRADO VARICOSO (sospecha o confirmado):",
            "  - Terlipresina 2mg IV c/4h o Octre√≥tido 50Œºg bolo + 50Œºg/h",
            "  - Antibi√≥ticos profil√°cticos: Ceftriaxona 1g/d√≠a x 7 d√≠as",
            "",
            "TRATAMIENTO ENDOSC√ìPICO:",
            "  - Sangrado no varicoso: inyecci√≥n (adrenalina), clips, termocoagulaci√≥n",
            "  - Sangrado varicoso: ligadura con bandas (elecci√≥n), escleroterapia",
            "  - Hemospray/polvos hemost√°ticos",
            "",
            "POST-ENDOSCOPIA:",
            "  - IBP oral dosis alta x 8-12 semanas",
            "  - Erradicaci√≥n H. pylori si positivo",
            "  - Suspender/evaluar AINEs, anticoagulantes",
            "",
            "FRACASO ENDOSC√ìPICO/RESANGRADO:",
            "  - Segunda endoscopia",
            "  - Angioembolizaci√≥n",
            "  - Cirug√≠a",
            "  - TIPS si sangrado varicoso refractario",
        ],
        emergency_signs=[
            "Hematemesis masiva con inestabilidad",
            "Shock hipovol√©mico (PAS <90, FC >120, palidez, sudoraci√≥n)",
            "S√≠ncope",
            "Alteraci√≥n del estado mental",
            "Sangrado activo con ca√≠da de hemoglobina",
            "Signos de aspiraci√≥n",
        ],
        prognosis="Mortalidad global 2-10%. Mayor en: edad avanzada, comorbilidades, sangrado varicoso, resangrado, necesidad de cirug√≠a. La mayor√≠a cesa espont√°neamente.",
        follow_up=[
            "Control de hemoglobina post-estabilizaci√≥n",
            "Endoscopia de control a las 6-8 semanas (si √∫lcera g√°strica, para biopsias y confirmar cicatrizaci√≥n)",
            "Test de H. pylori y erradicaci√≥n",
            "Evaluaci√≥n de necesidad de anticoagulaci√≥n/AINEs",
            "Prevenci√≥n secundaria con IBP si factores de riesgo persistentes",
            "Profilaxis secundaria de v√°rices (betabloqueadores, ligadura programada)",
        ],
    ),
    # =========================================================================
    # OBSTRUCCI√ìN INTESTINAL (K56)
    # Fuente: WSES Guidelines, ACG Guidelines
    # =========================================================================
    "K56": MedicalCondition(
        icd10_code="K56",
        name="Obstrucci√≥n Intestinal",
        category="Gastrointestinal",
        description="Interrupci√≥n mec√°nica o funcional del tr√°nsito intestinal. Puede ser completa o parcial, de intestino delgado (m√°s frecuente) o grueso",
        symptoms=[
            "S√çNTOMAS CARDINALES:",
            "  - Dolor abdominal c√≥lico (intermitente)",
            "  - Distensi√≥n abdominal",
            "  - N√°useas y v√≥mitos:",
            "    ‚Ä¢ Precoces y biliosos (obstrucci√≥n alta)",
            "    ‚Ä¢ Tard√≠os y fecaloides (obstrucci√≥n baja)",
            "  - Ausencia de evacuaci√≥n de gases y heces (obstrucci√≥n completa)",
            "",
            "EXPLORACI√ìN F√çSICA:",
            "  - Distensi√≥n abdominal",
            "  - Timpanismo",
            "  - Ruidos hidroa√©reos de lucha (met√°licos, incrementados)",
            "  - Silencio abdominal (√≠leo o necrosis)",
            "  - Cicatrices quir√∫rgicas",
            "  - Hernias (inguinal, femoral, umbilical)",
            "  - Masas abdominales",
            "  - Tacto rectal: ampolla vac√≠a, masa, sangre",
        ],
        risk_factors=[
            "INTESTINO DELGADO (80% de obstrucciones):",
            "  - Adherencias post-quir√∫rgicas (60-75%)",
            "  - Hernias (inguinal, femoral, incisional)",
            "  - Neoplasias",
            "  - Enfermedad de Crohn",
            "  - Bezoares",
            "  - Cuerpos extra√±os",
            "  - Intususcepci√≥n",
            "  - V√≥lvulo",
            "INTESTINO GRUESO:",
            "  - Neoplasias (60%)",
            "  - V√≥lvulo (sigmoide, cecal)",
            "  - Diverticulitis",
            "  - Impactaci√≥n fecal",
            "  - Hernias",
        ],
        complications=[
            "Deshidrataci√≥n y alteraciones electrol√≠ticas",
            "Estrangulaci√≥n (compromiso vascular)",
            "Necrosis intestinal",
            "Perforaci√≥n",
            "Peritonitis",
            "Sepsis",
            "Shock",
            "Falla multiorg√°nica",
            "Muerte",
        ],
        diagnostic_criteria=[
            "RADIOGRAF√çA SIMPLE DE ABDOMEN:",
            "  - Niveles hidroa√©reos m√∫ltiples",
            "  - Dilataci√≥n de asas (ID >3cm, colon >6cm, ciego >9cm)",
            "  - Signo de 'pila de monedas' (v√°lvulas conniventes)",
            "  - Ausencia de gas en recto",
            "",
            "TAC ABDOMEN CON CONTRASTE (est√°ndar):",
            "  - Punto de transici√≥n",
            "  - Causa de obstrucci√≥n",
            "  - Signos de estrangulaci√≥n:",
            "    ‚Ä¢ Engrosamiento de pared",
            "    ‚Ä¢ Falta de realce mucoso",
            "    ‚Ä¢ L√≠quido libre",
            "    ‚Ä¢ Signo del remolino (v√≥lvulo)",
            "    ‚Ä¢ Neumatosis intestinal",
            "",
            "LABORATORIO:",
            "  - Leucocitosis (m√°s elevada si estrangulaci√≥n)",
            "  - Lactato elevado (isquemia)",
            "  - Alteraciones electrol√≠ticas (hipopotasemia, alcalosis)",
            "  - Elevaci√≥n de creatinina (deshidrataci√≥n)",
            "",
            "CLASIFICACI√ìN:",
            "  - Parcial vs. Completa",
            "  - Simple vs. Estrangulada",
            "  - Alta vs. Baja",
        ],
        differential_diagnosis=[
            "√çleo paral√≠tico (pseudo-obstrucci√≥n)",
            "S√≠ndrome de Ogilvie",
            "Gastroparesia",
            "Impactaci√≥n fecal",
            "Apendicitis",
            "Diverticulitis",
            "Pancreatitis aguda",
            "Isquemia mesent√©rica",
            "C√≥lico renal",
        ],
        treatment_protocol=[
            "MANEJO INICIAL (todas las obstrucciones):",
            "  - NPO",
            "  - SNG a derivaci√≥n (descompresi√≥n)",
            "  - Reposici√≥n de l√≠quidos y electrolitos IV",
            "  - Sonda vesical (monitoreo de diuresis)",
            "  - Analgesia",
            "",
            "OBSTRUCCI√ìN DE INTESTINO DELGADO POR ADHERENCIAS:",
            "  - Manejo conservador inicial (48-72h) si:",
            "    ‚Ä¢ Obstrucci√≥n parcial",
            "    ‚Ä¢ Sin signos de estrangulaci√≥n",
            "    ‚Ä¢ Sin cirug√≠a reciente",
            "  - Contraste hidrosoluble (Gastrografin):",
            "    ‚Ä¢ Diagn√≥stico (si llega a colon en 24h ‚Üí resoluci√≥n probable)",
            "    ‚Ä¢ Puede ser terap√©utico (efecto osm√≥tico)",
            "",
            "CIRUG√çA URGENTE/EMERGENTE indicada si:",
            "  - Signos de estrangulaci√≥n o peritonitis",
            "  - Hernia incarcerada/estrangulada",
            "  - Obstrucci√≥n completa sin mejor√≠a en 48-72h",
            "  - Obstrucci√≥n de asa cerrada",
            "  - Neumatosis intestinal o gas portal",
            "",
            "OBSTRUCCI√ìN DE INTESTINO GRUESO:",
            "  - Evaluaci√≥n oncol√≥gica si neoplasia",
            "  - Stent endosc√≥pico como puente a cirug√≠a (si indicado)",
            "  - Cirug√≠a: resecci√≥n, colostom√≠a/ileostom√≠a",
            "",
            "V√ìLVULO DE SIGMOIDES:",
            "  - Descompresi√≥n endosc√≥pica inicial (si viable)",
            "  - Sigmoidectom√≠a electiva/urgente",
        ],
        emergency_signs=[
            "Signos de ESTRANGULACI√ìN:",
            "  - Dolor abdominal continuo (no c√≥lico)",
            "  - Fiebre >38¬∞C",
            "  - Taquicardia persistente",
            "  - Leucocitosis marcada",
            "  - Acidosis metab√≥lica/lactato elevado",
            "  - Signos peritoneales (defensa, rebote)",
            "  - Deterioro cl√≠nico",
            "Obstrucci√≥n de asa cerrada",
            "Neumatosis intestinal",
        ],
        prognosis="Sin estrangulaci√≥n: buen pron√≥stico. Con estrangulaci√≥n: mortalidad 10-30%. Recurrencia de obstrucci√≥n por adherencias: 10-30%.",
        follow_up=[
            "Control post-quir√∫rgico seg√∫n procedimiento",
            "Dieta progresiva con resoluci√≥n del √≠leo",
            "Evaluaci√≥n oncol√≥gica si neoplasia",
            "Prevenci√≥n de adherencias (membrana anti-adherencia en cirug√≠a)",
            "Educaci√≥n sobre signos de recurrencia",
        ],
    ),
    # =========================================================================
    # CIRROSIS HEP√ÅTICA (K74)
    # Fuente: AASLD Guidelines, EASL Guidelines
    # =========================================================================
    "K74": MedicalCondition(
        icd10_code="K74",
        name="Cirrosis Hep√°tica",
        category="Gastrointestinal",
        description="Estadio avanzado de fibrosis hep√°tica con distorsi√≥n de la arquitectura hep√°tica, n√≥dulos de regeneraci√≥n e hipertensi√≥n portal. Representa la v√≠a final com√∫n de m√∫ltiples hepatopat√≠as cr√≥nicas",
        symptoms=[
            "CIRROSIS COMPENSADA (puede ser asintom√°tica):",
            "  - Fatiga",
            "  - Debilidad",
            "  - P√©rdida de peso",
            "  - Anorexia",
            "  - Molestia en hipocondrio derecho",
            "",
            "CIRROSIS DESCOMPENSADA:",
            "  - Ictericia",
            "  - Ascitis (distensi√≥n abdominal)",
            "  - Edema de miembros inferiores",
            "  - Encefalopat√≠a hep√°tica (confusi√≥n, asterixis)",
            "  - Hemorragia digestiva (v√°rices)",
            "",
            "SIGNOS F√çSICOS:",
            "  - Hepatomegalia (inicial) o h√≠gado peque√±o (avanzado)",
            "  - Esplenomegalia",
            "  - Eritema palmar",
            "  - Ara√±as vasculares (telangiectasias)",
            "  - Ginecomastia",
            "  - Atrofia testicular",
            "  - P√©rdida de vello corporal",
            "  - U√±as de Muehrcke, u√±as de Terry",
            "  - Contractura de Dupuytren (alcoh√≥lica)",
            "  - Circulaci√≥n colateral abdominal (cabeza de medusa)",
            "  - Fetor hep√°tico",
        ],
        risk_factors=[
            "ETIOLOG√çA:",
            "  - Alcohol (30-40%)",
            "  - Hepatitis C cr√≥nica (25-30%)",
            "  - Enfermedad hep√°tica grasa no alcoh√≥lica/MASH (20-25%)",
            "  - Hepatitis B cr√≥nica",
            "  - Hepatitis autoinmune",
            "  - Colangitis biliar primaria",
            "  - Colangitis esclerosante primaria",
            "  - Hemocromatosis",
            "  - Enfermedad de Wilson",
            "  - D√©ficit de alfa-1 antitripsina",
            "  - Cirrosis biliar secundaria",
            "  - Cirrosis card√≠aca",
            "  - Cirrosis criptog√©nica",
        ],
        complications=[
            "HIPERTENSI√ìN PORTAL y sus consecuencias:",
            "  - V√°rices esof√°gicas y g√°stricas (hemorragia)",
            "  - Ascitis",
            "  - S√≠ndrome hepatorrenal",
            "  - Encefalopat√≠a hep√°tica",
            "  - Peritonitis bacteriana espont√°nea (PBE)",
            "  - Esplenomegalia e hiperesplenismo",
            "OTRAS:",
            "  - Carcinoma hepatocelular (riesgo 1-8%/a√±o)",
            "  - S√≠ndrome hepatopulmonar",
            "  - Hipertensi√≥n portopulmonar",
            "  - Coagulopat√≠a",
            "  - Desnutrici√≥n",
            "  - Osteoporosis",
        ],
        diagnostic_criteria=[
            "DIAGN√ìSTICO:",
            "  - Biopsia hep√°tica (gold standard, no siempre necesaria)",
            "  - Hallazgos cl√≠nicos + imagen + laboratorio",
            "",
            "LABORATORIO:",
            "  - Transaminasas: normales o elevadas",
            "  - Fosfatasa alcalina y GGT elevadas",
            "  - Bilirrubina elevada (descompensada)",
            "  - Alb√∫mina baja (<3.5 g/dL)",
            "  - Tiempo de protrombina/INR prolongado",
            "  - Plaquetas bajas (<150,000 - hiperesplenismo)",
            "  - Globulinas elevadas",
            "",
            "IMAGEN:",
            "  - Ecograf√≠a: h√≠gado nodular, heterog√©neo, esplenomegalia, ascitis",
            "  - Elastograf√≠a hep√°tica (Fibroscan): >12-14 kPa sugiere cirrosis",
            "  - TAC/RM: n√≥dulos, signos de hipertensi√≥n portal",
            "",
            "ENDOSCOPIA:",
            "  - Screening de v√°rices esof√°gicas",
            "",
            "CLASIFICACI√ìN DE CHILD-PUGH:",
            "  Par√°metros: Bilirrubina, Alb√∫mina, INR, Ascitis, Encefalopat√≠a",
            "  - Clase A (5-6 puntos): compensada, buena funci√≥n",
            "  - Clase B (7-9 puntos): compromiso moderado",
            "  - Clase C (10-15 puntos): descompensada, mala funci√≥n",
            "",
            "SCORE MELD:",
            "  - Bilirrubina, INR, Creatinina",
            "  - Predictor de mortalidad a 90 d√≠as",
            "  - Usado para priorizaci√≥n de trasplante",
        ],
        differential_diagnosis=[
            "Insuficiencia card√≠aca derecha",
            "Pericarditis constrictiva",
            "S√≠ndrome de Budd-Chiari",
            "Carcinomatosis peritoneal",
            "S√≠ndrome nefr√≥tico",
            "Tuberculosis peritoneal",
        ],
        treatment_protocol=[
            "MANEJO ETIOL√ìGICO:",
            "  - Abstinencia absoluta de alcohol",
            "  - Tratamiento de hepatitis B/C",
            "  - Control de s√≠ndrome metab√≥lico (MASH)",
            "  - Tratamiento de hepatitis autoinmune",
            "  - Quelaci√≥n de hierro (hemocromatosis)",
            "",
            "MANEJO DE COMPLICACIONES:",
            "",
            "V√ÅRICES ESOF√ÅGICAS:",
            "  - Profilaxis primaria: betabloqueadores no selectivos (propranolol, carvedilol)",
            "    o ligadura endosc√≥pica si v√°rices grandes o manchas rojas",
            "  - Hemorragia aguda: resucitaci√≥n + octre√≥tido/terlipresina + ligadura urgente",
            "",
            "ASCITIS:",
            "  - Restricci√≥n de sodio (<2g/d√≠a)",
            "  - Diur√©ticos: Espironolactona 100mg + Furosemida 40mg (ratio 100:40)",
            "  - Paracentesis evacuadora si ascitis a tensi√≥n (+ alb√∫mina si >5L)",
            "  - TIPS si refractaria",
            "",
            "PERITONITIS BACTERIANA ESPONT√ÅNEA:",
            "  - Ceftriaxona 2g/d√≠a o Cefotaxima IV x 5 d√≠as",
            "  - Alb√∫mina IV d√≠a 1 y 3",
            "  - Profilaxis secundaria: Norfloxacino 400mg/d√≠a",
            "",
            "ENCEFALOPAT√çA HEP√ÅTICA:",
            "  - Identificar y tratar precipitantes",
            "  - Lactulosa 15-30mL c/8h (meta: 2-3 deposiciones blandas/d√≠a)",
            "  - Rifaximina 550mg c/12h (prevenci√≥n de recurrencia)",
            "",
            "SCREENING DE HEPATOCARCINOMA:",
            "  - Ecograf√≠a + AFP cada 6 meses",
            "",
            "TRASPLANTE HEP√ÅTICO:",
            "  - Cirrosis descompensada (MELD ‚â•15)",
            "  - Hepatocarcinoma dentro de criterios de Mil√°n",
        ],
        emergency_signs=[
            "Hemorragia digestiva por v√°rices",
            "Encefalopat√≠a hep√°tica grado III-IV (coma)",
            "Peritonitis bacteriana espont√°nea",
            "S√≠ndrome hepatorrenal",
            "Sepsis",
            "Falla hep√°tica aguda sobre cr√≥nica (ACLF)",
        ],
        prognosis="Variable seg√∫n estadio. Child A: supervivencia a 5 a√±os 80-90%. Child C: supervivencia a 1 a√±o 35-45%. MELD predice mortalidad a corto plazo. Trasplante puede ser curativo.",
        follow_up=[
            "Child A: control cada 6 meses",
            "Child B-C: control cada 3 meses o m√°s frecuente",
            "Endoscopia de screening: al diagn√≥stico, luego seg√∫n hallazgos",
            "Ecograf√≠a + AFP cada 6 meses (HCC)",
            "Evaluaci√≥n para trasplante hep√°tico si indicado",
            "Vacunaci√≥n (hepatitis A y B, influenza, neumococo)",
            "Evitar nefrot√≥xicos, sedantes, AINEs",
        ],
    ),
}


def get_all_gastrointestinal_conditions():
    """Retorna todas las condiciones gastrointestinales"""
    return GASTROINTESTINAL_CONDITIONS


def get_condition(icd10_code: str):
    """Obtiene una condici√≥n espec√≠fica por c√≥digo ICD-10"""
    return GASTROINTESTINAL_CONDITIONS.get(icd10_code)
