# =============================================================================
# MedeX - Environment Configuration Example
# Copy this file to .env and customize for your deployment
# =============================================================================

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
MEDEX_ENV=production
MEDEX_LOG_LEVEL=INFO
MEDEX_DEBUG=false

# -----------------------------------------------------------------------------
# API Configuration
# -----------------------------------------------------------------------------
MEDEX_API_PORT=8000
MEDEX_API_HOST=0.0.0.0
MEDEX_API_WORKERS=4

# API Key (generate with: python -c "import secrets; print(secrets.token_urlsafe(32))")
MEDEX_API_KEY=your-secure-api-key-here

# Rate Limiting (requests per minute)
MEDEX_RATE_LIMIT=60

# -----------------------------------------------------------------------------
# UI Configuration
# -----------------------------------------------------------------------------
MEDEX_UI_PORT=8501
MEDEX_UI_HOST=0.0.0.0

# -----------------------------------------------------------------------------
# Security
# -----------------------------------------------------------------------------
# JWT Secret (generate with: openssl rand -hex 32)
MEDEX_JWT_SECRET=your-jwt-secret-here
MEDEX_JWT_ALGORITHM=HS256
MEDEX_JWT_EXPIRATION_MINUTES=30

# CORS Origins (comma-separated)
MEDEX_CORS_ORIGINS=http://localhost:8501,http://localhost:3000

# -----------------------------------------------------------------------------
# AI Model Configuration
# -----------------------------------------------------------------------------
# Moonshot/Kimi API
MOONSHOT_API_KEY=your-moonshot-api-key-here
MOONSHOT_MODEL=moonshot-v1-8k

# OpenAI (optional fallback)
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4

# Embedding Model
EMBEDDING_MODEL=all-MiniLM-L6-v2

# -----------------------------------------------------------------------------
# Database (PostgreSQL 16 - Required for V2)
# -----------------------------------------------------------------------------
MEDEX_POSTGRES_HOST=localhost
MEDEX_POSTGRES_PORT=5432
MEDEX_POSTGRES_DB=medex
MEDEX_POSTGRES_USER=medex
MEDEX_POSTGRES_PASSWORD=medex_secure_password

# Connection pool settings
MEDEX_POSTGRES_POOL_SIZE=10
MEDEX_POSTGRES_MAX_OVERFLOW=20
MEDEX_POSTGRES_POOL_TIMEOUT=30
MEDEX_POSTGRES_POOL_RECYCLE=1800
MEDEX_DB_ECHO=false

# -----------------------------------------------------------------------------
# Redis 7 - Cache & Sessions
# -----------------------------------------------------------------------------
MEDEX_REDIS_HOST=localhost
MEDEX_REDIS_PORT=6379
MEDEX_REDIS_DB=0
MEDEX_REDIS_PASSWORD=
MEDEX_REDIS_PREFIX=medex:
MEDEX_REDIS_MAX_CONNECTIONS=50

# -----------------------------------------------------------------------------
# Qdrant - Vector Database for RAG
# -----------------------------------------------------------------------------
MEDEX_QDRANT_HOST=localhost
MEDEX_QDRANT_HTTP_PORT=6333
MEDEX_QDRANT_GRPC_PORT=6334
MEDEX_EMBEDDING_MODEL=all-MiniLM-L6-v2
MEDEX_EMBEDDING_DIMENSION=384
MEDEX_QDRANT_CONDITIONS_COLLECTION=medex_conditions
MEDEX_QDRANT_MEDICATIONS_COLLECTION=medex_medications

# -----------------------------------------------------------------------------
# Cache Configuration
# -----------------------------------------------------------------------------
MEDEX_CACHE_TTL=3600
MEDEX_CACHE_MAX_SIZE=1000

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
MEDEX_LOG_FORMAT=json
MEDEX_LOG_FILE=/app/logs/medex.log

# -----------------------------------------------------------------------------
# Docker Registry (for deployment)
# -----------------------------------------------------------------------------
DOCKER_REGISTRY=
MEDEX_VERSION=1.0.0
